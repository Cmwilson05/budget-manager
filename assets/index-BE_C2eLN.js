(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function E0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ec={exports:{}},Zi={};var om;function T0(){if(om)return Zi;om=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:r,type:l,key:f,ref:u!==void 0?u:null,props:d}}return Zi.Fragment=n,Zi.jsx=i,Zi.jsxs=i,Zi}var um;function A0(){return um||(um=1,Ec.exports=T0()),Ec.exports}var p=A0(),Tc={exports:{}},ge={};var cm;function O0(){if(cm)return ge;cm=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function E(_){return _===null||typeof _!="object"?null:(_=S&&_[S]||_["@@iterator"],typeof _=="function"?_:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,M={};function H(_,j,O){this.props=_,this.context=j,this.refs=M,this.updater=O||R}H.prototype.isReactComponent={},H.prototype.setState=function(_,j){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,j,"setState")},H.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function V(){}V.prototype=H.prototype;function B(_,j,O){this.props=_,this.context=j,this.refs=M,this.updater=O||R}var G=B.prototype=new V;G.constructor=B,N(G,H.prototype),G.isPureReactComponent=!0;var Q=Array.isArray;function K(){}var L={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function de(_,j,O){var I=O.ref;return{$$typeof:r,type:_,key:j,ref:I!==void 0?I:null,props:O}}function Re(_,j){return de(_.type,j,_.props)}function ye(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function Ce(_){var j={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(O){return j[O]})}var P=/\/+/g;function re(_,j){return typeof _=="object"&&_!==null&&_.key!=null?Ce(""+_.key):j.toString(36)}function me(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(K,K):(_.status="pending",_.then(function(j){_.status==="pending"&&(_.status="fulfilled",_.value=j)},function(j){_.status==="pending"&&(_.status="rejected",_.reason=j)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function D(_,j,O,I,W){var F=typeof _;(F==="undefined"||F==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(F){case"bigint":case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case r:case n:le=!0;break;case b:return le=_._init,D(le(_._payload),j,O,I,W)}}if(le)return W=W(_),le=I===""?"."+re(_,0):I,Q(W)?(O="",le!=null&&(O=le.replace(P,"$&/")+"/"),D(W,j,O,"",function(_e){return _e})):W!=null&&(ye(W)&&(W=Re(W,O+(W.key==null||_&&_.key===W.key?"":(""+W.key).replace(P,"$&/")+"/")+le)),j.push(W)),1;le=0;var ve=I===""?".":I+":";if(Q(_))for(var he=0;he<_.length;he++)I=_[he],F=ve+re(I,he),le+=D(I,j,O,F,W);else if(he=E(_),typeof he=="function")for(_=he.call(_),he=0;!(I=_.next()).done;)I=I.value,F=ve+re(I,he++),le+=D(I,j,O,F,W);else if(F==="object"){if(typeof _.then=="function")return D(me(_),j,O,I,W);throw j=String(_),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return le}function J(_,j,O){if(_==null)return _;var I=[],W=0;return D(_,I,"","",function(F){return j.call(O,F,W++)}),I}function ne(_){if(_._status===-1){var j=_._result;j=j(),j.then(function(O){(_._status===0||_._status===-1)&&(_._status=1,_._result=O)},function(O){(_._status===0||_._status===-1)&&(_._status=2,_._result=O)}),_._status===-1&&(_._status=0,_._result=j)}if(_._status===1)return _._result.default;throw _._result}var fe=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},be={map:J,forEach:function(_,j,O){J(_,function(){j.apply(this,arguments)},O)},count:function(_){var j=0;return J(_,function(){j++}),j},toArray:function(_){return J(_,function(j){return j})||[]},only:function(_){if(!ye(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ge.Activity=w,ge.Children=be,ge.Component=H,ge.Fragment=i,ge.Profiler=u,ge.PureComponent=B,ge.StrictMode=l,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ge.__COMPILER_RUNTIME={__proto__:null,c:function(_){return L.H.useMemoCache(_)}},ge.cache=function(_){return function(){return _.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(_,j,O){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var I=N({},_.props),W=_.key;if(j!=null)for(F in j.key!==void 0&&(W=""+j.key),j)!Z.call(j,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&j.ref===void 0||(I[F]=j[F]);var F=arguments.length-2;if(F===1)I.children=O;else if(1<F){for(var le=Array(F),ve=0;ve<F;ve++)le[ve]=arguments[ve+2];I.children=le}return de(_.type,W,I)},ge.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},ge.createElement=function(_,j,O){var I,W={},F=null;if(j!=null)for(I in j.key!==void 0&&(F=""+j.key),j)Z.call(j,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(W[I]=j[I]);var le=arguments.length-2;if(le===1)W.children=O;else if(1<le){for(var ve=Array(le),he=0;he<le;he++)ve[he]=arguments[he+2];W.children=ve}if(_&&_.defaultProps)for(I in le=_.defaultProps,le)W[I]===void 0&&(W[I]=le[I]);return de(_,F,W)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(_){return{$$typeof:m,render:_}},ge.isValidElement=ye,ge.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:ne}},ge.memo=function(_,j){return{$$typeof:v,type:_,compare:j===void 0?null:j}},ge.startTransition=function(_){var j=L.T,O={};L.T=O;try{var I=_(),W=L.S;W!==null&&W(O,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(K,fe)}catch(F){fe(F)}finally{j!==null&&O.types!==null&&(j.types=O.types),L.T=j}},ge.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ge.use=function(_){return L.H.use(_)},ge.useActionState=function(_,j,O){return L.H.useActionState(_,j,O)},ge.useCallback=function(_,j){return L.H.useCallback(_,j)},ge.useContext=function(_){return L.H.useContext(_)},ge.useDebugValue=function(){},ge.useDeferredValue=function(_,j){return L.H.useDeferredValue(_,j)},ge.useEffect=function(_,j){return L.H.useEffect(_,j)},ge.useEffectEvent=function(_){return L.H.useEffectEvent(_)},ge.useId=function(){return L.H.useId()},ge.useImperativeHandle=function(_,j,O){return L.H.useImperativeHandle(_,j,O)},ge.useInsertionEffect=function(_,j){return L.H.useInsertionEffect(_,j)},ge.useLayoutEffect=function(_,j){return L.H.useLayoutEffect(_,j)},ge.useMemo=function(_,j){return L.H.useMemo(_,j)},ge.useOptimistic=function(_,j){return L.H.useOptimistic(_,j)},ge.useReducer=function(_,j,O){return L.H.useReducer(_,j,O)},ge.useRef=function(_){return L.H.useRef(_)},ge.useState=function(_){return L.H.useState(_)},ge.useSyncExternalStore=function(_,j,O){return L.H.useSyncExternalStore(_,j,O)},ge.useTransition=function(){return L.H.useTransition()},ge.version="19.2.3",ge}var dm;function id(){return dm||(dm=1,Tc.exports=O0()),Tc.exports}var A=id();const ee=E0(A);var Ac={exports:{}},Wi={},Oc={exports:{}},Rc={};var fm;function R0(){return fm||(fm=1,(function(r){function n(D,J){var ne=D.length;D.push(J);e:for(;0<ne;){var fe=ne-1>>>1,be=D[fe];if(0<u(be,J))D[fe]=J,D[ne]=be,ne=fe;else break e}}function i(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var J=D[0],ne=D.pop();if(ne!==J){D[0]=ne;e:for(var fe=0,be=D.length,_=be>>>1;fe<_;){var j=2*(fe+1)-1,O=D[j],I=j+1,W=D[I];if(0>u(O,ne))I<be&&0>u(W,O)?(D[fe]=W,D[I]=ne,fe=I):(D[fe]=O,D[j]=ne,fe=j);else if(I<be&&0>u(W,ne))D[fe]=W,D[I]=ne,fe=I;else break e}}return J}function u(D,J){var ne=D.sortIndex-J.sortIndex;return ne!==0?ne:D.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],v=[],b=1,w=null,S=3,E=!1,R=!1,N=!1,M=!1,H=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function G(D){for(var J=i(v);J!==null;){if(J.callback===null)l(v);else if(J.startTime<=D)l(v),J.sortIndex=J.expirationTime,n(g,J);else break;J=i(v)}}function Q(D){if(N=!1,G(D),!R)if(i(g)!==null)R=!0,K||(K=!0,Ce());else{var J=i(v);J!==null&&me(Q,J.startTime-D)}}var K=!1,L=-1,Z=5,de=-1;function Re(){return M?!0:!(r.unstable_now()-de<Z)}function ye(){if(M=!1,K){var D=r.unstable_now();de=D;var J=!0;try{e:{R=!1,N&&(N=!1,V(L),L=-1),E=!0;var ne=S;try{t:{for(G(D),w=i(g);w!==null&&!(w.expirationTime>D&&Re());){var fe=w.callback;if(typeof fe=="function"){w.callback=null,S=w.priorityLevel;var be=fe(w.expirationTime<=D);if(D=r.unstable_now(),typeof be=="function"){w.callback=be,G(D),J=!0;break t}w===i(g)&&l(g),G(D)}else l(g);w=i(g)}if(w!==null)J=!0;else{var _=i(v);_!==null&&me(Q,_.startTime-D),J=!1}}break e}finally{w=null,S=ne,E=!1}J=void 0}}finally{J?Ce():K=!1}}}var Ce;if(typeof B=="function")Ce=function(){B(ye)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,re=P.port2;P.port1.onmessage=ye,Ce=function(){re.postMessage(null)}}else Ce=function(){H(ye,0)};function me(D,J){L=H(function(){D(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(D){D.callback=null},r.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<D?Math.floor(1e3/D):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(D){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var ne=S;S=J;try{return D()}finally{S=ne}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(D,J){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ne=S;S=D;try{return J()}finally{S=ne}},r.unstable_scheduleCallback=function(D,J,ne){var fe=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,D){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ne+be,D={id:b++,callback:J,priorityLevel:D,startTime:ne,expirationTime:be,sortIndex:-1},ne>fe?(D.sortIndex=ne,n(v,D),i(g)===null&&D===i(v)&&(N?(V(L),L=-1):N=!0,me(Q,ne-fe))):(D.sortIndex=be,n(g,D),R||E||(R=!0,K||(K=!0,Ce()))),D},r.unstable_shouldYield=Re,r.unstable_wrapCallback=function(D){var J=S;return function(){var ne=S;S=J;try{return D.apply(this,arguments)}finally{S=ne}}}})(Rc)),Rc}var hm;function C0(){return hm||(hm=1,Oc.exports=R0()),Oc.exports}var Cc={exports:{}},Tt={};var gm;function j0(){if(gm)return Tt;gm=1;var r=id();function n(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,v,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:g,containerInfo:v,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Tt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Tt.createPortal=function(g,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return d(g,v,null,b)},Tt.flushSync=function(g){var v=f.T,b=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=v,l.p=b,l.d.f()}},Tt.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(g,v))},Tt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Tt.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var b=v.as,w=m(b,v.crossOrigin),S=typeof v.integrity=="string"?v.integrity:void 0,E=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?l.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:E}):b==="script"&&l.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:E,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Tt.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=m(v.as,v.crossOrigin);l.d.M(g,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(g)},Tt.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,w=m(b,v.crossOrigin);l.d.L(g,b,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Tt.preloadModule=function(g,v){if(typeof g=="string")if(v){var b=m(v.as,v.crossOrigin);l.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(g)},Tt.requestFormReset=function(g){l.d.r(g)},Tt.unstable_batchedUpdates=function(g,v){return g(v)},Tt.useFormState=function(g,v,b){return f.H.useFormState(g,v,b)},Tt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Tt.version="19.2.3",Tt}var mm;function av(){if(mm)return Cc.exports;mm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Cc.exports=j0(),Cc.exports}var vm;function N0(){if(vm)return Wi;vm=1;var r=C0(),n=id(),i=av();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return g(o),e;if(c===s)return g(o),t;c=c.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=c;else{for(var h=!1,y=o.child;y;){if(y===a){h=!0,a=o,s=c;break}if(y===s){h=!0,s=o,a=c;break}y=y.sibling}if(!h){for(y=c.child;y;){if(y===a){h=!0,a=c,s=o;break}if(y===s){h=!0,s=c,a=o;break}y=y.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),B=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),Re=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var P=Symbol.for("react.client.reference");function re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===P?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case H:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case K:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case B:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case L:return t=e.displayName||null,t!==null?t:re(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var me=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},fe=[],be=-1;function _(e){return{current:e}}function j(e){0>be||(e.current=fe[be],fe[be]=null,be--)}function O(e,t){be++,fe[be]=e.current,e.current=t}var I=_(null),W=_(null),F=_(null),le=_(null);function ve(e,t){switch(O(F,t),O(W,e),O(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ng(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ng(t),e=Dg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(I),O(I,e)}function he(){j(I),j(W),j(F)}function _e(e){e.memoizedState!==null&&O(le,e);var t=I.current,a=Dg(t,e.type);t!==a&&(O(W,e),O(I,a))}function Ye(e){W.current===e&&(j(I),j(W)),le.current===e&&(j(le),Ii._currentValue=ne)}var ht,Dn;function gt(e){if(ht===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ht=t&&t[1]||"",Dn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+e+Dn}var xn=!1;function En(e,t){if(!e||xn)return"";xn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),h=c[0],y=c[1];if(h&&y){var x=h.split(`
`),U=y.split(`
`);for(o=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;if(s===x.length||o===U.length)for(s=x.length-1,o=U.length-1;1<=s&&0<=o&&x[s]!==U[o];)o--;for(;1<=s&&0<=o;s--,o--)if(x[s]!==U[o]){if(s!==1||o!==1)do if(s--,o--,0>o||x[s]!==U[o]){var $=`
`+x[s].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=s&&0<=o);break}}}finally{xn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?gt(a):""}function ws(e,t){switch(e.tag){case 26:case 27:case 5:return gt(e.type);case 16:return gt("Lazy");case 13:return e.child!==t&&t!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return En(e.type,!1);case 11:return En(e.type.render,!1);case 1:return En(e.type,!0);case 31:return gt("Activity");default:return""}}function ii(e){try{var t="",a=null;do t+=ws(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ja=Object.prototype.hasOwnProperty,Zt=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,nr=r.unstable_shouldYield,_s=r.unstable_requestPaint,St=r.unstable_now,fo=r.unstable_getCurrentPriorityLevel,Ss=r.unstable_ImmediatePriority,kn=r.unstable_UserBlockingPriority,hn=r.unstable_NormalPriority,Na=r.unstable_LowPriority,si=r.unstable_IdlePriority,Tn=r.log,xs=r.unstable_setDisableYieldValue,Da=null,At=null;function Wt(e){if(typeof Tn=="function"&&xs(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Da,e)}catch{}}var xt=Math.clz32?Math.clz32:go,ho=Math.log,Es=Math.LN2;function go(e){return e>>>=0,e===0?32:31-(ho(e)/Es|0)|0}var ar=256,rr=262144,Qe=4194304;function Ze(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ut(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~c,s!==0?o=Ze(s):(h&=y,h!==0?o=Ze(h):a||(a=y&~e,a!==0&&(o=Ze(a))))):(y=s&~c,y!==0?o=Ze(y):h!==0?o=Ze(h):a||(a=s&~e,a!==0&&(o=Ze(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Rt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ct(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var e=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),e}function jt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ft(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rt(e,t,a,s,o,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,x=e.expirationTimes,U=e.hiddenUpdates;for(a=h&~a;0<a;){var $=31-xt(a),X=1<<$;y[$]=0,x[$]=-1;var z=U[$];if(z!==null)for(U[$]=null,$=0;$<z.length;$++){var q=z[$];q!==null&&(q.lane&=-536870913)}a&=~X}s!==0&&gn(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function gn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function qt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-xt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Pt(e,t){var a=t&-t;return a=(a&42)!==0?1:Un(a),(a&(e.suspendedLanes|t))!==0?0:a}function Un(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function mn(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:tm(e.type))}function aa(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var en=Math.random().toString(36).slice(2),mt="__reactFiber$"+en,Nt="__reactProps$"+en,ir="__reactContainer$"+en,mo="__reactEvents$"+en,hy="__reactListeners$"+en,gy="__reactHandles$"+en,yd="__reactResources$"+en,li="__reactMarker$"+en;function vo(e){delete e[mt],delete e[Nt],delete e[mo],delete e[hy],delete e[gy]}function sr(e){var t=e[mt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ir]||a[mt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=qg(e);e!==null;){if(a=e[mt])return a;e=qg(e)}return t}e=a,a=e.parentNode}return null}function lr(e){if(e=e[mt]||e[ir]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function oi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function or(e){var t=e[yd];return t||(t=e[yd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[li]=!0}var pd=new Set,bd={};function ka(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(bd[e]=t,e=0;e<t.length;e++)pd.add(t[e])}var my=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wd={},_d={};function vy(e){return ja.call(_d,e)?!0:ja.call(wd,e)?!1:my.test(e)?_d[e]=!0:(wd[e]=!0,!1)}function Ts(e,t,a){if(vy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function As(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function zn(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yy(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){a=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){if(!e._valueTracker){var t=Sd(e)?"checked":"value";e._valueTracker=yy(e,t,""+e[t])}}function xd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Sd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var py=/[\n"\\]/g;function nn(e){return e.replace(py,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function po(e,t,a,s,o,c,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tn(t)):e.value!==""+tn(t)&&(e.value=""+tn(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?bo(e,h,tn(t)):a!=null?bo(e,h,tn(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+tn(y):e.removeAttribute("name")}function Ed(e,t,a,s,o,c,h,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){yo(e);return}a=a!=null?""+tn(a):"",t=t!=null?""+tn(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),yo(e)}function bo(e,t,a){t==="number"&&Os(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Td(e,t,a){if(t!=null&&(t=""+tn(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+tn(a):""}function Ad(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(me(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=tn(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),yo(e)}function dr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var by=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||by.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Rd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Od(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Od(e,c,t[c])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_y=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return _y.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var _o=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,hr=null;function Cd(e){var t=lr(e);if(t&&(e=t.stateNode)){var a=e[Nt]||null;e:switch(e=t.stateNode,t.type){case"input":if(po(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+nn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Nt]||null;if(!o)throw Error(l(90));po(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&xd(s)}break e;case"textarea":Td(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&cr(e,!!a.multiple,t,!1)}}}var xo=!1;function jd(e,t,a){if(xo)return e(t,a);xo=!0;try{var s=e(t);return s}finally{if(xo=!1,(fr!==null||hr!==null)&&(ml(),fr&&(t=fr,e=hr,hr=fr=null,Cd(t),e)))for(t=0;t<e.length;t++)Cd(e[t])}}function ui(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Nt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=!1;if(Ln)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Eo=!1}var ra=null,To=null,Cs=null;function Nd(){if(Cs)return Cs;var e,t=To,a=t.length,s,o="value"in ra?ra.value:ra.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var h=a-e;for(s=1;s<=h&&t[a-s]===o[c-s];s++);return Cs=o.slice(e,1<s?1-s:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ns(){return!0}function Dd(){return!1}function Dt(e){function t(a,s,o,c,h){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ns:Dd,this.isPropagationStopped=Dd,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),t}var Ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ds=Dt(Ua),di=w({},Ua,{view:0,detail:0}),Sy=Dt(di),Ao,Oo,fi,ks=w({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Ao=e.screenX-fi.screenX,Oo=e.screenY-fi.screenY):Oo=Ao=0,fi=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),kd=Dt(ks),xy=w({},ks,{dataTransfer:0}),Ey=Dt(xy),Ty=w({},di,{relatedTarget:0}),Ro=Dt(Ty),Ay=w({},Ua,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=Dt(Ay),Ry=w({},Ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cy=Dt(Ry),jy=w({},Ua,{data:0}),Ud=Dt(jy),Ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ky[e])?!!t[e]:!1}function Co(){return Uy}var My=w({},di,{key:function(e){if(e.key){var t=Ny[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zy=Dt(My),By=w({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Md=Dt(By),Ly=w({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),qy=Dt(Ly),Hy=w({},Ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=Dt(Hy),Gy=w({},ks,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vy=Dt(Gy),Ky=w({},Ua,{newState:0,oldState:0}),Yy=Dt(Ky),Iy=[9,13,27,32],jo=Ln&&"CompositionEvent"in window,hi=null;Ln&&"documentMode"in document&&(hi=document.documentMode);var Xy=Ln&&"TextEvent"in window&&!hi,zd=Ln&&(!jo||hi&&8<hi&&11>=hi),Bd=" ",Ld=!1;function qd(e,t){switch(e){case"keyup":return Iy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function Jy(e,t){switch(e){case"compositionend":return Hd(t);case"keypress":return t.which!==32?null:(Ld=!0,Bd);case"textInput":return e=t.data,e===Bd&&Ld?null:e;default:return null}}function Qy(e,t){if(gr)return e==="compositionend"||!jo&&qd(e,t)?(e=Nd(),Cs=To=ra=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zy[e.type]:t==="textarea"}function Gd(e,t,a,s){fr?hr?hr.push(s):hr=[s]:fr=s,t=Sl(t,"onChange"),0<t.length&&(a=new Ds("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var gi=null,mi=null;function Wy(e){Tg(e,0)}function Us(e){var t=oi(e);if(xd(t))return e}function Vd(e,t){if(e==="change")return t}var Kd=!1;if(Ln){var No;if(Ln){var Do="oninput"in document;if(!Do){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Do=typeof Yd.oninput=="function"}No=Do}else No=!1;Kd=No&&(!document.documentMode||9<document.documentMode)}function Id(){gi&&(gi.detachEvent("onpropertychange",Xd),mi=gi=null)}function Xd(e){if(e.propertyName==="value"&&Us(mi)){var t=[];Gd(t,mi,e,So(e)),jd(Wy,t)}}function Fy(e,t,a){e==="focusin"?(Id(),gi=t,mi=a,gi.attachEvent("onpropertychange",Xd)):e==="focusout"&&Id()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Us(mi)}function ep(e,t){if(e==="click")return Us(t)}function tp(e,t){if(e==="input"||e==="change")return Us(t)}function np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:np;function vi(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!ja.call(t,o)||!Ht(e[o],t[o]))return!1}return!0}function Jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qd(e,t){var a=Jd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jd(a)}}function Zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Os(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Os(e.document)}return t}function ko(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ap=Ln&&"documentMode"in document&&11>=document.documentMode,mr=null,Uo=null,yi=null,Mo=!1;function Fd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mo||mr==null||mr!==Os(s)||(s=mr,"selectionStart"in s&&ko(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yi&&vi(yi,s)||(yi=s,s=Sl(Uo,"onSelect"),0<s.length&&(t=new Ds("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=mr)))}function Ma(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var vr={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},zo={},Pd={};Ln&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function za(e){if(zo[e])return zo[e];if(!vr[e])return e;var t=vr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Pd)return zo[e]=t[a];return e}var ef=za("animationend"),tf=za("animationiteration"),nf=za("animationstart"),rp=za("transitionrun"),ip=za("transitionstart"),sp=za("transitioncancel"),af=za("transitionend"),rf=new Map,Bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bo.push("scrollEnd");function vn(e,t){rf.set(e,t),ka(t,[e])}var Ms=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},an=[],yr=0,Lo=0;function zs(){for(var e=yr,t=Lo=yr=0;t<e;){var a=an[t];an[t++]=null;var s=an[t];an[t++]=null;var o=an[t];an[t++]=null;var c=an[t];if(an[t++]=null,s!==null&&o!==null){var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}c!==0&&sf(a,o,c)}}function Bs(e,t,a,s){an[yr++]=e,an[yr++]=t,an[yr++]=a,an[yr++]=s,Lo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function qo(e,t,a,s){return Bs(e,t,a,s),Ls(e)}function Ba(e,t){return Bs(e,null,null,t),Ls(e)}function sf(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-xt(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function Ls(e){if(50<qi)throw qi=0,Ju=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pr={};function lp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,a,s){return new lp(e,t,a,s)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,t){var a=e.alternate;return a===null?(a=$t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function lf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qs(e,t,a,s,o,c){var h=0;if(s=e,typeof e=="function")Ho(e)&&(h=1);else if(typeof e=="string")h=f0(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=$t(31,a,t,o),e.elementType=de,e.lanes=c,e;case N:return La(a.children,o,c,t);case M:h=8,o|=24;break;case H:return e=$t(12,a,t,o|2),e.elementType=H,e.lanes=c,e;case Q:return e=$t(13,a,t,o),e.elementType=Q,e.lanes=c,e;case K:return e=$t(19,a,t,o),e.elementType=K,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:h=10;break e;case V:h=9;break e;case G:h=11;break e;case L:h=14;break e;case Z:h=16,s=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=$t(h,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function La(e,t,a,s){return e=$t(7,e,s,t),e.lanes=a,e}function $o(e,t,a){return e=$t(6,e,null,t),e.lanes=a,e}function of(e){var t=$t(18,null,null,0);return t.stateNode=e,t}function Go(e,t,a){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var uf=new WeakMap;function rn(e,t){if(typeof e=="object"&&e!==null){var a=uf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ii(t)},uf.set(e,t),t)}return{value:e,source:t,stack:ii(t)}}var br=[],wr=0,Hs=null,pi=0,sn=[],ln=0,ia=null,An=1,On="";function Hn(e,t){br[wr++]=pi,br[wr++]=Hs,Hs=e,pi=t}function cf(e,t,a){sn[ln++]=An,sn[ln++]=On,sn[ln++]=ia,ia=e;var s=An;e=On;var o=32-xt(s)-1;s&=~(1<<o),a+=1;var c=32-xt(t)+o;if(30<c){var h=o-o%5;c=(s&(1<<h)-1).toString(32),s>>=h,o-=h,An=1<<32-xt(t)+o|a<<o|s,On=c+e}else An=1<<c|a<<o|s,On=e}function Vo(e){e.return!==null&&(Hn(e,1),cf(e,1,0))}function Ko(e){for(;e===Hs;)Hs=br[--wr],br[wr]=null,pi=br[--wr],br[wr]=null;for(;e===ia;)ia=sn[--ln],sn[ln]=null,On=sn[--ln],sn[ln]=null,An=sn[--ln],sn[ln]=null}function df(e,t){sn[ln++]=An,sn[ln++]=On,sn[ln++]=ia,An=t.id,On=t.overflow,ia=e}var vt=null,He=null,Ae=!1,sa=null,on=!1,Yo=Error(l(519));function la(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bi(rn(t,e)),Yo}function ff(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[mt]=e,t[Nt]=s,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<$i.length;a++)xe($i[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),Ed(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),Ad(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Cg(t.textContent,a)?(s.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),s.onScroll!=null&&xe("scroll",t),s.onScrollEnd!=null&&xe("scrollend",t),s.onClick!=null&&(t.onclick=Bn),t=!0):t=!1,t||la(e,!0)}function hf(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:vt=vt.return}}function _r(e){if(e!==vt)return!1;if(!Ae)return hf(e),Ae=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||uc(e.type,e.memoizedProps)),a=!a),a&&He&&la(e),hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=Lg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=Lg(e)}else t===27?(t=He,_a(e.type)?(e=gc,gc=null,He=e):He=t):He=vt?cn(e.stateNode.nextSibling):null;return!0}function qa(){He=vt=null,Ae=!1}function Io(){var e=sa;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),sa=null),e}function bi(e){sa===null?sa=[e]:sa.push(e)}var Xo=_(null),Ha=null,$n=null;function oa(e,t,a){O(Xo,t._currentValue),t._currentValue=a}function Gn(e){e._currentValue=Xo.current,j(Xo)}function Jo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Qo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var x=0;x<t.length;x++)if(y.context===t[x]){c.lanes|=a,y=c.alternate,y!==null&&(y.lanes|=a),Jo(c.return,a,e),s||(h=null);break e}c=y.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),Jo(h,a,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function Sr(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var y=o.type;Ht(o.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(o===le.current){if(h=o.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ii):e=[Ii])}o=o.return}e!==null&&Qo(t,e,a,s),t.flags|=262144}function $s(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $a(e){Ha=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return gf(Ha,e)}function Gs(e,t){return Ha===null&&$a(e),gf(e,t)}function gf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},$n===null){if(e===null)throw Error(l(308));$n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $n=$n.next=t;return a}var op=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},up=r.unstable_scheduleCallback,cp=r.unstable_NormalPriority,Pe={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zo(){return{controller:new op,data:new Map,refCount:0}}function wi(e){e.refCount--,e.refCount===0&&up(cp,function(){e.controller.abort()})}var _i=null,Wo=0,xr=0,Er=null;function dp(e,t){if(_i===null){var a=_i=[];Wo=0,xr=ec(),Er={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Wo++,t.then(mf,mf),t}function mf(){if(--Wo===0&&_i!==null){Er!==null&&(Er.status="fulfilled");var e=_i;_i=null,xr=0,Er=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fp(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var vf=D.S;D.S=function(e,t){Ph=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dp(e,t),vf!==null&&vf(e,t)};var Ga=_(null);function Fo(){var e=Ga.current;return e!==null?e:Le.pooledCache}function Vs(e,t){t===null?O(Ga,Ga.current):O(Ga,t.pool)}function yf(){var e=Fo();return e===null?null:{parent:Pe._currentValue,pool:e}}var Tr=Error(l(460)),Po=Error(l(474)),Ks=Error(l(542)),Ys={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Bn,Bn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_f(e),e;default:if(typeof t.status=="string")t.then(Bn,Bn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_f(e),e}throw Ka=t,Tr}}function Va(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ka=a,Tr):a}}var Ka=null;function wf(){if(Ka===null)throw Error(l(459));var e=Ka;return Ka=null,e}function _f(e){if(e===Tr||e===Ks)throw Error(l(483))}var Ar=null,Si=0;function Is(e){var t=Si;return Si+=1,Ar===null&&(Ar=[]),bf(Ar,e,t)}function xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xs(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sf(e){function t(C,T){if(e){var k=C.deletions;k===null?(C.deletions=[T],C.flags|=16):k.push(T)}}function a(C,T){if(!e)return null;for(;T!==null;)t(C,T),T=T.sibling;return null}function s(C){for(var T=new Map;C!==null;)C.key!==null?T.set(C.key,C):T.set(C.index,C),C=C.sibling;return T}function o(C,T){return C=qn(C,T),C.index=0,C.sibling=null,C}function c(C,T,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<T?(C.flags|=67108866,T):k):(C.flags|=67108866,T)):(C.flags|=1048576,T)}function h(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function y(C,T,k,Y){return T===null||T.tag!==6?(T=$o(k,C.mode,Y),T.return=C,T):(T=o(T,k),T.return=C,T)}function x(C,T,k,Y){var se=k.type;return se===N?$(C,T,k.props.children,Y,k.key):T!==null&&(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Z&&Va(se)===T.type)?(T=o(T,k.props),xi(T,k),T.return=C,T):(T=qs(k.type,k.key,k.props,null,C.mode,Y),xi(T,k),T.return=C,T)}function U(C,T,k,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Go(k,C.mode,Y),T.return=C,T):(T=o(T,k.children||[]),T.return=C,T)}function $(C,T,k,Y,se){return T===null||T.tag!==7?(T=La(k,C.mode,Y,se),T.return=C,T):(T=o(T,k),T.return=C,T)}function X(C,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=$o(""+T,C.mode,k),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return k=qs(T.type,T.key,T.props,null,C.mode,k),xi(k,T),k.return=C,k;case R:return T=Go(T,C.mode,k),T.return=C,T;case Z:return T=Va(T),X(C,T,k)}if(me(T)||Ce(T))return T=La(T,C.mode,k,null),T.return=C,T;if(typeof T.then=="function")return X(C,Is(T),k);if(T.$$typeof===B)return X(C,Gs(C,T),k);Xs(C,T)}return null}function z(C,T,k,Y){var se=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return se!==null?null:y(C,T,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case E:return k.key===se?x(C,T,k,Y):null;case R:return k.key===se?U(C,T,k,Y):null;case Z:return k=Va(k),z(C,T,k,Y)}if(me(k)||Ce(k))return se!==null?null:$(C,T,k,Y,null);if(typeof k.then=="function")return z(C,T,Is(k),Y);if(k.$$typeof===B)return z(C,T,Gs(C,k),Y);Xs(C,k)}return null}function q(C,T,k,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return C=C.get(k)||null,y(T,C,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return C=C.get(Y.key===null?k:Y.key)||null,x(T,C,Y,se);case R:return C=C.get(Y.key===null?k:Y.key)||null,U(T,C,Y,se);case Z:return Y=Va(Y),q(C,T,k,Y,se)}if(me(Y)||Ce(Y))return C=C.get(k)||null,$(T,C,Y,se,null);if(typeof Y.then=="function")return q(C,T,k,Is(Y),se);if(Y.$$typeof===B)return q(C,T,k,Gs(T,Y),se);Xs(T,Y)}return null}function te(C,T,k,Y){for(var se=null,je=null,ae=T,we=T=0,Te=null;ae!==null&&we<k.length;we++){ae.index>we?(Te=ae,ae=null):Te=ae.sibling;var Ne=z(C,ae,k[we],Y);if(Ne===null){ae===null&&(ae=Te);break}e&&ae&&Ne.alternate===null&&t(C,ae),T=c(Ne,T,we),je===null?se=Ne:je.sibling=Ne,je=Ne,ae=Te}if(we===k.length)return a(C,ae),Ae&&Hn(C,we),se;if(ae===null){for(;we<k.length;we++)ae=X(C,k[we],Y),ae!==null&&(T=c(ae,T,we),je===null?se=ae:je.sibling=ae,je=ae);return Ae&&Hn(C,we),se}for(ae=s(ae);we<k.length;we++)Te=q(ae,C,we,k[we],Y),Te!==null&&(e&&Te.alternate!==null&&ae.delete(Te.key===null?we:Te.key),T=c(Te,T,we),je===null?se=Te:je.sibling=Te,je=Te);return e&&ae.forEach(function(Aa){return t(C,Aa)}),Ae&&Hn(C,we),se}function oe(C,T,k,Y){if(k==null)throw Error(l(151));for(var se=null,je=null,ae=T,we=T=0,Te=null,Ne=k.next();ae!==null&&!Ne.done;we++,Ne=k.next()){ae.index>we?(Te=ae,ae=null):Te=ae.sibling;var Aa=z(C,ae,Ne.value,Y);if(Aa===null){ae===null&&(ae=Te);break}e&&ae&&Aa.alternate===null&&t(C,ae),T=c(Aa,T,we),je===null?se=Aa:je.sibling=Aa,je=Aa,ae=Te}if(Ne.done)return a(C,ae),Ae&&Hn(C,we),se;if(ae===null){for(;!Ne.done;we++,Ne=k.next())Ne=X(C,Ne.value,Y),Ne!==null&&(T=c(Ne,T,we),je===null?se=Ne:je.sibling=Ne,je=Ne);return Ae&&Hn(C,we),se}for(ae=s(ae);!Ne.done;we++,Ne=k.next())Ne=q(ae,C,we,Ne.value,Y),Ne!==null&&(e&&Ne.alternate!==null&&ae.delete(Ne.key===null?we:Ne.key),T=c(Ne,T,we),je===null?se=Ne:je.sibling=Ne,je=Ne);return e&&ae.forEach(function(x0){return t(C,x0)}),Ae&&Hn(C,we),se}function Be(C,T,k,Y){if(typeof k=="object"&&k!==null&&k.type===N&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case E:e:{for(var se=k.key;T!==null;){if(T.key===se){if(se=k.type,se===N){if(T.tag===7){a(C,T.sibling),Y=o(T,k.props.children),Y.return=C,C=Y;break e}}else if(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Z&&Va(se)===T.type){a(C,T.sibling),Y=o(T,k.props),xi(Y,k),Y.return=C,C=Y;break e}a(C,T);break}else t(C,T);T=T.sibling}k.type===N?(Y=La(k.props.children,C.mode,Y,k.key),Y.return=C,C=Y):(Y=qs(k.type,k.key,k.props,null,C.mode,Y),xi(Y,k),Y.return=C,C=Y)}return h(C);case R:e:{for(se=k.key;T!==null;){if(T.key===se)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){a(C,T.sibling),Y=o(T,k.children||[]),Y.return=C,C=Y;break e}else{a(C,T);break}else t(C,T);T=T.sibling}Y=Go(k,C.mode,Y),Y.return=C,C=Y}return h(C);case Z:return k=Va(k),Be(C,T,k,Y)}if(me(k))return te(C,T,k,Y);if(Ce(k)){if(se=Ce(k),typeof se!="function")throw Error(l(150));return k=se.call(k),oe(C,T,k,Y)}if(typeof k.then=="function")return Be(C,T,Is(k),Y);if(k.$$typeof===B)return Be(C,T,Gs(C,k),Y);Xs(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(a(C,T.sibling),Y=o(T,k),Y.return=C,C=Y):(a(C,T),Y=$o(k,C.mode,Y),Y.return=C,C=Y),h(C)):a(C,T)}return function(C,T,k,Y){try{Si=0;var se=Be(C,T,k,Y);return Ar=null,se}catch(ae){if(ae===Tr||ae===Ks)throw ae;var je=$t(29,ae,null,C.mode);return je.lanes=Y,je.return=C,je}}}var Ya=Sf(!0),xf=Sf(!1),ua=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Ls(e),sf(e,null,a),t}return Bs(e,s,t,a),Ls(e)}function Ei(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,qt(e,a)}}function nu(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var au=!1;function Ti(){if(au){var e=Er;if(e!==null)throw e}}function Ai(e,t,a,s){au=!1;var o=e.updateQueue;ua=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var x=y,U=x.next;x.next=null,h===null?c=U:h.next=U,h=x;var $=e.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==h&&(y===null?$.firstBaseUpdate=U:y.next=U,$.lastBaseUpdate=x))}if(c!==null){var X=o.baseState;h=0,$=U=x=null,y=c;do{var z=y.lane&-536870913,q=z!==y.lane;if(q?(Ee&z)===z:(s&z)===z){z!==0&&z===xr&&(au=!0),$!==null&&($=$.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var te=e,oe=y;z=t;var Be=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){X=te.call(Be,X,z);break e}X=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,z=typeof te=="function"?te.call(Be,X,z):te,z==null)break e;X=w({},X,z);break e;case 2:ua=!0}}z=y.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=o.callbacks,q===null?o.callbacks=[z]:q.push(z))}else q={lane:z,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(U=$=q,x=X):$=$.next=q,h|=z;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;q=y,y=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);$===null&&(x=X),o.baseState=x,o.firstBaseUpdate=U,o.lastBaseUpdate=$,c===null&&(o.shared.lanes=0),va|=h,e.lanes=h,e.memoizedState=X}}function Ef(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Tf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Ef(a[e],t)}var Or=_(null),Js=_(0);function Af(e,t){e=Wn,O(Js,e),O(Or,t),Wn=e|t.baseLanes}function ru(){O(Js,Wn),O(Or,Or.current)}function iu(){Wn=Js.current,j(Or),j(Js)}var Gt=_(null),un=null;function fa(e){var t=e.alternate;O(We,We.current&1),O(Gt,e),un===null&&(t===null||Or.current!==null||t.memoizedState!==null)&&(un=e)}function su(e){O(We,We.current),O(Gt,e),un===null&&(un=e)}function Of(e){e.tag===22?(O(We,We.current),O(Gt,e),un===null&&(un=e)):ha()}function ha(){O(We,We.current),O(Gt,Gt.current)}function Vt(e){j(Gt),un===e&&(un=null),j(We)}var We=_(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fc(a)||hc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vn=0,pe=null,Me=null,et=null,Zs=!1,Rr=!1,Ia=!1,Ws=0,Oi=0,Cr=null,hp=0;function Ie(){throw Error(l(321))}function lu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ht(e[a],t[a]))return!1;return!0}function ou(e,t,a,s,o,c){return Vn=c,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?ch:xu,Ia=!1,c=a(s,o),Ia=!1,Rr&&(c=Cf(t,a,s,o)),Rf(e),c}function Rf(e){D.H=ji;var t=Me!==null&&Me.next!==null;if(Vn=0,et=Me=pe=null,Zs=!1,Oi=0,Cr=null,t)throw Error(l(300));e===null||tt||(e=e.dependencies,e!==null&&$s(e)&&(tt=!0))}function Cf(e,t,a,s){pe=e;var o=0;do{if(Rr&&(Cr=null),Oi=0,Rr=!1,25<=o)throw Error(l(301));if(o+=1,et=Me=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}D.H=dh,c=t(a,s)}while(Rr);return c}function gp(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Ri(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(pe.flags|=1024),t}function uu(){var e=Ws!==0;return Ws=0,e}function cu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function du(e){if(Zs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zs=!1}Vn=0,et=Me=pe=null,Rr=!1,Oi=Ws=0,Cr=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?pe.memoizedState=et=e:et=et.next=e,et}function Fe(){if(Me===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=et===null?pe.memoizedState:et.next;if(t!==null)et=t,Me=e;else{if(e===null)throw pe.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},et===null?pe.memoizedState=et=e:et=et.next=e}return et}function Fs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ri(e){var t=Oi;return Oi+=1,Cr===null&&(Cr=[]),e=bf(Cr,e,t),t=pe,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?ch:xu),e}function Ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ri(e);if(e.$$typeof===B)return yt(e)}throw Error(l(438,String(e)))}function fu(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Fs(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Re;return t.index++,a}function Kn(e,t){return typeof t=="function"?t(e):t}function el(e){var t=Fe();return hu(t,Me,e)}function hu(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=h=null,x=null,U=t,$=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Ee&X)===X:(Vn&X)===X){var z=U.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===xr&&($=!0);else if((Vn&z)===z){U=U.next,z===xr&&($=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(y=x=X,h=c):x=x.next=X,pe.lanes|=z,va|=z;X=U.action,Ia&&a(c,X),c=U.hasEagerState?U.eagerState:a(c,X)}else z={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(y=x=z,h=c):x=x.next=z,pe.lanes|=X,va|=X;U=U.next}while(U!==null&&U!==t);if(x===null?h=c:x.next=y,!Ht(c,e.memoizedState)&&(tt=!0,$&&(a=Er,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=x,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function gu(e){var t=Fe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);Ht(c,t.memoizedState)||(tt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function jf(e,t,a){var s=pe,o=Fe(),c=Ae;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!Ht((Me||o).memoizedState,a);if(h&&(o.memoizedState=a,tt=!0),o=o.queue,yu(kf.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,jr(9,{destroy:void 0},Df.bind(null,s,o,a,t),null),Le===null)throw Error(l(349));c||(Vn&127)!==0||Nf(s,t,a)}return a}function Nf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=Fs(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Df(e,t,a,s){t.value=a,t.getSnapshot=s,Uf(t)&&Mf(e)}function kf(e,t,a){return a(function(){Uf(t)&&Mf(e)})}function Uf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ht(e,a)}catch{return!0}}function Mf(e){var t=Ba(e,2);t!==null&&Bt(t,e,2)}function mu(e){var t=Ot();if(typeof e=="function"){var a=e;if(e=a(),Ia){Wt(!0);try{a()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:e},t}function zf(e,t,a,s){return e.baseState=a,hu(e,Me,typeof s=="function"?s:Kn)}function mp(e,t,a,s,o){if(al(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};D.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,Bf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Bf(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=D.T,h={};D.T=h;try{var y=a(o,s),x=D.S;x!==null&&x(h,y),Lf(e,t,y)}catch(U){vu(e,t,U)}finally{c!==null&&h.types!==null&&(c.types=h.types),D.T=c}}else try{c=a(o,s),Lf(e,t,c)}catch(U){vu(e,t,U)}}function Lf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){qf(e,t,s)},function(s){return vu(e,t,s)}):qf(e,t,a)}function qf(e,t,a){t.status="fulfilled",t.value=a,Hf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Bf(e,a)))}function vu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Hf(t),t=t.next;while(t!==s)}e.action=null}function Hf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $f(e,t){return t}function Gf(e,t){if(Ae){var a=Le.formState;if(a!==null){e:{var s=pe;if(Ae){if(He){t:{for(var o=He,c=on;o.nodeType!==8;){if(!c){o=null;break t}if(o=cn(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){He=cn(o.nextSibling),s=o.data==="F!";break e}}la(s)}s=!1}s&&(t=a[0])}}return a=Ot(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$f,lastRenderedState:t},a.queue=s,a=lh.bind(null,pe,s),s.dispatch=a,s=mu(!1),c=Su.bind(null,pe,!1,s.queue),s=Ot(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=mp.bind(null,pe,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Vf(e){var t=Fe();return Kf(t,Me,e)}function Kf(e,t,a){if(t=hu(e,t,$f)[0],e=el(Kn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ri(t)}catch(h){throw h===Tr?Ks:h}else s=t;t=Fe();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,jr(9,{destroy:void 0},vp.bind(null,o,a),null)),[s,c,e]}function vp(e,t){e.action=t}function Yf(e){var t=Fe(),a=Me;if(a!==null)return Kf(t,a,e);Fe(),t=t.memoizedState,a=Fe();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function jr(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Fs(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function If(){return Fe().memoizedState}function tl(e,t,a,s){var o=Ot();pe.flags|=e,o.memoizedState=jr(1|t,{destroy:void 0},a,s===void 0?null:s)}function nl(e,t,a,s){var o=Fe();s=s===void 0?null:s;var c=o.memoizedState.inst;Me!==null&&s!==null&&lu(s,Me.memoizedState.deps)?o.memoizedState=jr(t,c,a,s):(pe.flags|=e,o.memoizedState=jr(1|t,c,a,s))}function Xf(e,t){tl(8390656,8,e,t)}function yu(e,t){nl(2048,8,e,t)}function yp(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Fs(),pe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Jf(e){var t=Fe().memoizedState;return yp({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Qf(e,t){return nl(4,2,e,t)}function Zf(e,t){return nl(4,4,e,t)}function Wf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ff(e,t,a){a=a!=null?a.concat([e]):null,nl(4,4,Wf.bind(null,t,e),a)}function pu(){}function Pf(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&lu(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function eh(e,t){var a=Fe();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&lu(t,s[1]))return s[0];if(s=e(),Ia){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[s,t],s}function bu(e,t,a){return a===void 0||(Vn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=tg(),pe.lanes|=e,va|=e,a)}function th(e,t,a,s){return Ht(a,t)?a:Or.current!==null?(e=bu(e,a,s),Ht(e,t)||(tt=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(Ee&261930)===0?(tt=!0,e.memoizedState=a):(e=tg(),pe.lanes|=e,va|=e,t)}function nh(e,t,a,s,o){var c=J.p;J.p=c!==0&&8>c?c:8;var h=D.T,y={};D.T=y,Su(e,!1,t,a);try{var x=o(),U=D.S;if(U!==null&&U(y,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=fp(x,s);Ci(e,t,$,It(e))}else Ci(e,t,s,It(e))}catch(X){Ci(e,t,{then:function(){},status:"rejected",reason:X},It())}finally{J.p=c,h!==null&&y.types!==null&&(h.types=y.types),D.T=h}}function pp(){}function wu(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=ah(e).queue;nh(e,o,t,ne,a===null?pp:function(){return rh(e),a(s)})}function ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rh(e){var t=ah(e);t.next===null&&(t=e.alternate.memoizedState),Ci(e,t.next.queue,{},It())}function _u(){return yt(Ii)}function ih(){return Fe().memoizedState}function sh(){return Fe().memoizedState}function bp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=It();e=ca(a);var s=da(t,e,a);s!==null&&(Bt(s,t,a),Ei(s,t,a)),t={cache:Zo()},e.payload=t;return}t=t.return}}function wp(e,t,a){var s=It();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},al(e)?oh(t,a):(a=qo(e,t,a,s),a!==null&&(Bt(a,e,s),uh(a,t,s)))}function lh(e,t,a){var s=It();Ci(e,t,a,s)}function Ci(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(al(e))oh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,y=c(h,a);if(o.hasEagerState=!0,o.eagerState=y,Ht(y,h))return Bs(e,t,o,0),Le===null&&zs(),!1}catch{}if(a=qo(e,t,o,s),a!==null)return Bt(a,e,s),uh(a,t,s),!0}return!1}function Su(e,t,a,s){if(s={lane:2,revertLane:ec(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},al(e)){if(t)throw Error(l(479))}else t=qo(e,a,s,2),t!==null&&Bt(t,e,2)}function al(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function oh(e,t){Rr=Zs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function uh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,qt(e,a)}}var ji={readContext:yt,use:Ps,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};ji.useEffectEvent=Ie;var ch={readContext:yt,use:Ps,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:Xf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,tl(4194308,4,Wf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){tl(4,2,e,t)},useMemo:function(e,t){var a=Ot();t=t===void 0?null:t;var s=e();if(Ia){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Ot();if(a!==void 0){var o=a(t);if(Ia){Wt(!0);try{a(t)}finally{Wt(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=wp.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=mu(e);var t=e.queue,a=lh.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:pu,useDeferredValue:function(e,t){var a=Ot();return bu(a,e,t)},useTransition:function(){var e=mu(!1);return e=nh.bind(null,pe,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=pe,o=Ot();if(Ae){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Le===null)throw Error(l(349));(Ee&127)!==0||Nf(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,Xf(kf.bind(null,s,c,e),[e]),s.flags|=2048,jr(9,{destroy:void 0},Df.bind(null,s,c,a,t),null),a},useId:function(){var e=Ot(),t=Le.identifierPrefix;if(Ae){var a=On,s=An;a=(s&~(1<<32-xt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=hp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:_u,useFormState:Gf,useActionState:Gf,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Su.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:fu,useCacheRefresh:function(){return Ot().memoizedState=bp.bind(null,pe)},useEffectEvent:function(e){var t=Ot(),a={impl:e};return t.memoizedState=a,function(){if((De&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},xu={readContext:yt,use:Ps,useCallback:Pf,useContext:yt,useEffect:yu,useImperativeHandle:Ff,useInsertionEffect:Qf,useLayoutEffect:Zf,useMemo:eh,useReducer:el,useRef:If,useState:function(){return el(Kn)},useDebugValue:pu,useDeferredValue:function(e,t){var a=Fe();return th(a,Me.memoizedState,e,t)},useTransition:function(){var e=el(Kn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ri(e),t]},useSyncExternalStore:jf,useId:ih,useHostTransitionStatus:_u,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,t){var a=Fe();return zf(a,Me,e,t)},useMemoCache:fu,useCacheRefresh:sh};xu.useEffectEvent=Jf;var dh={readContext:yt,use:Ps,useCallback:Pf,useContext:yt,useEffect:yu,useImperativeHandle:Ff,useInsertionEffect:Qf,useLayoutEffect:Zf,useMemo:eh,useReducer:gu,useRef:If,useState:function(){return gu(Kn)},useDebugValue:pu,useDeferredValue:function(e,t){var a=Fe();return Me===null?bu(a,e,t):th(a,Me.memoizedState,e,t)},useTransition:function(){var e=gu(Kn)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:Ri(e),t]},useSyncExternalStore:jf,useId:ih,useHostTransitionStatus:_u,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,t){var a=Fe();return Me!==null?zf(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:fu,useCacheRefresh:sh};dh.useEffectEvent=Jf;function Eu(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Tu={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=It(),o=ca(s);o.payload=t,a!=null&&(o.callback=a),t=da(e,o,s),t!==null&&(Bt(t,e,s),Ei(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=It(),o=ca(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=da(e,o,s),t!==null&&(Bt(t,e,s),Ei(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=It(),s=ca(a);s.tag=2,t!=null&&(s.callback=t),t=da(e,s,a),t!==null&&(Bt(t,e,a),Ei(t,e,a))}};function fh(e,t,a,s,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!vi(a,s)||!vi(o,c):!0}function hh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function Xa(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function gh(e){Ms(e)}function mh(e){console.error(e)}function vh(e){Ms(e)}function rl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function yh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Au(e,t,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){rl(e,t)},a}function ph(e){return e=ca(e),e.tag=3,e}function bh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){yh(t,a,s)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){yh(t,a,s),typeof o!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function _p(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Sr(t,a,o,!0),a=Gt.current,a!==null){switch(a.tag){case 31:case 13:return un===null?vl():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Ys?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Wu(e,s,o)),!1;case 22:return a.flags|=65536,s===Ys?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Wu(e,s,o)),!1}throw Error(l(435,a.tag))}return Wu(e,s,o),vl(),!1}if(Ae)return t=Gt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Yo&&(e=Error(l(422),{cause:s}),bi(rn(e,a)))):(s!==Yo&&(t=Error(l(423),{cause:s}),bi(rn(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=rn(s,a),o=Au(e.stateNode,s,o),nu(e,o),Xe!==4&&(Xe=2)),!1;var c=Error(l(520),{cause:s});if(c=rn(c,a),Li===null?Li=[c]:Li.push(c),Xe!==4&&(Xe=2),t===null)return!0;s=rn(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Au(a.stateNode,s,e),nu(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ya===null||!ya.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=ph(o),bh(o,e,a,s),nu(a,o),!1}a=a.return}while(a!==null);return!1}var Ou=Error(l(461)),tt=!1;function pt(e,t,a,s){t.child=e===null?xf(t,null,a,s):Ya(t,e.child,a,s)}function wh(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var h={};for(var y in s)y!=="ref"&&(h[y]=s[y])}else h=s;return $a(t),s=ou(e,t,a,h,c,o),y=uu(),e!==null&&!tt?(cu(e,t,o),Yn(e,t,o)):(Ae&&y&&Vo(t),t.flags|=1,pt(e,t,s,o),t.child)}function _h(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!Ho(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Sh(e,t,c,s,o)):(e=qs(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Mu(e,o)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:vi,a(h,s)&&e.ref===t.ref)return Yn(e,t,o)}return t.flags|=1,e=qn(c,s),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(vi(c,s)&&e.ref===t.ref)if(tt=!1,t.pendingProps=s=c,Mu(e,o))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Yn(e,t,o)}return Ru(e,t,a,s,o)}function xh(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return Eh(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,c!==null?c.cachePool:null),c!==null?Af(t,c):ru(),Of(t);else return s=t.lanes=536870912,Eh(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(Vs(t,c.cachePool),Af(t,c),ha(),t.memoizedState=null):(e!==null&&Vs(t,null),ru(),ha());return pt(e,t,o,a),t.child}function Ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Eh(e,t,a,s,o){var c=Fo();return c=c===null?null:{parent:Pe._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Vs(t,null),ru(),Of(t),e!==null&&Sr(e,t,s,!0),t.childLanes=o,null}function il(e,t){return t=ll({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Th(e,t,a){return Ya(t,e.child,null,a),e=il(t,t.pendingProps),e.flags|=2,Vt(t),t.memoizedState=null,e}function Sp(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(s.mode==="hidden")return e=il(t,s),t.lanes=536870912,Ni(null,e);if(su(t),(e=He)?(e=Bg(e,on),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:An,overflow:On}:null,retryLane:536870912,hydrationErrors:null},a=of(e),a.return=t,t.child=a,vt=t,He=null)):e=null,e===null)throw la(t);return t.lanes=536870912,null}return il(t,s)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(su(t),o)if(t.flags&256)t.flags&=-257,t=Th(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(tt||Sr(e,t,a,!1),o=(a&e.childLanes)!==0,tt||o){if(s=Le,s!==null&&(h=Pt(s,a),h!==0&&h!==c.retryLane))throw c.retryLane=h,Ba(e,h),Bt(s,e,h),Ou;vl(),t=Th(e,t,a)}else e=c.treeContext,He=cn(h.nextSibling),vt=t,Ae=!0,sa=null,on=!1,e!==null&&df(t,e),t=il(t,s),t.flags|=4096;return t}return e=qn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function sl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ru(e,t,a,s,o){return $a(t),a=ou(e,t,a,s,void 0,o),s=uu(),e!==null&&!tt?(cu(e,t,o),Yn(e,t,o)):(Ae&&s&&Vo(t),t.flags|=1,pt(e,t,a,o),t.child)}function Ah(e,t,a,s,o,c){return $a(t),t.updateQueue=null,a=Cf(t,s,a,o),Rf(e),s=uu(),e!==null&&!tt?(cu(e,t,c),Yn(e,t,c)):(Ae&&s&&Vo(t),t.flags|=1,pt(e,t,a,c),t.child)}function Oh(e,t,a,s,o){if($a(t),t.stateNode===null){var c=pr,h=a.contextType;typeof h=="object"&&h!==null&&(c=yt(h)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Tu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},eu(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?yt(h):pr,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(Eu(t,a,h,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Tu.enqueueReplaceState(c,c.state,null),Ai(t,s,c,o),Ti(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,x=Xa(a,y);c.props=x;var U=c.context,$=a.contextType;h=pr,typeof $=="object"&&$!==null&&(h=yt($));var X=a.getDerivedStateFromProps;$=typeof X=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,$||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||U!==h)&&hh(t,c,s,h),ua=!1;var z=t.memoizedState;c.state=z,Ai(t,s,c,o),Ti(),U=t.memoizedState,y||z!==U||ua?(typeof X=="function"&&(Eu(t,a,X,s),U=t.memoizedState),(x=ua||fh(t,a,x,s,z,U,h))?($||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),c.props=s,c.state=U,c.context=h,s=x):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,tu(e,t),h=t.memoizedProps,$=Xa(a,h),c.props=$,X=t.pendingProps,z=c.context,U=a.contextType,x=pr,typeof U=="object"&&U!==null&&(x=yt(U)),y=a.getDerivedStateFromProps,(U=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==X||z!==x)&&hh(t,c,s,x),ua=!1,z=t.memoizedState,c.state=z,Ai(t,s,c,o),Ti();var q=t.memoizedState;h!==X||z!==q||ua||e!==null&&e.dependencies!==null&&$s(e.dependencies)?(typeof y=="function"&&(Eu(t,a,y,s),q=t.memoizedState),($=ua||fh(t,a,$,s,z,q,x)||e!==null&&e.dependencies!==null&&$s(e.dependencies))?(U||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,q,x),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,q,x)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=q),c.props=s,c.state=q,c.context=x,s=$):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,sl(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ya(t,e.child,null,o),t.child=Ya(t,null,a,o)):pt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Yn(e,t,o),e}function Rh(e,t,a,s){return qa(),t.flags|=256,pt(e,t,a,s),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:yf()}}function Nu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Yt),e}function Ch(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(o?fa(t):ha(),(e=He)?(e=Bg(e,on),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:An,overflow:On}:null,retryLane:536870912,hydrationErrors:null},a=of(e),a.return=t,t.child=a,vt=t,He=null)):e=null,e===null)throw la(t);return hc(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(ha(),o=t.mode,y=ll({mode:"hidden",children:y},o),s=La(s,o,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=ju(a),s.childLanes=Nu(e,h,a),t.memoizedState=Cu,Ni(null,s)):(fa(t),Du(t,y))}var x=e.memoizedState;if(x!==null&&(y=x.dehydrated,y!==null)){if(c)t.flags&256?(fa(t),t.flags&=-257,t=ku(e,t,a)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),y=s.fallback,o=t.mode,s=ll({mode:"visible",children:s.children},o),y=La(y,o,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Ya(t,e.child,null,a),s=t.child,s.memoizedState=ju(a),s.childLanes=Nu(e,h,a),t.memoizedState=Cu,t=Ni(null,s));else if(fa(t),hc(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var U=h.dgst;h=U,s=Error(l(419)),s.stack="",s.digest=h,bi({value:s,source:null,stack:null}),t=ku(e,t,a)}else if(tt||Sr(e,t,a,!1),h=(a&e.childLanes)!==0,tt||h){if(h=Le,h!==null&&(s=Pt(h,a),s!==0&&s!==x.retryLane))throw x.retryLane=s,Ba(e,s),Bt(h,e,s),Ou;fc(y)||vl(),t=ku(e,t,a)}else fc(y)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,He=cn(y.nextSibling),vt=t,Ae=!0,sa=null,on=!1,e!==null&&df(t,e),t=Du(t,s.children),t.flags|=4096);return t}return o?(ha(),y=s.fallback,o=t.mode,x=e.child,U=x.sibling,s=qn(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,U!==null?y=qn(U,y):(y=La(y,o,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,Ni(null,s),s=t.child,y=e.child.memoizedState,y===null?y=ju(a):(o=y.cachePool,o!==null?(x=Pe._currentValue,o=o.parent!==x?{parent:x,pool:x}:o):o=yf(),y={baseLanes:y.baseLanes|a,cachePool:o}),s.memoizedState=y,s.childLanes=Nu(e,h,a),t.memoizedState=Cu,Ni(e.child,s)):(fa(t),a=e.child,e=a.sibling,a=qn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Du(e,t){return t=ll({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ll(e,t){return e=$t(22,e,null,t),e.lanes=0,e}function ku(e,t,a){return Ya(t,e.child,null,a),e=Du(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Jo(e.return,t,a)}function Uu(e,t,a,s,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=a,h.tailMode=o,h.treeForkCount=c)}function Nh(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var h=We.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,O(We,h),pt(e,t,s,a),s=Ae?pi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,a,t);else if(e.tag===19)jh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Qs(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Uu(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Qs(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Uu(t,!0,a,null,c,s);break;case"together":Uu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Yn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),va|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Sr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=qn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=qn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$s(e)))}function xp(e,t,a){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),oa(t,Pe,e.memoizedState.cache),qa();break;case 27:case 5:_e(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,su(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(fa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ch(e,t,a):(fa(t),e=Yn(e,t,a),e!==null?e.sibling:null);fa(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Sr(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Nh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),O(We,We.current),s)break;return null;case 22:return t.lanes=0,xh(e,t,a,t.pendingProps);case 24:oa(t,Pe,e.memoizedState.cache)}return Yn(e,t,a)}function Dh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Mu(e,a)&&(t.flags&128)===0)return tt=!1,xp(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,Ae&&(t.flags&1048576)!==0&&cf(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Va(t.elementType),t.type=e,typeof e=="function")Ho(e)?(s=Xa(e,s),t.tag=1,t=Oh(null,t,e,s,a)):(t.tag=0,t=Ru(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===G){t.tag=11,t=wh(null,t,e,s,a);break e}else if(o===L){t.tag=14,t=_h(null,t,e,s,a);break e}}throw t=re(e)||e,Error(l(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Xa(s,t.pendingProps),Oh(e,t,s,o,a);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,tu(e,t),Ai(t,s,null,a);var h=t.memoizedState;if(s=h.cache,oa(t,Pe,s),s!==c.cache&&Qo(t,[Pe],a,!0),Ti(),s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Rh(e,t,s,a);break e}else if(s!==o){o=rn(Error(l(424)),t),bi(o),t=Rh(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=cn(e.firstChild),vt=t,Ae=!0,sa=null,on=!0,a=xf(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qa(),s===o){t=Yn(e,t,a);break e}pt(e,t,s,a)}t=t.child}return t;case 26:return sl(e,t),e===null?(a=Vg(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ae||(a=t.type,e=t.pendingProps,s=xl(F.current).createElement(a),s[mt]=t,s[Nt]=e,bt(s,a,e),ct(s),t.stateNode=s):t.memoizedState=Vg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&Ae&&(s=t.stateNode=Hg(t.type,t.pendingProps,F.current),vt=t,on=!0,o=He,_a(t.type)?(gc=o,He=cn(s.firstChild)):He=o),pt(e,t,t.pendingProps.children,a),sl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((o=s=He)&&(s=Pp(s,t.type,t.pendingProps,on),s!==null?(t.stateNode=s,vt=t,He=cn(s.firstChild),on=!1,o=!0):o=!1),o||la(t)),_e(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,s=c.children,uc(o,c)?s=null:h!==null&&uc(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=ou(e,t,gp,null,null,a),Ii._currentValue=o),sl(e,t),pt(e,t,s,a),t.child;case 6:return e===null&&Ae&&((e=a=He)&&(a=e0(a,t.pendingProps,on),a!==null?(t.stateNode=a,vt=t,He=null,e=!0):e=!1),e||la(t)),null;case 13:return Ch(e,t,a);case 4:return ve(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ya(t,null,s,a):pt(e,t,s,a),t.child;case 11:return wh(e,t,t.type,t.pendingProps,a);case 7:return pt(e,t,t.pendingProps,a),t.child;case 8:return pt(e,t,t.pendingProps.children,a),t.child;case 12:return pt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,oa(t,t.type,s.value),pt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,$a(t),o=yt(o),s=s(o),t.flags|=1,pt(e,t,s,a),t.child;case 14:return _h(e,t,t.type,t.pendingProps,a);case 15:return Sh(e,t,t.type,t.pendingProps,a);case 19:return Nh(e,t,a);case 31:return Sp(e,t,a);case 22:return xh(e,t,a,t.pendingProps);case 24:return $a(t),s=yt(Pe),e===null?(o=Fo(),o===null&&(o=Le,c=Zo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},eu(t),oa(t,Pe,o)):((e.lanes&a)!==0&&(tu(e,t),Ai(t,null,null,a),Ti()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),oa(t,Pe,s)):(s=c.cache,oa(t,Pe,s),s!==o.cache&&Qo(t,[Pe],a,!0))),pt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function In(e){e.flags|=4}function zu(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ig())e.flags|=8192;else throw Ka=Ys,Po}else e.flags&=-16777217}function kh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jg(t))if(ig())e.flags|=8192;else throw Ka=Ys,Po}function ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Et():536870912,e.lanes|=t,Ur|=t)}function Di(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Ep(e,t,a){var s=t.pendingProps;switch(Ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Gn(Pe),he(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_r(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Io())),$e(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(In(t),c!==null?($e(t),kh(t,c)):($e(t),zu(t,o,null,s,a))):c?c!==e.memoizedState?(In(t),$e(t),kh(t,c)):($e(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&In(t),$e(t),zu(t,o,e,s,a)),null;case 27:if(Ye(t),a=F.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}e=I.current,_r(t)?ff(t):(e=Hg(o,s,a),t.stateNode=e,In(t))}return $e(t),null;case 5:if(Ye(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return $e(t),null}if(c=I.current,_r(t))ff(t);else{var h=xl(F.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?h.createElement(o,{is:s.is}):h.createElement(o)}}c[mt]=t,c[Nt]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(bt(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&In(t)}}return $e(t),zu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=F.current,_r(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=vt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[mt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Cg(e.nodeValue,a)),e||la(t,!0)}else e=xl(e).createTextNode(s),e[mt]=t,t.stateNode=e}return $e(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=_r(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[mt]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),e=!1}else a=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Vt(t),t):(Vt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return $e(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=_r(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[mt]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else o=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Vt(t),t):(Vt(t),null)}return Vt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ol(t,t.updateQueue),$e(t),null);case 4:return he(),e===null&&rc(t.stateNode.containerInfo),$e(t),null;case 10:return Gn(t.type),$e(t),null;case 19:if(j(We),s=t.memoizedState,s===null)return $e(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)Di(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Qs(e),c!==null){for(t.flags|=128,Di(s,!1),e=c.updateQueue,t.updateQueue=e,ol(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)lf(a,e),a=a.sibling;return O(We,We.current&1|2),Ae&&Hn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&St()>hl&&(t.flags|=128,o=!0,Di(s,!1),t.lanes=4194304)}else{if(!o)if(e=Qs(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ol(t,e),Di(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Ae)return $e(t),null}else 2*St()-s.renderingStartTime>hl&&a!==536870912&&(t.flags|=128,o=!0,Di(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,a=We.current,O(We,o?a&1|2:a&1),Ae&&Hn(t,s.treeForkCount),e):($e(t),null);case 22:case 23:return Vt(t),iu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&ol(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&j(Ga),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Gn(Pe),$e(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Tp(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(Pe),he(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 31:if(t.memoizedState!==null){if(Vt(t),t.alternate===null)throw Error(l(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return j(We),null;case 4:return he(),null;case 10:return Gn(t.type),null;case 22:case 23:return Vt(t),iu(),e!==null&&j(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gn(Pe),null;case 25:return null;default:return null}}function Uh(e,t){switch(Ko(t),t.tag){case 3:Gn(Pe),he();break;case 26:case 27:case 5:Ye(t);break;case 4:he();break;case 31:t.memoizedState!==null&&Vt(t);break;case 13:Vt(t);break;case 19:j(We);break;case 10:Gn(t.type);break;case 22:case 23:Vt(t),iu(),e!==null&&j(Ga);break;case 24:Gn(Pe)}}function ki(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,h=a.inst;s=c(),h.destroy=s}a=a.next}while(a!==o)}}catch(y){Ue(t,t.return,y)}}function ga(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var h=s.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,o=t;var x=a,U=y;try{U()}catch($){Ue(o,x,$)}}}s=s.next}while(s!==c)}}catch($){Ue(t,t.return,$)}}function Mh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tf(t,a)}catch(s){Ue(e,e.return,s)}}}function zh(e,t,a){a.props=Xa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ue(e,t,s)}}function Ui(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ue(e,t,o)}}function Rn(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function Bh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function Bu(e,t,a){try{var s=e.stateNode;Xp(s,e.type,a,t),s[Nt]=t}catch(o){Ue(e,e.return,o)}}function Lh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_a(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_a(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Bn));else if(s!==4&&(s===27&&_a(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,a),e=e.sibling;e!==null;)qu(e,t,a),e=e.sibling}function ul(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&_a(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ul(e,t,a),e=e.sibling;e!==null;)ul(e,t,a),e=e.sibling}function qh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);bt(t,s,a),t[mt]=e,t[Nt]=a}catch(c){Ue(e,e.return,c)}}var Xn=!1,nt=!1,Hu=!1,Hh=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Ap(e,t){if(e=e.containerInfo,lc=jl,e=Wd(e),ko(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,y=-1,x=-1,U=0,$=0,X=e,z=null;t:for(;;){for(var q;X!==a||o!==0&&X.nodeType!==3||(y=h+o),X!==c||s!==0&&X.nodeType!==3||(x=h+s),X.nodeType===3&&(h+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break t;if(z===a&&++U===o&&(y=h),z===c&&++$===s&&(x=h),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}a=y===-1||x===-1?null:{start:y,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(oc={focusedElem:e,selectionRange:a},jl=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){switch(t=dt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var te=Xa(a.type,o);e=s.getSnapshotBeforeUpdate(te,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ue(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)dc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}}function $h(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(e,a),s&4&&ki(5,a);break;case 1:if(Qn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Ue(a,a.return,h)}else{var o=Xa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ue(a,a.return,h)}}s&64&&Mh(a),s&512&&Ui(a,a.return);break;case 3:if(Qn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tf(e,t)}catch(h){Ue(a,a.return,h)}}break;case 27:t===null&&s&4&&qh(a);case 26:case 5:Qn(e,a),t===null&&s&4&&Bh(a),s&512&&Ui(a,a.return);break;case 12:Qn(e,a);break;case 31:Qn(e,a),s&4&&Kh(e,a);break;case 13:Qn(e,a),s&4&&Yh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Mp.bind(null,a),t0(e,a))));break;case 22:if(s=a.memoizedState!==null||Xn,!s){t=t!==null&&t.memoizedState!==null||nt,o=Xn;var c=nt;Xn=s,(nt=t)&&!c?Zn(e,a,(a.subtreeFlags&8772)!==0):Qn(e,a),Xn=o,nt=c}break;case 30:break;default:Qn(e,a)}}function Gh(e){var t=e.alternate;t!==null&&(e.alternate=null,Gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,kt=!1;function Jn(e,t,a){for(a=a.child;a!==null;)Vh(e,t,a),a=a.sibling}function Vh(e,t,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Da,a)}catch{}switch(a.tag){case 26:nt||Rn(a,t),Jn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||Rn(a,t);var s=Ve,o=kt;_a(a.type)&&(Ve=a.stateNode,kt=!1),Jn(e,t,a),Vi(a.stateNode),Ve=s,kt=o;break;case 5:nt||Rn(a,t);case 6:if(s=Ve,o=kt,Ve=null,Jn(e,t,a),Ve=s,kt=o,Ve!==null)if(kt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(c){Ue(a,t,c)}else try{Ve.removeChild(a.stateNode)}catch(c){Ue(a,t,c)}break;case 18:Ve!==null&&(kt?(e=Ve,Mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Gr(e)):Mg(Ve,a.stateNode));break;case 4:s=Ve,o=kt,Ve=a.stateNode.containerInfo,kt=!0,Jn(e,t,a),Ve=s,kt=o;break;case 0:case 11:case 14:case 15:ga(2,a,t),nt||ga(4,a,t),Jn(e,t,a);break;case 1:nt||(Rn(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&zh(a,t,s)),Jn(e,t,a);break;case 21:Jn(e,t,a);break;case 22:nt=(s=nt)||a.memoizedState!==null,Jn(e,t,a),nt=s;break;default:Jn(e,t,a)}}function Kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gr(e)}catch(a){Ue(t,t.return,a)}}}function Yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gr(e)}catch(a){Ue(t,t.return,a)}}function Op(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hh),t;default:throw Error(l(435,e.tag))}}function cl(e,t){var a=Op(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=zp.bind(null,e,s);s.then(o,o)}})}function Ut(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(_a(y.type)){Ve=y.stateNode,kt=!1;break e}break;case 5:Ve=y.stateNode,kt=!1;break e;case 3:case 4:Ve=y.stateNode.containerInfo,kt=!0;break e}y=y.return}if(Ve===null)throw Error(l(160));Vh(c,h,o),Ve=null,kt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ih(t,e),t=t.sibling}var yn=null;function Ih(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),Mt(e),s&4&&(ga(3,e,e.return),ki(3,e),ga(5,e,e.return));break;case 1:Ut(t,e),Mt(e),s&512&&(nt||a===null||Rn(a,a.return)),s&64&&Xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=yn;if(Ut(t,e),Mt(e),s&512&&(nt||a===null||Rn(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[li]||c[mt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),bt(c,s,a),c[mt]=e,ct(c),s=c;break e;case"link":var h=Ig("link","href",o).get(s+(a.href||""));if(h){for(var y=0;y<h.length;y++)if(c=h[y],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(y,1);break t}}c=o.createElement(s),bt(c,s,a),o.head.appendChild(c);break;case"meta":if(h=Ig("meta","content",o).get(s+(a.content||""))){for(y=0;y<h.length;y++)if(c=h[y],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(y,1);break t}}c=o.createElement(s),bt(c,s,a),o.head.appendChild(c);break;default:throw Error(l(468,s))}c[mt]=e,ct(c),s=c}e.stateNode=s}else Xg(o,e.type,e.stateNode);else e.stateNode=Yg(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?Xg(o,e.type,e.stateNode):Yg(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(t,e),Mt(e),s&512&&(nt||a===null||Rn(a,a.return)),a!==null&&s&4&&Bu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(t,e),Mt(e),s&512&&(nt||a===null||Rn(a,a.return)),e.flags&32){o=e.stateNode;try{dr(o,"")}catch(te){Ue(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Bu(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Hu=!0);break;case 6:if(Ut(t,e),Mt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(te){Ue(e,e.return,te)}}break;case 3:if(Al=null,o=yn,yn=El(t.containerInfo),Ut(t,e),yn=o,Mt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(te){Ue(e,e.return,te)}Hu&&(Hu=!1,Xh(e));break;case 4:s=yn,yn=El(e.stateNode.containerInfo),Ut(t,e),Mt(e),yn=s;break;case 12:Ut(t,e),Mt(e);break;case 31:Ut(t,e),Mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,cl(e,s)));break;case 13:Ut(t,e),Mt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fl=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,cl(e,s)));break;case 22:o=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,U=Xn,$=nt;if(Xn=U||o,nt=$||x,Ut(t,e),nt=$,Xn=U,Mt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||x||Xn||nt||Ja(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(c=x.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;y.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(te){Ue(x,x.return,te)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=o?"":x.memoizedProps}catch(te){Ue(x,x.return,te)}}}else if(t.tag===18){if(a===null){x=t;try{var q=x.stateNode;o?zg(q,!0):zg(x.stateNode,!1)}catch(te){Ue(x,x.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,cl(e,a))));break;case 19:Ut(t,e),Mt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,cl(e,s)));break;case 30:break;case 21:break;default:Ut(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Lh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,c=Lu(e);ul(e,c,o);break;case 5:var h=a.stateNode;a.flags&32&&(dr(h,""),a.flags&=-33);var y=Lu(e);ul(e,y,h);break;case 3:case 4:var x=a.stateNode.containerInfo,U=Lu(e);qu(e,U,x);break;default:throw Error(l(161))}}catch($){Ue(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$h(e,t.alternate,t),t=t.sibling}function Ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ga(4,t,t.return),Ja(t);break;case 1:Rn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&zh(t,t.return,a),Ja(t);break;case 27:Vi(t.stateNode);case 26:case 5:Rn(t,t.return),Ja(t);break;case 22:t.memoizedState===null&&Ja(t);break;case 30:Ja(t);break;default:Ja(t)}e=e.sibling}}function Zn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Zn(o,c,a),ki(4,c);break;case 1:if(Zn(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(U){Ue(s,s.return,U)}if(s=c,o=s.updateQueue,o!==null){var y=s.stateNode;try{var x=o.shared.hiddenCallbacks;if(x!==null)for(o.shared.hiddenCallbacks=null,o=0;o<x.length;o++)Ef(x[o],y)}catch(U){Ue(s,s.return,U)}}a&&h&64&&Mh(c),Ui(c,c.return);break;case 27:qh(c);case 26:case 5:Zn(o,c,a),a&&s===null&&h&4&&Bh(c),Ui(c,c.return);break;case 12:Zn(o,c,a);break;case 31:Zn(o,c,a),a&&h&4&&Kh(o,c);break;case 13:Zn(o,c,a),a&&h&4&&Yh(o,c);break;case 22:c.memoizedState===null&&Zn(o,c,a),Ui(c,c.return);break;case 30:break;default:Zn(o,c,a)}t=t.sibling}}function $u(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&wi(a))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wi(e))}function pn(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jh(e,t,a,s),t=t.sibling}function Jh(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:pn(e,t,a,s),o&2048&&ki(9,t);break;case 1:pn(e,t,a,s);break;case 3:pn(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&wi(e)));break;case 12:if(o&2048){pn(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,y=c.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Ue(t,t.return,x)}}else pn(e,t,a,s);break;case 31:pn(e,t,a,s);break;case 13:pn(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?pn(e,t,a,s):Mi(e,t):c._visibility&2?pn(e,t,a,s):(c._visibility|=2,Nr(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&$u(h,t);break;case 24:pn(e,t,a,s),o&2048&&Gu(t.alternate,t);break;default:pn(e,t,a,s)}}function Nr(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,y=a,x=s,U=h.flags;switch(h.tag){case 0:case 11:case 15:Nr(c,h,y,x,o),ki(8,h);break;case 23:break;case 22:var $=h.stateNode;h.memoizedState!==null?$._visibility&2?Nr(c,h,y,x,o):Mi(c,h):($._visibility|=2,Nr(c,h,y,x,o)),o&&U&2048&&$u(h.alternate,h);break;case 24:Nr(c,h,y,x,o),o&&U&2048&&Gu(h.alternate,h);break;default:Nr(c,h,y,x,o)}t=t.sibling}}function Mi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:Mi(a,s),o&2048&&$u(s.alternate,s);break;case 24:Mi(a,s),o&2048&&Gu(s.alternate,s);break;default:Mi(a,s)}t=t.sibling}}var zi=8192;function Dr(e,t,a){if(e.subtreeFlags&zi)for(e=e.child;e!==null;)Qh(e,t,a),e=e.sibling}function Qh(e,t,a){switch(e.tag){case 26:Dr(e,t,a),e.flags&zi&&e.memoizedState!==null&&h0(a,yn,e.memoizedState,e.memoizedProps);break;case 5:Dr(e,t,a);break;case 3:case 4:var s=yn;yn=El(e.stateNode.containerInfo),Dr(e,t,a),yn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=zi,zi=16777216,Dr(e,t,a),zi=s):Dr(e,t,a));break;default:Dr(e,t,a)}}function Zh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];dt=s,Fh(s,e)}Zh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wh(e),e=e.sibling}function Wh(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&ga(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,dl(e)):Bi(e);break;default:Bi(e)}}function dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];dt=s,Fh(s,e)}Zh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ga(8,t,t.return),dl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,dl(t));break;default:dl(t)}e=e.sibling}}function Fh(e,t){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:ga(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:wi(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,dt=s;else e:for(a=e;dt!==null;){s=dt;var o=s.sibling,c=s.return;if(Gh(s),s===a){dt=null;break e}if(o!==null){o.return=c,dt=o;break e}dt=c}}}var Rp={getCacheForType:function(e){var t=yt(Pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return yt(Pe).controller.signal}},Cp=typeof WeakMap=="function"?WeakMap:Map,De=0,Le=null,Se=null,Ee=0,ke=0,Kt=null,ma=!1,kr=!1,Vu=!1,Wn=0,Xe=0,va=0,Qa=0,Ku=0,Yt=0,Ur=0,Li=null,zt=null,Yu=!1,fl=0,Ph=0,hl=1/0,gl=null,ya=null,it=0,pa=null,Mr=null,Fn=0,Iu=0,Xu=null,eg=null,qi=0,Ju=null;function It(){return(De&2)!==0&&Ee!==0?Ee&-Ee:D.T!==null?ec():mn()}function tg(){if(Yt===0)if((Ee&536870912)===0||Ae){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),Yt=e}else Yt=536870912;return e=Gt.current,e!==null&&(e.flags|=32),Yt}function Bt(e,t,a){(e===Le&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(zr(e,0),ba(e,Ee,Yt,!1)),Ft(e,a),((De&2)===0||e!==Le)&&(e===Le&&((De&2)===0&&(Qa|=a),Xe===4&&ba(e,Ee,Yt,!1)),Cn(e))}function ng(e,t,a){if((De&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Rt(e,t),o=s?Dp(e,t):Zu(e,t,!0),c=s;do{if(o===0){kr&&!s&&ba(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!jp(a)){o=Zu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;o=Li;var x=y.current.memoizedState.isDehydrated;if(x&&(zr(y,h).flags|=256),h=Zu(y,h,!1),h!==2){if(Vu&&!x){y.errorRecoveryDisabledLanes|=c,Qa|=c,o=4;break e}c=zt,zt=o,c!==null&&(zt===null?zt=c:zt.push.apply(zt,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){zr(e,0),ba(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ba(s,t,Yt,!ma);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=fl+300-St(),10<o)){if(ba(s,t,Yt,!ma),ut(s,0,!0)!==0)break e;Fn=t,s.timeoutHandle=kg(ag.bind(null,s,a,zt,gl,Yu,t,Yt,Qa,Ur,ma,c,"Throttled",-0,0),o);break e}ag(s,a,zt,gl,Yu,t,Yt,Qa,Ur,ma,c,null,-0,0)}}break}while(!0);Cn(e)}function ag(e,t,a,s,o,c,h,y,x,U,$,X,z,q){if(e.timeoutHandle=-1,X=t.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Qh(t,c,X);var te=(c&62914560)===c?fl-St():(c&4194048)===c?Ph-St():0;if(te=g0(X,te),te!==null){Fn=c,e.cancelPendingCommit=te(dg.bind(null,e,t,c,a,s,o,h,y,x,$,X,null,z,q)),ba(e,c,h,!U);return}}dg(e,t,c,a,s,o,h,y,x)}function jp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!Ht(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t,a,s){t&=~Ku,t&=~Qa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-xt(o),h=1<<c;s[c]=-1,o&=~h}a!==0&&gn(e,a,t)}function ml(){return(De&6)===0?(Hi(0),!1):!0}function Qu(){if(Se!==null){if(ke===0)var e=Se.return;else e=Se,$n=Ha=null,du(e),Ar=null,Si=0,e=Se;for(;e!==null;)Uh(e.alternate,e),e=e.return;Se=null}}function zr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Zp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Fn=0,Qu(),Le=e,Se=a=qn(e.current,null),Ee=t,ke=0,Kt=null,ma=!1,kr=Rt(e,t),Vu=!1,Ur=Yt=Ku=Qa=va=Xe=0,zt=Li=null,Yu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-xt(s),c=1<<o;t|=e[o],s&=~c}return Wn=t,zs(),a}function rg(e,t){pe=null,D.H=ji,t===Tr||t===Ks?(t=wf(),ke=3):t===Po?(t=wf(),ke=4):ke=t===Ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,Se===null&&(Xe=1,rl(e,rn(t,e.current)))}function ig(){var e=Gt.current;return e===null?!0:(Ee&4194048)===Ee?un===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===un:!1}function sg(){var e=D.H;return D.H=ji,e===null?ji:e}function lg(){var e=D.A;return D.A=Rp,e}function vl(){Xe=4,ma||(Ee&4194048)!==Ee&&Gt.current!==null||(kr=!0),(va&134217727)===0&&(Qa&134217727)===0||Le===null||ba(Le,Ee,Yt,!1)}function Zu(e,t,a){var s=De;De|=2;var o=sg(),c=lg();(Le!==e||Ee!==t)&&(gl=null,zr(e,t)),t=!1;var h=Xe;e:do try{if(ke!==0&&Se!==null){var y=Se,x=Kt;switch(ke){case 8:Qu(),h=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(t=!0);var U=ke;if(ke=0,Kt=null,Br(e,y,x,U),a&&kr){h=0;break e}break;default:U=ke,ke=0,Kt=null,Br(e,y,x,U)}}Np(),h=Xe;break}catch($){rg(e,$)}while(!0);return t&&e.shellSuspendCounter++,$n=Ha=null,De=s,D.H=o,D.A=c,Se===null&&(Le=null,Ee=0,zs()),h}function Np(){for(;Se!==null;)og(Se)}function Dp(e,t){var a=De;De|=2;var s=sg(),o=lg();Le!==e||Ee!==t?(gl=null,hl=St()+500,zr(e,t)):kr=Rt(e,t);e:do try{if(ke!==0&&Se!==null){t=Se;var c=Kt;t:switch(ke){case 1:ke=0,Kt=null,Br(e,t,c,1);break;case 2:case 9:if(pf(c)){ke=0,Kt=null,ug(t);break}t=function(){ke!==2&&ke!==9||Le!==e||(ke=7),Cn(e)},c.then(t,t);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:pf(c)?(ke=0,Kt=null,ug(t)):(ke=0,Kt=null,Br(e,t,c,7));break;case 5:var h=null;switch(Se.tag){case 26:h=Se.memoizedState;case 5:case 27:var y=Se;if(h?Jg(h):y.stateNode.complete){ke=0,Kt=null;var x=y.sibling;if(x!==null)Se=x;else{var U=y.return;U!==null?(Se=U,yl(U)):Se=null}break t}}ke=0,Kt=null,Br(e,t,c,5);break;case 6:ke=0,Kt=null,Br(e,t,c,6);break;case 8:Qu(),Xe=6;break e;default:throw Error(l(462))}}kp();break}catch($){rg(e,$)}while(!0);return $n=Ha=null,D.H=s,D.A=o,De=a,Se!==null?0:(Le=null,Ee=0,zs(),Xe)}function kp(){for(;Se!==null&&!nr();)og(Se)}function og(e){var t=Dh(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?yl(e):Se=t}function ug(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ah(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Ah(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:du(t);default:Uh(a,t),t=Se=lf(t,Wn),t=Dh(a,t,Wn)}e.memoizedProps=e.pendingProps,t===null?yl(e):Se=t}function Br(e,t,a,s){$n=Ha=null,du(t),Ar=null,Si=0;var o=t.return;try{if(_p(e,o,t,a,Ee)){Xe=1,rl(e,rn(a,e.current)),Se=null;return}}catch(c){if(o!==null)throw Se=o,c;Xe=1,rl(e,rn(a,e.current)),Se=null;return}t.flags&32768?(Ae||s===1?e=!0:kr||(Ee&536870912)!==0?e=!1:(ma=e=!0,(s===2||s===9||s===3||s===6)&&(s=Gt.current,s!==null&&s.tag===13&&(s.flags|=16384))),cg(t,e)):yl(t)}function yl(e){var t=e;do{if((t.flags&32768)!==0){cg(t,ma);return}e=t.return;var a=Ep(t.alternate,t,Wn);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Xe===0&&(Xe=5)}function cg(e,t){do{var a=Tp(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Xe=6,Se=null}function dg(e,t,a,s,o,c,h,y,x){e.cancelPendingCommit=null;do pl();while(it!==0);if((De&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Lo,rt(e,a,c,h,y,x),e===Le&&(Se=Le=null,Ee=0),Mr=t,pa=e,Fn=a,Iu=c,Xu=o,eg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bp(hn,function(){return vg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,o=J.p,J.p=2,h=De,De|=4;try{Ap(e,t,a)}finally{De=h,J.p=o,D.T=s}}it=1,fg(),hg(),gg()}}function fg(){if(it===1){it=0;var e=pa,t=Mr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var s=J.p;J.p=2;var o=De;De|=4;try{Ih(t,e);var c=oc,h=Wd(e.containerInfo),y=c.focusedElem,x=c.selectionRange;if(h!==y&&y&&y.ownerDocument&&Zd(y.ownerDocument.documentElement,y)){if(x!==null&&ko(y)){var U=x.start,$=x.end;if($===void 0&&($=U),"selectionStart"in y)y.selectionStart=U,y.selectionEnd=Math.min($,y.value.length);else{var X=y.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),te=y.textContent.length,oe=Math.min(x.start,te),Be=x.end===void 0?oe:Math.min(x.end,te);!q.extend&&oe>Be&&(h=Be,Be=oe,oe=h);var C=Qd(y,oe),T=Qd(y,Be);if(C&&T&&(q.rangeCount!==1||q.anchorNode!==C.node||q.anchorOffset!==C.offset||q.focusNode!==T.node||q.focusOffset!==T.offset)){var k=X.createRange();k.setStart(C.node,C.offset),q.removeAllRanges(),oe>Be?(q.addRange(k),q.extend(T.node,T.offset)):(k.setEnd(T.node,T.offset),q.addRange(k))}}}}for(X=[],q=y;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<X.length;y++){var Y=X[y];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}jl=!!lc,oc=lc=null}finally{De=o,J.p=s,D.T=a}}e.current=t,it=2}}function hg(){if(it===2){it=0;var e=pa,t=Mr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var s=J.p;J.p=2;var o=De;De|=4;try{$h(e,t.alternate,t)}finally{De=o,J.p=s,D.T=a}}it=3}}function gg(){if(it===4||it===3){it=0,_s();var e=pa,t=Mr,a=Fn,s=eg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Mr=pa=null,mg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ya=null),Mn(a),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Da,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,o=J.p,J.p=2,D.T=null;try{for(var c=e.onRecoverableError,h=0;h<s.length;h++){var y=s[h];c(y.value,{componentStack:y.stack})}}finally{D.T=t,J.p=o}}(Fn&3)!==0&&pl(),Cn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Ju?qi++:(qi=0,Ju=e):qi=0,Hi(0)}}function mg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,wi(t)))}function pl(){return fg(),hg(),gg(),vg()}function vg(){if(it!==5)return!1;var e=pa,t=Iu;Iu=0;var a=Mn(Fn),s=D.T,o=J.p;try{J.p=32>a?32:a,D.T=null,a=Xu,Xu=null;var c=pa,h=Fn;if(it=0,Mr=pa=null,Fn=0,(De&6)!==0)throw Error(l(331));var y=De;if(De|=4,Wh(c.current),Jh(c,c.current,h,a),De=y,Hi(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Da,c)}catch{}return!0}finally{J.p=o,D.T=s,mg(e,t)}}function yg(e,t,a){t=rn(a,t),t=Au(e.stateNode,t,2),e=da(e,t,2),e!==null&&(Ft(e,2),Cn(e))}function Ue(e,t,a){if(e.tag===3)yg(e,e,a);else for(;t!==null;){if(t.tag===3){yg(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ya===null||!ya.has(s))){e=rn(a,e),a=ph(2),s=da(t,a,2),s!==null&&(bh(a,s,t,e),Ft(s,2),Cn(s));break}}t=t.return}}function Wu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Cp;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Vu=!0,o.add(a),e=Up.bind(null,e,t,a),t.then(e,e))}function Up(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(Ee&a)===a&&(Xe===4||Xe===3&&(Ee&62914560)===Ee&&300>St()-fl?(De&2)===0&&zr(e,0):Ku|=a,Ur===Ee&&(Ur=0)),Cn(e)}function pg(e,t){t===0&&(t=Et()),e=Ba(e,t),e!==null&&(Ft(e,t),Cn(e))}function Mp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),pg(e,a)}function zp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),pg(e,a)}function Bp(e,t){return Zt(e,t)}var bl=null,Lr=null,Fu=!1,wl=!1,Pu=!1,wa=0;function Cn(e){e!==Lr&&e.next===null&&(Lr===null?bl=Lr=e:Lr=Lr.next=e),wl=!0,Fu||(Fu=!0,qp())}function Hi(e,t){if(!Pu&&wl){Pu=!0;do for(var a=!1,s=bl;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var h=s.suspendedLanes,y=s.pingedLanes;c=(1<<31-xt(42|e)+1)-1,c&=o&~(h&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Sg(s,c))}else c=Ee,c=ut(s,s===Le?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Rt(s,c)||(a=!0,Sg(s,c));s=s.next}while(a);Pu=!1}}function Lp(){bg()}function bg(){wl=Fu=!1;var e=0;wa!==0&&Qp()&&(e=wa);for(var t=St(),a=null,s=bl;s!==null;){var o=s.next,c=wg(s,t);c===0?(s.next=null,a===null?bl=o:a.next=o,o===null&&(Lr=a)):(a=s,(e!==0||(c&3)!==0)&&(wl=!0)),s=o}it!==0&&it!==5||Hi(e),wa!==0&&(wa=0)}function wg(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-xt(c),y=1<<h,x=o[h];x===-1?((y&a)===0||(y&s)!==0)&&(o[h]=Ct(y,t)):x<=t&&(e.expiredLanes|=y),c&=~y}if(t=Le,a=Ee,a=ut(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&na(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Rt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&na(s),Mn(a)){case 2:case 8:a=kn;break;case 32:a=hn;break;case 268435456:a=si;break;default:a=hn}return s=_g.bind(null,e),a=Zt(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&na(s),e.callbackPriority=2,e.callbackNode=null,2}function _g(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pl()&&e.callbackNode!==a)return null;var s=Ee;return s=ut(e,e===Le?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ng(e,s,t),wg(e,St()),e.callbackNode!=null&&e.callbackNode===a?_g.bind(null,e):null)}function Sg(e,t){if(pl())return null;ng(e,t,!0)}function qp(){Wp(function(){(De&6)!==0?Zt(Ss,Lp):bg()})}function ec(){if(wa===0){var e=xr;e===0&&(e=ar,ar<<=1,(ar&261888)===0&&(ar=256)),wa=e}return wa}function xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function Eg(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Hp(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=xg((o[Nt]||null).action),h=s.submitter;h&&(t=(t=h[Nt]||null)?xg(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var y=new Ds("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(wa!==0){var x=h?Eg(o,h):new FormData(o);wu(a,{pending:!0,data:x,method:o.method,action:c},null,x)}}else typeof c=="function"&&(y.preventDefault(),x=h?Eg(o,h):new FormData(o),wu(a,{pending:!0,data:x,method:o.method,action:c},c,x))},currentTarget:o}]})}}for(var tc=0;tc<Bo.length;tc++){var nc=Bo[tc],$p=nc.toLowerCase(),Gp=nc[0].toUpperCase()+nc.slice(1);vn($p,"on"+Gp)}vn(ef,"onAnimationEnd"),vn(tf,"onAnimationIteration"),vn(nf,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(rp,"onTransitionRun"),vn(ip,"onTransitionStart"),vn(sp,"onTransitionCancel"),vn(af,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ka("onBeforeInput",["compositionend","keypress","textInput","paste"]),ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($i));function Tg(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var y=s[h],x=y.instance,U=y.currentTarget;if(y=y.listener,x!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=U;try{c(o)}catch($){Ms($)}o.currentTarget=null,c=x}else for(h=0;h<s.length;h++){if(y=s[h],x=y.instance,U=y.currentTarget,y=y.listener,x!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=U;try{c(o)}catch($){Ms($)}o.currentTarget=null,c=x}}}}function xe(e,t){var a=t[mo];a===void 0&&(a=t[mo]=new Set);var s=e+"__bubble";a.has(s)||(Ag(t,e,2,!1),a.add(s))}function ac(e,t,a){var s=0;t&&(s|=4),Ag(a,e,s,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[_l]){e[_l]=!0,pd.forEach(function(a){a!=="selectionchange"&&(Vp.has(a)||ac(a,!1,e),ac(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,ac("selectionchange",!1,t))}}function Ag(e,t,a,s){switch(tm(t)){case 2:var o=y0;break;case 8:o=p0;break;default:o=bc}a=o.bind(null,t,a,e),o=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function ic(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===o)break;if(h===4)for(h=s.return;h!==null;){var x=h.tag;if((x===3||x===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;y!==null;){if(h=sr(y),h===null)return;if(x=h.tag,x===5||x===6||x===26||x===27){s=c=h;continue e}y=y.parentNode}}s=s.return}jd(function(){var U=c,$=So(a),X=[];e:{var z=rf.get(e);if(z!==void 0){var q=Ds,te=e;switch(e){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":q=zy;break;case"focusin":te="focus",q=Ro;break;case"focusout":te="blur",q=Ro;break;case"beforeblur":case"afterblur":q=Ro;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=qy;break;case ef:case tf:case nf:q=Oy;break;case af:q=$y;break;case"scroll":case"scrollend":q=Sy;break;case"wheel":q=Vy;break;case"copy":case"cut":case"paste":q=Cy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Md;break;case"toggle":case"beforetoggle":q=Yy}var oe=(t&4)!==0,Be=!oe&&(e==="scroll"||e==="scrollend"),C=oe?z!==null?z+"Capture":null:z;oe=[];for(var T=U,k;T!==null;){var Y=T;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||C===null||(Y=ui(T,C),Y!=null&&oe.push(Gi(T,Y,k))),Be)break;T=T.return}0<oe.length&&(z=new q(z,te,null,a,$),X.push({event:z,listeners:oe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==_o&&(te=a.relatedTarget||a.fromElement)&&(sr(te)||te[ir]))break e;if((q||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,q?(te=a.relatedTarget||a.toElement,q=U,te=te?sr(te):null,te!==null&&(Be=d(te),oe=te.tag,te!==Be||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(q=null,te=U),q!==te)){if(oe=kd,Y="onMouseLeave",C="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Md,Y="onPointerLeave",C="onPointerEnter",T="pointer"),Be=q==null?z:oi(q),k=te==null?z:oi(te),z=new oe(Y,T+"leave",q,a,$),z.target=Be,z.relatedTarget=k,Y=null,sr($)===U&&(oe=new oe(C,T+"enter",te,a,$),oe.target=k,oe.relatedTarget=Be,Y=oe),Be=Y,q&&te)t:{for(oe=Kp,C=q,T=te,k=0,Y=C;Y;Y=oe(Y))k++;Y=0;for(var se=T;se;se=oe(se))Y++;for(;0<k-Y;)C=oe(C),k--;for(;0<Y-k;)T=oe(T),Y--;for(;k--;){if(C===T||T!==null&&C===T.alternate){oe=C;break t}C=oe(C),T=oe(T)}oe=null}else oe=null;q!==null&&Og(X,z,q,oe,!1),te!==null&&Be!==null&&Og(X,Be,te,oe,!0)}}e:{if(z=U?oi(U):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var je=Vd;else if($d(z))if(Kd)je=tp;else{je=Py;var ae=Fy}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&wo(U.elementType)&&(je=Vd):je=ep;if(je&&(je=je(e,U))){Gd(X,je,a,$);break e}ae&&ae(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&bo(z,"number",z.value)}switch(ae=U?oi(U):window,e){case"focusin":($d(ae)||ae.contentEditable==="true")&&(mr=ae,Uo=U,yi=null);break;case"focusout":yi=Uo=mr=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Fd(X,a,$);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":Fd(X,a,$)}var we;if(jo)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else gr?qd(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(zd&&a.locale!=="ko"&&(gr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&gr&&(we=Nd()):(ra=$,To="value"in ra?ra.value:ra.textContent,gr=!0)),ae=Sl(U,Te),0<ae.length&&(Te=new Ud(Te,e,null,a,$),X.push({event:Te,listeners:ae}),we?Te.data=we:(we=Hd(a),we!==null&&(Te.data=we)))),(we=Xy?Jy(e,a):Qy(e,a))&&(Te=Sl(U,"onBeforeInput"),0<Te.length&&(ae=new Ud("onBeforeInput","beforeinput",null,a,$),X.push({event:ae,listeners:Te}),ae.data=we)),Hp(X,e,U,a,$)}Tg(X,t)})}function Gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Sl(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ui(e,a),o!=null&&s.unshift(Gi(e,o,c)),o=ui(e,t),o!=null&&s.push(Gi(e,o,c))),e.tag===3)return s;e=e.return}return[]}function Kp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,t,a,s,o){for(var c=t._reactName,h=[];a!==null&&a!==s;){var y=a,x=y.alternate,U=y.stateNode;if(y=y.tag,x!==null&&x===s)break;y!==5&&y!==26&&y!==27||U===null||(x=U,o?(U=ui(a,c),U!=null&&h.unshift(Gi(a,U,x))):o||(U=ui(a,c),U!=null&&h.push(Gi(a,U,x)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Yp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(Yp,`
`).replace(Ip,"")}function Cg(e,t){return t=Rg(t),Rg(e)===t}function ze(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||dr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&dr(e,""+s);break;case"className":As(e,"class",s);break;case"tabIndex":As(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":As(e,a,s);break;case"style":Rd(e,s,c);break;case"data":if(t!=="object"){As(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Rs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Rs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Bn);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Rs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Ts(e,"popover",s);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ts(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wy.get(a)||a,Ts(e,a,s))}}function sc(e,t,a,s,o,c){switch(a){case"style":Rd(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?dr(e,s):(typeof s=="number"||typeof s=="bigint")&&dr(e,""+s);break;case"onScroll":s!=null&&xe("scroll",e);break;case"onScrollEnd":s!=null&&xe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[Nt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ts(e,a,s)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,c,h,a,null)}}o&&ze(e,t,"srcSet",a.srcSet,a,null),s&&ze(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var y=c=h=o=null,x=null,U=null;for(s in a)if(a.hasOwnProperty(s)){var $=a[s];if($!=null)switch(s){case"name":o=$;break;case"type":h=$;break;case"checked":x=$;break;case"defaultChecked":U=$;break;case"value":c=$;break;case"defaultValue":y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(l(137,t));break;default:ze(e,t,s,$,a,null)}}Ed(e,c,y,x,U,h,o,!1);return;case"select":xe("invalid",e),s=h=c=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":h=y;break;case"multiple":s=y;default:ze(e,t,o,y,a,null)}t=c,a=h,e.multiple=!!s,t!=null?cr(e,!!s,t,!1):a!=null&&cr(e,!!s,a,!0);return;case"textarea":xe("invalid",e),c=o=s=null;for(h in a)if(a.hasOwnProperty(h)&&(y=a[h],y!=null))switch(h){case"value":s=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:ze(e,t,h,y,a,null)}Ad(e,s,o,c);return;case"option":for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null)&&(x==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ze(e,t,x,s,a,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(s=0;s<$i.length;s++)xe($i[s],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(s=a[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,U,s,a,null)}return;default:if(wo(t)){for($ in a)a.hasOwnProperty($)&&(s=a[$],s!==void 0&&sc(e,t,$,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&ze(e,t,y,s,a,null))}function Xp(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,y=null,x=null,U=null,$=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:s.hasOwnProperty(q)||ze(e,t,q,null,s,X)}}for(var z in s){var q=s[z];if(X=a[z],s.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":c=q;break;case"name":o=q;break;case"checked":U=q;break;case"defaultChecked":$=q;break;case"value":h=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:q!==X&&ze(e,t,z,q,s,X)}}po(e,h,y,x,U,$,c,o);return;case"select":q=h=y=z=null;for(c in a)if(x=a[c],a.hasOwnProperty(c)&&x!=null)switch(c){case"value":break;case"multiple":q=x;default:s.hasOwnProperty(c)||ze(e,t,c,null,s,x)}for(o in s)if(c=s[o],x=a[o],s.hasOwnProperty(o)&&(c!=null||x!=null))switch(o){case"value":z=c;break;case"defaultValue":y=c;break;case"multiple":h=c;default:c!==x&&ze(e,t,o,c,s,x)}t=y,a=h,s=q,z!=null?cr(e,!!a,z,!1):!!s!=!!a&&(t!=null?cr(e,!!a,t,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:ze(e,t,y,null,s,o)}for(h in s)if(o=s[h],c=a[h],s.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":z=o;break;case"defaultValue":q=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&ze(e,t,h,o,s,c)}Td(e,z,q);return;case"option":for(var te in a)z=a[te],a.hasOwnProperty(te)&&z!=null&&!s.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:ze(e,t,te,null,s,z));for(x in s)z=s[x],q=a[x],s.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null)&&(x==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ze(e,t,x,z,s,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)z=a[oe],a.hasOwnProperty(oe)&&z!=null&&!s.hasOwnProperty(oe)&&ze(e,t,oe,null,s,z);for(U in s)if(z=s[U],q=a[U],s.hasOwnProperty(U)&&z!==q&&(z!=null||q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:ze(e,t,U,z,s,q)}return;default:if(wo(t)){for(var Be in a)z=a[Be],a.hasOwnProperty(Be)&&z!==void 0&&!s.hasOwnProperty(Be)&&sc(e,t,Be,void 0,s,z);for($ in s)z=s[$],q=a[$],!s.hasOwnProperty($)||z===q||z===void 0&&q===void 0||sc(e,t,$,z,s,q);return}}for(var C in a)z=a[C],a.hasOwnProperty(C)&&z!=null&&!s.hasOwnProperty(C)&&ze(e,t,C,null,s,z);for(X in s)z=s[X],q=a[X],!s.hasOwnProperty(X)||z===q||z==null&&q==null||ze(e,t,X,z,s,q)}function jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,h=o.initiatorType,y=o.duration;if(c&&y&&jg(h)){for(h=0,y=o.responseEnd,s+=1;s<a.length;s++){var x=a[s],U=x.startTime;if(U>y)break;var $=x.transferSize,X=x.initiatorType;$&&jg(X)&&(x=x.responseEnd,h+=$*(x<y?1:(y-U)/(x-U)))}if(--s,t+=8*(c+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lc=null,oc=null;function xl(e){return e.nodeType===9?e:e.ownerDocument}function Ng(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=null;function Qp(){var e=window.event;return e&&e.type==="popstate"?e===cc?!1:(cc=e,!0):(cc=null,!1)}var kg=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch(Fp)}:kg;function Fp(e){setTimeout(function(){throw e})}function _a(e){return e==="head"}function Mg(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),Gr(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Vi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vi(a);for(var c=a.firstChild;c;){var h=c.nextSibling,y=c.nodeName;c[li]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=h}}else a==="body"&&Vi(e.ownerDocument.body);a=o}while(a);Gr(t)}function zg(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dc(a),vo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Pp(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[li])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function e0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=cn(e.nextSibling),e===null))return null;return e}function Bg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function fc(e){return e.data==="$?"||e.data==="$~"}function hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gc=null;function Lg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return cn(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,a){switch(t=xl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vo(e)}var dn=new Map,$g=new Set;function El(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pn=J.d;J.d={f:n0,r:a0,D:r0,C:i0,L:s0,m:l0,X:u0,S:o0,M:c0};function n0(){var e=Pn.f(),t=ml();return e||t}function a0(e){var t=lr(e);t!==null&&t.tag===5&&t.type==="form"?rh(t):Pn.r(e)}var qr=typeof document>"u"?null:document;function Gg(e,t,a){var s=qr;if(s&&typeof t=="string"&&t){var o=nn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),$g.has(o)||($g.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),bt(t,"link",e),ct(t),s.head.appendChild(t)))}}function r0(e){Pn.D(e),Gg("dns-prefetch",e,null)}function i0(e,t){Pn.C(e,t),Gg("preconnect",e,t)}function s0(e,t,a){Pn.L(e,t,a);var s=qr;if(s&&e&&t){var o='link[rel="preload"][as="'+nn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+nn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+nn(a.imageSizes)+'"]')):o+='[href="'+nn(e)+'"]';var c=o;switch(t){case"style":c=Hr(e);break;case"script":c=$r(e)}dn.has(c)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),dn.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Ki(c))||t==="script"&&s.querySelector(Yi(c))||(t=s.createElement("link"),bt(t,"link",e),ct(t),s.head.appendChild(t)))}}function l0(e,t){Pn.m(e,t);var a=qr;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+nn(s)+'"][href="'+nn(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=$r(e)}if(!dn.has(c)&&(e=w({rel:"modulepreload",href:e},t),dn.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Yi(c)))return}s=a.createElement("link"),bt(s,"link",e),ct(s),a.head.appendChild(s)}}}function o0(e,t,a){Pn.S(e,t,a);var s=qr;if(s&&e){var o=or(s).hoistableStyles,c=Hr(e);t=t||"default";var h=o.get(c);if(!h){var y={loading:0,preload:null};if(h=s.querySelector(Ki(c)))y.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=dn.get(c))&&mc(e,a);var x=h=s.createElement("link");ct(x),bt(x,"link",e),x._p=new Promise(function(U,$){x.onload=U,x.onerror=$}),x.addEventListener("load",function(){y.loading|=1}),x.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Tl(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:y},o.set(c,h)}}}function u0(e,t){Pn.X(e,t);var a=qr;if(a&&e){var s=or(a).hoistableScripts,o=$r(e),c=s.get(o);c||(c=a.querySelector(Yi(o)),c||(e=w({src:e,async:!0},t),(t=dn.get(o))&&vc(e,t),c=a.createElement("script"),ct(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function c0(e,t){Pn.M(e,t);var a=qr;if(a&&e){var s=or(a).hoistableScripts,o=$r(e),c=s.get(o);c||(c=a.querySelector(Yi(o)),c||(e=w({src:e,async:!0,type:"module"},t),(t=dn.get(o))&&vc(e,t),c=a.createElement("script"),ct(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Vg(e,t,a,s){var o=(o=F.current)?El(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Hr(a.href),a=or(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Hr(a.href);var c=or(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(Ki(e)))&&!c._p&&(h.instance=c,h.state.loading=5),dn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},dn.set(e,a),c||d0(o,e,a,h.state))),t&&s===null)throw Error(l(528,""));return h}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$r(a),a=or(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Hr(e){return'href="'+nn(e)+'"'}function Ki(e){return'link[rel="stylesheet"]['+e+"]"}function Kg(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function d0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",a),ct(t),e.head.appendChild(t))}function $r(e){return'[src="'+nn(e)+'"]'}function Yi(e){return"script[async]"+e}function Yg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+nn(a.href)+'"]');if(s)return t.instance=s,ct(s),s;var o=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ct(s),bt(s,"style",o),Tl(s,a.precedence,e),t.instance=s;case"stylesheet":o=Hr(a.href);var c=e.querySelector(Ki(o));if(c)return t.state.loading|=4,t.instance=c,ct(c),c;s=Kg(a),(o=dn.get(o))&&mc(s,o),c=(e.ownerDocument||e).createElement("link"),ct(c);var h=c;return h._p=new Promise(function(y,x){h.onload=y,h.onerror=x}),bt(c,"link",s),t.state.loading|=4,Tl(c,a.precedence,e),t.instance=c;case"script":return c=$r(a.src),(o=e.querySelector(Yi(c)))?(t.instance=o,ct(o),o):(s=a,(o=dn.get(c))&&(s=w({},a),vc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ct(o),bt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Tl(s,a.precedence,e));return t.instance}function Tl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,h=0;h<s.length;h++){var y=s[h];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Al=null;function Ig(e,t,a){if(Al===null){var s=new Map,o=Al=new Map;o.set(a,s)}else o=Al,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[li]||c[mt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var y=s.get(h);y?y.push(c):s.set(h,[c])}}return s}function Xg(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function f0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Hr(s.href),c=t.querySelector(Ki(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ol.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,ct(c);return}c=t.ownerDocument||t,s=Kg(s),(o=dn.get(o))&&mc(s,o),c=c.createElement("link"),ct(c);var h=c;h._p=new Promise(function(y,x){h.onload=y,h.onerror=x}),bt(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ol.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var yc=0;function g0(e,t){return e.stylesheets&&e.count===0&&Cl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Cl(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&yc===0&&(yc=62500*Jp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cl(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>yc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Ol(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function Cl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,t.forEach(m0,e),Rl=null,Ol.call(e))}function m0(e,t){if(!(t.state.loading&4)){var a=Rl.get(e);if(a)var s=a.get(null);else{a=new Map,Rl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),s=h)}s&&a.set(null,s)}o=t.instance,h=o.getAttribute("data-precedence"),c=a.get(h)||s,c===s&&a.set(null,o),a.set(h,o),this.count++,s=Ol.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ii={$$typeof:B,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function v0(e,t,a,s,o,c,h,y,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.hiddenUpdates=jt(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Qg(e,t,a,s,o,c,h,y,x,U,$,X){return e=new v0(e,t,a,h,x,U,$,X,y),t=1,c===!0&&(t|=24),c=$t(3,null,null,t),e.current=c,c.stateNode=e,t=Zo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},eu(c),e}function Zg(e){return e?(e=pr,e):pr}function Wg(e,t,a,s,o,c){o=Zg(o),s.context===null?s.context=o:s.pendingContext=o,s=ca(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=da(e,s,t),a!==null&&(Bt(a,e,t),Ei(a,e,t))}function Fg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pc(e,t){Fg(e,t),(e=e.alternate)&&Fg(e,t)}function Pg(e){if(e.tag===13||e.tag===31){var t=Ba(e,67108864);t!==null&&Bt(t,e,67108864),pc(e,67108864)}}function em(e){if(e.tag===13||e.tag===31){var t=It();t=Un(t);var a=Ba(e,t);a!==null&&Bt(a,e,t),pc(e,t)}}var jl=!0;function y0(e,t,a,s){var o=D.T;D.T=null;var c=J.p;try{J.p=2,bc(e,t,a,s)}finally{J.p=c,D.T=o}}function p0(e,t,a,s){var o=D.T;D.T=null;var c=J.p;try{J.p=8,bc(e,t,a,s)}finally{J.p=c,D.T=o}}function bc(e,t,a,s){if(jl){var o=wc(s);if(o===null)ic(e,t,s,Nl,a),nm(e,s);else if(w0(o,e,t,a,s))s.stopPropagation();else if(nm(e,s),t&4&&-1<b0.indexOf(e)){for(;o!==null;){var c=lr(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=Ze(c.pendingLanes);if(h!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var x=1<<31-xt(h);y.entanglements[1]|=x,h&=~x}Cn(c),(De&6)===0&&(hl=St()+500,Hi(0))}}break;case 31:case 13:y=Ba(c,2),y!==null&&Bt(y,c,2),ml(),pc(c,2)}if(c=wc(s),c===null&&ic(e,t,s,Nl,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else ic(e,t,s,null,a)}}function wc(e){return e=So(e),_c(e)}var Nl=null;function _c(e){if(Nl=null,e=sr(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nl=e,null}function tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fo()){case Ss:return 2;case kn:return 8;case hn:case Na:return 32;case si:return 268435456;default:return 32}default:return 32}}var Sc=!1,Sa=null,xa=null,Ea=null,Xi=new Map,Ji=new Map,Ta=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nm(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ji.delete(t.pointerId)}}function Qi(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=lr(t),t!==null&&Pg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function w0(e,t,a,s,o){switch(t){case"focusin":return Sa=Qi(Sa,e,t,a,s,o),!0;case"dragenter":return xa=Qi(xa,e,t,a,s,o),!0;case"mouseover":return Ea=Qi(Ea,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return Xi.set(c,Qi(Xi.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,Ji.set(c,Qi(Ji.get(c)||null,e,t,a,s,o)),!0}return!1}function am(e){var t=sr(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,aa(e.priority,function(){em(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,aa(e.priority,function(){em(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=wc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);_o=s,a.target.dispatchEvent(s),_o=null}else return t=lr(a),t!==null&&Pg(t),e.blockedOn=a,!1;t.shift()}return!0}function rm(e,t,a){Dl(e)&&a.delete(t)}function _0(){Sc=!1,Sa!==null&&Dl(Sa)&&(Sa=null),xa!==null&&Dl(xa)&&(xa=null),Ea!==null&&Dl(Ea)&&(Ea=null),Xi.forEach(rm),Ji.forEach(rm)}function kl(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_0)))}var Ul=null;function im(e){Ul!==e&&(Ul=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ul===e&&(Ul=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(_c(s||a)===null)continue;break}var c=lr(a);c!==null&&(e.splice(t,3),t-=3,wu(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Gr(e){function t(x){return kl(x,e)}Sa!==null&&kl(Sa,e),xa!==null&&kl(xa,e),Ea!==null&&kl(Ea,e),Xi.forEach(t),Ji.forEach(t);for(var a=0;a<Ta.length;a++){var s=Ta[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)am(a),a.blockedOn===null&&Ta.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],h=o[Nt]||null;if(typeof c=="function")h||im(a);else if(h){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[Nt]||null)y=h.formAction;else if(_c(o)!==null)continue}else y=h.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),im(a)}}}function sm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function xc(e){this._internalRoot=e}Ml.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=It();Wg(a,s,e,t,null,null)},Ml.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wg(e.current,2,null,e,null,null),ml(),t[ir]=null}};function Ml(e){this._internalRoot=e}Ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=mn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ta.length&&t!==0&&t<Ta[a].priority;a++);Ta.splice(a,0,e),a===0&&am(e)}};var lm=n.version;if(lm!=="19.2.3")throw Error(l(527,lm,"19.2.3"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var S0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{Da=zl.inject(S0),At=zl}catch{}}return Wi.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",o=gh,c=mh,h=vh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Qg(e,1,!1,null,null,a,s,null,o,c,h,sm),e[ir]=t.current,rc(e),new xc(t)},Wi.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,o="",c=gh,h=mh,y=vh,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=Qg(e,1,!0,t,a??null,s,o,x,c,h,y,sm),t.context=Zg(null),a=t.current,s=It(),s=Un(s),o=ca(s),o.callback=null,da(a,o,s),a=s,t.current.lanes=a,Ft(t,a),Cn(t),e[ir]=t.current,rc(e),new Ml(t)},Wi.version="19.2.3",Wi}var ym;function D0(){if(ym)return Ac.exports;ym=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Ac.exports=N0(),Ac.exports}var k0=D0();function eo(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function U0(r,n,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(b){try{v(l.next(b))}catch(w){f(w)}}function g(b){try{v(l.throw(b))}catch(w){f(w)}}function v(b){b.done?d(b.value):u(b.value).then(m,g)}v((l=l.apply(r,n||[])).next())})}const M0=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class sd extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class z0 extends sd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class pm extends sd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class bm extends sd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Vc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Vc||(Vc={}));class B0{constructor(n,{headers:i={},customFetch:l,region:u=Vc.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=M0(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return U0(this,arguments,void 0,function*(i,l={}){var u;let d,f;try{const{headers:m,method:g,body:v,signal:b,timeout:w}=l;let S={},{region:E}=l;E||(E=this.region);const R=new URL(`${this.url}/${i}`);E&&E!=="any"&&(S["x-region"]=E,R.searchParams.set("forceFunctionRegion",E));let N;v&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",N=v):typeof v=="string"?(S["Content-Type"]="text/plain",N=v):typeof FormData<"u"&&v instanceof FormData?N=v:(S["Content-Type"]="application/json",N=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?N=JSON.stringify(v):N=v;let M=b;w&&(f=new AbortController,d=setTimeout(()=>f.abort(),w),b?(M=f.signal,b.addEventListener("abort",()=>f.abort())):M=f.signal);const H=yield this.fetch(R.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:N,signal:M}).catch(Q=>{throw new z0(Q)}),V=H.headers.get("x-relay-error");if(V&&V==="true")throw new pm(H);if(!H.ok)throw new bm(H);let B=((u=H.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),G;return B==="application/json"?G=yield H.json():B==="application/octet-stream"||B==="application/pdf"?G=yield H.blob():B==="text/event-stream"?G=H:B==="multipart/form-data"?G=yield H.formData():G=yield H.text(),{data:G,error:null,response:H}}catch(m){return{data:null,error:m,response:m instanceof bm||m instanceof pm?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var L0=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},q0=class{constructor(r){var n,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,g=null,v=d.status,b=d.statusText;if(d.ok){var w,S;if(i.method!=="HEAD"){var E;const H=await d.text();H===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((E=i.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?m=H:m=JSON.parse(H))}const N=(w=i.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),M=(S=d.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");N&&M&&M.length>1&&(g=parseInt(M[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,v=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var R;const N=await d.text();try{f=JSON.parse(N),Array.isArray(f)&&d.status===404&&(m=[],f=null,v=200,b="OK")}catch{d.status===404&&N===""?(v=204,b="No Content"):f={message:N}}if(f&&i.isMaybeSingle&&(!(f==null||(R=f.details)===null||R===void 0)&&R.includes("0 rows"))&&(f=null,v=200,b="OK"),f&&i.shouldThrowOnError)throw new L0(f)}return{error:f,data:m,count:g,status:v,statusText:b}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let m="";const g=d?.cause;if(g){var v,b,w,S;const R=(v=g?.message)!==null&&v!==void 0?v:"",N=(b=g?.code)!==null&&b!==void 0?b:"";m=`${(w=d?.name)!==null&&w!==void 0?w:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${R}`,N&&(m+=` (${N})`),g?.stack&&(m+=`
${g.stack}`)}else{var E;m=(E=d?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(r,n)}returns(){return this}overrideTypes(){return this}},H0=class extends q0{select(r){let n=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var f;const m=[r?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const wm=new RegExp("[,()]");var Qr=class extends H0{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&wm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&wm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${u}fts${d}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},$0=class{constructor(r,{headers:n={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:l}=n??{},u=i?"HEAD":"GET";let d=!1;const f=(r??"*").split("").map(v=>/\s/.test(v)&&!d?"":(v==='"'&&(d=!d),v)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new Qr({method:u,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(r,{count:n,defaultToNull:i=!0}={}){var l;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);d.searchParams.set("columns",g.join(","))}}return new Qr({method:u,url:d,headers:f,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:u=!0}={}){var d;const f="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),u||g.append("Prefer","missing=default"),Array.isArray(r)){const v=r.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(v.length>0){const b=[...new Set(v)].map(w=>`"${w}"`);m.searchParams.set("columns",b.join(","))}}return new Qr({method:f,url:m,headers:g,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:n}={}){var i;const l="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Qr({method:l,url:u,headers:d,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var n;const i="DELETE",{url:l,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Qr({method:i,url:l,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},G0=class rv{constructor(n,{headers:i={},schema:l,fetch:u}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $0(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new rv(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:u=!1,count:d}={}){var f;let m;const g=new URL(`${this.url}/rpc/${n}`);let v;const b=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(b)),w=l&&Object.values(i).some(b);w?(m="POST",v=i):l||u?(m=l?"HEAD":"GET",Object.entries(i).filter(([E,R])=>R!==void 0).map(([E,R])=>[E,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([E,R])=>{g.searchParams.append(E,R)})):(m="POST",v=i);const S=new Headers(this.headers);return w?S.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&S.set("Prefer",`count=${d}`),new Qr({method:m,url:g,headers:S,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class V0{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const u=l.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const K0="2.91.0",Y0=`realtime-js/${K0}`,I0="1.0.0",iv="2.0.0",_m=iv,Kc=1e4,X0=1e3,J0=100;var Oa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Oa||(Oa={}));var st;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(st||(st={}));var _n;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(_n||(_n={}));var Yc;(function(r){r.websocket="websocket"})(Yc||(Yc={}));var Pa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Pa||(Pa={}));class Q0{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var u,d;const f=n.topic,m=(u=n.ref)!==null&&u!==void 0?u:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",v=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},w=Object.keys(b).length===0?"":JSON.stringify(b);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+f.length+v.length+w.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let R=new DataView(E),N=0;R.setUint8(N++,this.KINDS.userBroadcastPush),R.setUint8(N++,g.length),R.setUint8(N++,m.length),R.setUint8(N++,f.length),R.setUint8(N++,v.length),R.setUint8(N++,w.length),R.setUint8(N++,i),Array.from(g,H=>R.setUint8(N++,H.charCodeAt(0))),Array.from(m,H=>R.setUint8(N++,H.charCodeAt(0))),Array.from(f,H=>R.setUint8(N++,H.charCodeAt(0))),Array.from(v,H=>R.setUint8(N++,H.charCodeAt(0))),Array.from(w,H=>R.setUint8(N++,H.charCodeAt(0)));var M=new Uint8Array(E.byteLength+l.byteLength);return M.set(new Uint8Array(E),0),M.set(new Uint8Array(l),E.byteLength),M.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,d,f,m,g]=l;return i({join_ref:u,ref:d,topic:f,event:m,payload:g})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,u)}_decodeUserBroadcast(n,i,l){const u=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let g=this.HEADER_LENGTH+4;const v=l.decode(n.slice(g,g+u));g=g+u;const b=l.decode(n.slice(g,g+d));g=g+d;const w=l.decode(n.slice(g,g+f));g=g+f;const S=n.slice(g,n.byteLength),E=m===this.JSON_ENCODING?JSON.parse(l.decode(S)):S,R={type:this.BROADCAST_EVENT,event:b,payload:E};return f>0&&(R.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class sv{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(qe||(qe={}));const Sm=(r,n,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Z0(f,r,n,u),d),{}):{}},Z0=(r,n,i,l)=>{const u=n.find(m=>m.name===r),d=u?.type,f=i[r];return d&&!l.includes(d)?lv(d,f):Ic(f)},lv=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return eb(n,i)}switch(r){case qe.bool:return W0(n);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return F0(n);case qe.json:case qe.jsonb:return P0(n);case qe.timestamp:return tb(n);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Ic(n);default:return Ic(n)}},Ic=r=>r,W0=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},F0=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},P0=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},eb=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const f=r.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>lv(n,m))}return r},tb=r=>typeof r=="string"?r.replace(" ","T"):r,ov=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class jc{constructor(n,i,l={},u=Kc){this.channel=n,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var xm;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(xm||(xm={}));class ts{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,u,d,f),this.pendingDiffs.forEach(g=>{this.state=ts.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ts.syncDiff(this.state,u,d,f),m())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,u){const d=this.cloneDeep(n),f=this.transformState(i),m={},g={};return this.map(d,(v,b)=>{f[v]||(g[v]=b)}),this.map(f,(v,b)=>{const w=d[v];if(w){const S=b.map(M=>M.presence_ref),E=w.map(M=>M.presence_ref),R=b.filter(M=>E.indexOf(M.presence_ref)<0),N=w.filter(M=>S.indexOf(M.presence_ref)<0);R.length>0&&(m[v]=R),N.length>0&&(g[v]=N)}else m[v]=b}),this.syncDiff(d,{joins:m,leaves:g},l,u)}static syncDiff(n,i,l,u){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(m,g)=>{var v;const b=(v=n[m])!==null&&v!==void 0?v:[];if(n[m]=this.cloneDeep(g),b.length>0){const w=n[m].map(E=>E.presence_ref),S=b.filter(E=>w.indexOf(E.presence_ref)<0);n[m].unshift(...S)}l(m,b,g)}),this.map(f,(m,g)=>{let v=n[m];if(!v)return;const b=g.map(w=>w.presence_ref);v=v.filter(w=>b.indexOf(w.presence_ref)<0),n[m]=v,u(m,v,g),v.length===0&&delete n[m]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const u=n[l];return"metas"in u?i[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Em;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Em||(Em={}));var ns;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ns||(ns={}));var ea;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ea||(ea={}));class Fr{constructor(n,i={config:{}},l){var u,d;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,_n.join,this.params,this.timeout),this.rejoinTimer=new sv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new ts(this),this.broadcastEndpointURL=ov(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:m,private:g}}=this.params,v=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(E=>E.filter))!==null&&u!==void 0?u:[],b=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,w={},S={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:b}),postgres_changes:v,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(ea.CHANNEL_ERROR,E)),this._onClose(()=>n?.(ea.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(ea.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,M=(R=N?.length)!==null&&R!==void 0?R:0,H=[];for(let V=0;V<M;V++){const B=N[V],{filter:{event:G,schema:Q,table:K,filter:L}}=B,Z=E&&E[V];if(Z&&Z.event===G&&Fr.isFilterValueEqual(Z.schema,Q)&&Fr.isFilterValueEqual(Z.table,K)&&Fr.isFilterValueEqual(Z.filter,L))H.push(Object.assign(Object.assign({},B),{id:Z.id}));else{this.unsubscribe(),this.state=st.errored,n?.(ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=H,n&&n(ea.SUBSCRIBED);return}}).receive("error",E=>{this.state=st.errored,n?.(ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===st.joined&&n===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const v=await m.json();g=v.error||v.message||g}catch{}return Promise.reject(new Error(g))}async send(n,i={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=v.body)===null||u===void 0?void 0:u.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,g;const v=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),v.receive("ok",()=>d("ok")),v.receive("error",()=>d("error")),v.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new jc(this,_n.leave,{},n),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,n,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>J0){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var u,d;const f=n.toLocaleLowerCase(),{close:m,error:g,leave:v,join:b}=_n;if(l&&[m,g,v,b].indexOf(f)>=0&&l!==this._joinRef())return;let S=this._onMessage(f,i,l);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var R,N,M;return((R=E.filter)===null||R===void 0?void 0:R.event)==="*"||((M=(N=E.filter)===null||N===void 0?void 0:N.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(E=>E.callback(S,l)):(d=this.bindings[f])===null||d===void 0||d.filter(E=>{var R,N,M,H,V,B,G,Q;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const K=E.id,L=(R=E.filter)===null||R===void 0?void 0:R.event;return K&&((N=i.ids)===null||N===void 0?void 0:N.includes(K))&&(L==="*"||L?.toLocaleLowerCase()===((M=i.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))&&(!(!((H=E.filter)===null||H===void 0)&&H.table)||E.filter.table===((V=i.data)===null||V===void 0?void 0:V.table))}else{const K=(G=(B=E?.filter)===null||B===void 0?void 0:B.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return K==="*"||K===((Q=i?.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof S=="object"&&"ids"in S){const R=S.data,{schema:N,table:M,commit_timestamp:H,type:V,errors:B}=R;S=Object.assign(Object.assign({},{schema:N,table:M,commit_timestamp:H,eventType:V,new:{},old:{},errors:B}),this._getPayloadRecords(R))}E.callback(S,l)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const u=n.toLocaleLowerCase(),d={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Fr.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(_n.close,{},n)}_onError(n){this._on(_n.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Sm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Sm(n.columns,n.old_record)),i}}const Nc=()=>{},Bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nb=[1e3,2e3,5e3,1e4],ab=1e4,rb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ib{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kc,this.transport=null,this.heartbeatIntervalMs=Bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nc,this.ref=0,this.reconnectTimer=null,this.vsn=_m,this.logger=Nc,this.conn=null,this.sendBuffer=[],this.serializer=new Q0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Yc.websocket}`,this.httpEndpoint=ov(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V0.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return Pa.Connecting;case Oa.open:return Pa.Open;case Oa.closing:return Pa.Closing;default:return Pa.Closed}}isConnected(){return this.connectionState()===Pa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Fr(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:l,payload:u,ref:d}=n,f=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${i} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(X0,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",v)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:d,ref:f}=i,m=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${u} ${m}`.trim(),d),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(u,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Oa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oa.open||this.conn.readyState===Oa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(_n.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${l}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([rb],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:Y0};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(_n.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new sv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,u,d,f,m,g,v,b,w,S,E;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Kc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Bl.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:Nc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:_m,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n?.reconnectAfterMs)!==null&&v!==void 0?v:(R=>nb[R-1]||ab),this.vsn){case I0:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((R,N)=>N(JSON.stringify(R))),this.decode=(w=n?.decode)!==null&&w!==void 0?w:((R,N)=>N(JSON.parse(R)));break;case iv:this.encode=(S=n?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ss=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sb(r,n,i){const l=new URL(n,r);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function lb(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function ob(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:u,body:d,headers:f}){const m=sb(r.baseUrl,l,u),g=await lb(r.auth),v=await n(m,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),b=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),S=w&&b?JSON.parse(b):b;if(!v.ok){const E=w?S:void 0,R=E?.error;throw new ss(R?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:R?.type,icebergCode:R?.code,details:E})}return{status:v.status,headers:v.headers,data:S}}}}function Ll(r){return r.join("")}var ub=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:Ll(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ll(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ll(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ll(r.namespace)}`}),!0}catch(n){if(n instanceof ss&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof ss&&i.status===409)return;throw i}}};function Vr(r){return r.join("")}var cb=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof ss&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof ss&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},db=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=ob({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new ub(this.client,n),this.tableOps=new cb(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},to=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ke(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var fb=class extends to{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xc=class extends to{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}};const ld=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),hb=()=>Response,Jc=r=>{if(Array.isArray(r))return r.map(i=>Jc(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=Jc(l)}),n},gb=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},mb=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ls(r){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ls(r)}function vb(r,n){if(ls(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(ls(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function yb(r){var n=vb(r,"string");return ls(n)=="symbol"?n:n+""}function pb(r,n,i){return(n=yb(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Tm(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,l)}return i}function ce(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Tm(Object(i),!0).forEach(function(l){pb(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Tm(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const Dc=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},bb=async(r,n,i)=>{r instanceof await hb()&&!i?.noResolveJson?r.json().then(l=>{const u=r.status||500,d=l?.statusCode||u+"";n(new fb(Dc(l),u,d))}).catch(l=>{n(new Xc(Dc(l),l))}):n(new Xc(Dc(r),r))},wb=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||!l?u:(gb(l)?(u.headers=ce({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),ce(ce({},u),i))};async function ms(r,n,i,l,u,d){return new Promise((f,m)=>{r(i,wb(n,l,u,d)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>bb(g,m,l))})}async function os(r,n,i,l){return ms(r,"GET",n,i,l)}async function wn(r,n,i,l,u){return ms(r,"POST",n,l,u,i)}async function Qc(r,n,i,l,u){return ms(r,"PUT",n,l,u,i)}async function _b(r,n,i,l){return ms(r,"HEAD",n,ce(ce({},i),{},{noResolveJson:!0}),l)}async function od(r,n,i,l,u){return ms(r,"DELETE",n,l,u,i)}var Sb=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}};let uv;uv=Symbol.toStringTag;var xb=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[uv]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sb(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}}};const Eb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tb=class{constructor(r,n={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=ld(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,n,i,l){var u=this;try{let d;const f=ce(ce({},Am),l);let m=ce(ce({},u.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,g&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(m=ce(ce({},m),l.headers));const v=u._removeEmptyFolders(n),b=u._getFinalPath(v),w=await(r=="PUT"?Qc:wn)(u.fetch,`${u.url}/object/${b}`,d,ce({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Ke(d))return{data:null,error:d};throw d}}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,l){var u=this;const d=u._removeEmptyFolders(r),f=u._getFinalPath(d),m=new URL(u.url+`/object/upload/sign/${f}`);m.searchParams.set("token",n);try{let g;const v=ce({upsert:Am.upsert},l),b=ce(ce({},u.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",v.cacheControl)):(g=i,b["cache-control"]=`max-age=${v.cacheControl}`,b["content-type"]=v.contentType),{data:{path:d,fullPath:(await Qc(u.fetch,m.toString(),g,{headers:b})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Ke(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(r,n){var i=this;try{let l=i._getFinalPath(r);const u=ce({},i.headers);n?.upsert&&(u["x-upsert"]="true");const d=await wn(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(i.url+d.url),m=f.searchParams.get("token");if(!m)throw new to("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:m},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var l=this;try{return{data:await wn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ke(u))return{data:null,error:u};throw u}}async copy(r,n,i){var l=this;try{return{data:{path:(await wn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ke(u))return{data:null,error:u};throw u}}async createSignedUrl(r,n,i){var l=this;try{let u=l._getFinalPath(r),d=await wn(l.fetch,`${l.url}/object/sign/${u}`,ce({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ke(u))return{data:null,error:u};throw u}}async createSignedUrls(r,n,i){var l=this;try{const u=await wn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(f=>ce(ce({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ke(u))return{data:null,error:u};throw u}}download(r,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(r),f=()=>os(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new xb(f,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);try{return{data:Jc(await os(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await _b(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ke(l)&&l instanceof Xc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}async remove(r){var n=this;try{return{data:await od(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async list(r,n,i){var l=this;try{const u=ce(ce(ce({},Eb),n),{},{prefix:r||""});return{data:await wn(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},i),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ke(u))return{data:null,error:u};throw u}}async listV2(r,n){var i=this;try{const l=ce({},r);return{data:await wn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const cv="2.91.0",dv={"X-Client-Info":`storage-js/${cv}`};var Ab=class{constructor(r,n={},i,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=ce(ce({},dv),n),this.fetch=ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var n=this;try{const i=n.listBucketOptionsToQueryString(r);return{data:await os(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async getBucket(r){var n=this;try{return{data:await os(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async createBucket(r,n={public:!1}){var i=this;try{return{data:await wn(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async updateBucket(r,n){var i=this;try{return{data:await Qc(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}}async emptyBucket(r){var n=this;try{return{data:await wn(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await od(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Ob=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},dv),n),this.fetch=ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await wn(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async listBuckets(r){var n=this;try{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await os(n.fetch,u,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await od(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ke(i))return{data:null,error:i};throw i}}from(r){var n=this;if(!mb(r))throw new to("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new db({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const ud={"X-Client-Info":`storage-js/${cv}`,"Content-Type":"application/json"};var fv=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Jt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var kc=class extends fv{constructor(r,n,i){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rb=class extends fv{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}};const cd=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Cb=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Om=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),jb=async(r,n,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const l=r.status||500,u=r;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||l+"";n(new kc(Om(d),l,f))}).catch(()=>{const d=l+"";n(new kc(u.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";n(new kc(u.statusText||`HTTP ${l} error`,l,d))}}else n(new Rb(Om(r),r))},Nb=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return l?(Cb(l)?(u.headers=ce({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,ce(ce({},u),i)):u};async function Db(r,n,i,l,u,d){return new Promise((f,m)=>{r(i,Nb(n,l,u,d)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const v=g.headers.get("content-type");return!v||!v.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>jb(g,m,l))})}async function Qt(r,n,i,l,u){return Db(r,"POST",n,l,u,i)}var kb=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},ud),n),this.fetch=cd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async getIndex(r,n){var i=this;try{return{data:await Qt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}}async listIndexes(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async deleteIndex(r,n){var i=this;try{return{data:await Qt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Jt(l))return{data:null,error:l};throw l}}},Ub=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},ud),n),this.fetch=cd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var n=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Qt(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async getVectors(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async listVectors(r){var n=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Qt(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async queryVectors(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async deleteVectors(r){var n=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Qt(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}},Mb=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ce(ce({},ud),n),this.fetch=cd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async getBucket(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Jt(i))return{data:null,error:i};throw i}}},zb=class extends Mb{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Bb(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},Bb=class extends kb{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new Lb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Lb=class extends Ub{constructor(r,n,i,l,u){super(r,n,u),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,ce(ce({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},qb=class extends Ab{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new Tb(this.url,this.headers,r,this.fetch)}get vectors(){return new zb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ob(this.url+"/iceberg",this.headers,this.fetch)}};const hv="2.91.0",Zr=30*1e3,Zc=3,Uc=Zc*Zr,Hb="http://localhost:9999",$b="supabase.auth.token",Gb={"X-Client-Info":`gotrue-js/${hv}`},Wc="X-Supabase-Api-Version",gv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kb=600*1e3;class us extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ie(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Yb extends us{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Ib(r){return ie(r)&&r.name==="AuthApiError"}class er extends us{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class ta extends us{constructor(n,i,l,u){super(n,l,u),this.name=i,this.status=l}}class Xt extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xb(r){return ie(r)&&r.name==="AuthSessionMissingError"}class Kr extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ql extends ta{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Hl extends ta{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jb(r){return ie(r)&&r.name==="AuthImplicitGrantRedirectError"}class Rm extends ta{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qb extends ta{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fc extends ta{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Mc(r){return ie(r)&&r.name==="AuthRetryableFetchError"}class Cm extends ta{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Pc extends ta{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jm=` 	
\r=`.split(""),Zb=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<jm.length;n+=1)r[jm[n].charCodeAt(0)]=-2;for(let n=0;n<Il.length;n+=1)r[Il[n].charCodeAt(0)]=n;return r})();function Nm(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Il[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Il[l]),n.queuedBits-=6}}function mv(r,n,i){const l=Zb[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Dm(r){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{Pb(f,l,i)};for(let f=0;f<r.length;f+=1)mv(r.charCodeAt(f),u,d);return n.join("")}function Wb(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Fb(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}Wb(l,n)}}function Pb(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Pr(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)mv(r.charCodeAt(u),i,l);return new Uint8Array(n)}function ew(r){const n=[];return Fb(r,i=>n.push(i)),new Uint8Array(n)}function tr(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};return r.forEach(u=>Nm(u,i,l)),Nm(null,i,l),n.join("")}function tw(r){return Math.round(Date.now()/1e3)+r}function nw(){return Symbol("auth-callback")}const _t=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},vv=()=>{if(!_t())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function aw(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return i.searchParams.forEach((l,u)=>{n[u]=l}),n}const yv=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),rw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Wr=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},Wa=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},wt=async(r,n)=>{await r.removeItem(n)};class no{constructor(){this.promise=new no.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}no.promiseConstructor=Promise;function zc(r){const n=r.split(".");if(n.length!==3)throw new Pc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Vb.test(n[l]))throw new Pc("JWT not in base64url format");return{header:JSON.parse(Dm(n[0])),payload:JSON.parse(Dm(n[1])),signature:Pr(n[2]),raw:{header:n[0],payload:n[1]}}}async function iw(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function sw(r,n){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){u(f);return}}})()})}function lw(r){return("0"+r.toString(16)).substr(-2)}function ow(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,lw).join("")}async function uw(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function cw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await uw(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yr(r,n,i=!1){const l=ow();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await Wr(r,`${n}-code-verifier`,u);const d=await cw(l);return[d,l===d?"plain":"s256"]}const dw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fw(r){const n=r.headers.get(Wc);if(!n||!n.match(dw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function hw(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function gw(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(r){if(!mw.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bc(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function vw(r,n){return new Proxy(r,{get:(i,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,u)}})}function km(r){return JSON.parse(JSON.stringify(r))}const Fa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),yw=[502,503,504];async function Um(r){var n;if(!rw(r))throw new Fc(Fa(r),0);if(yw.includes(r.status))throw new Fc(Fa(r),r.status);let i;try{i=await r.json()}catch(d){throw new er(Fa(d),d)}let l;const u=fw(r);if(u&&u.getTime()>=gv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Cm(Fa(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Xt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Cm(Fa(i),r.status,i.weak_password.reasons);throw new Yb(Fa(i),r.status||500,l)}const pw=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function ue(r,n,i,l){var u;const d=Object.assign({},l?.headers);d[Wc]||(d[Wc]=gv["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await bw(r,n,i+m,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function bw(r,n,i,l,u,d){const f=pw(n,l,u,d);let m;try{m=await r(i,Object.assign({},f))}catch(g){throw console.error(g),new Fc(Fa(g),0)}if(m.ok||await Um(m),l?.noResolveJson)return m;try{return await m.json()}catch(g){await Um(g)}}function bn(r){var n;let i=null;Sw(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=tw(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function Mm(r){const n=bn(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function Ca(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function ww(r){return{data:r,error:null}}function _w(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d}=r,f=eo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d},g=Object.assign({},f);return{data:{properties:m,user:g},error:null}}function zm(r){return r}function Sw(r){return r.access_token&&r.refresh_token&&r.expires_in}const Lc=["global","local","others"];class xw{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=yv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Lc[0]){if(Lc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lc.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ca})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=eo(n,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:_w,redirectTo:i?.redirectTo})}catch(i){if(ie(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ca})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,u,d,f,m,g;try{const v={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:zm});if(b.error)throw b.error;const w=await b.json(),S=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(R.split(";")[1].split("=")[1]);v[`${M}Page`]=N}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(ie(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){Ir(n);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ca})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Ir(n);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Ca})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){Ir(n);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ca})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Ir(n.userId);try{const{data:i,error:l}=await ue(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Ir(n.userId),Ir(n.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,u,d,f,m,g;try{const v={nextPage:null,lastPage:0,total:0},b=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:zm});if(b.error)throw b.error;const w=await b.json(),S=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(m=b.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(R=>{const N=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(R.split(";")[1].split("=")[1]);v[`${M}Page`]=N}),v.total=parseInt(S)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(ie(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}}function Bm(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Xr={debug:!!(globalThis&&vv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class Ew extends pv{}async function Tw(r,n,i){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Ew(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Xr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bv(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Ow(r){return parseInt(r,16)}function Rw(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function Cw(r){var n;const{chainId:i,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:g,resources:v,scheme:b,uri:w,version:S}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const E=bv(r.address),R=b?`${b}://${l}`:l,N=r.statement?`${r.statement}
`:"",M=`${R} wants you to sign in with your Ethereum account:
${E}

${N}`;let H=`URI: ${w}
Version: ${S}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(H+=`
Expiration Time: ${u.toISOString()}`),m&&(H+=`
Not Before: ${m.toISOString()}`),g&&(H+=`
Request ID: ${g}`),v){let V=`
Resources:`;for(const B of v){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);V+=`
- ${B}`}H+=V}return`${M}
${H}`}class at extends Error{constructor({message:n,code:i,cause:l,name:u}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Xl extends at{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function jw({error:r,options:n}){var i,l,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new at({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(wv(f)){if(d.rp.id!==f)return new at({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Nw({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new at({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(wv(l)){if(i.rpId!==l)return new at({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Dw{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const kw=new Dw;function Uw(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,u=eo(r,["challenge","user","excludeCredentials"]),d=Pr(n).buffer,f=Object.assign(Object.assign({},i),{id:Pr(i.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){m.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const v=l[g];m.excludeCredentials[g]=Object.assign(Object.assign({},v),{id:Pr(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return m}function Mw(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=eo(r,["challenge","allowCredentials"]),u=Pr(n).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:Pr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function zw(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:tr(new Uint8Array(r.response.attestationObject)),clientDataJSON:tr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Bw(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:tr(new Uint8Array(u.authenticatorData)),clientDataJSON:tr(new Uint8Array(u.clientDataJSON)),signature:tr(new Uint8Array(u.signature)),userHandle:u.userHandle?tr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function wv(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Lm(){var r,n;return!!(_t()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Lw(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",n)}:{data:null,error:new Xl("Empty credential response",n)}}catch(n){return{data:null,error:jw({error:n,options:r})}}}async function qw(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",n)}:{data:null,error:new Xl("Empty credential response",n)}}catch(n){return{data:null,error:Nw({error:n,options:r})}}}const Hw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$w={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Jl(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(i(f))l[d]=f;else if(n(f)){const m=l[d];n(m)?l[d]=Jl(m,f):l[d]=Jl(f)}else l[d]=f}return l}function Gw(r,n){return Jl(Hw,r,n||{})}function Vw(r,n){return Jl($w,r,n||{})}class Kw{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:u},d){try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:m};const g=u??kw.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${l}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=Gw(f.webauthn.credential_options.publicKey,d?.create),{data:b,error:w}=await Lw({publicKey:v,signal:g});return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const v=Vw(f.webauthn.credential_options.publicKey,d?.request),{data:b,error:w}=await qw(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:g}));return b?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new er("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new us("rpId is required for WebAuthn authentication")};try{if(!Lm())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:m};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new er("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new us("rpId is required for WebAuthn registration")};try{if(!Lm())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:m};const{data:g,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:u},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:v}}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new er("Unexpected error in register",f)}}}}Aw();const Yw={url:Hb,storageKey:$b,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qm(r,n,i){return await i()}const Jr={};class cs{get jwks(){var n,i;return(i=(n=Jr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Jr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Jr[this.storageKey]=Object.assign(Object.assign({},Jr[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},Yw),n);if(this.storageKey=d.storageKey,this.instanceID=(i=cs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,cs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&_t()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new xw({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=yv(d.fetch),this.lock=d.lock||qm,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&_t()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=Tw:this.lock=qm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Kw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:vv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Bm(this.memoryStorage)),_t()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(_t()&&(i=aw(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),_t()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Jb(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ie(i)?this._returnResult({error:i}):this._returnResult({error:new er("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,u;try{const d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:bn}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(d){if(ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,l,u;try{let d;if("email"in n){const{email:b,password:w,options:S}=n;let E=null,R=null;this.flowType==="pkce"&&([E,R]=await Yr(this.storage,this.storageKey)),d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:b,password:w,data:(i=S?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:E,code_challenge_method:R},xform:bn})}else if("phone"in n){const{phone:b,password:w,options:S}=n;d=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:bn})}else throw new ql("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:f,options:m}=n;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Mm})}else if("phone"in n){const{phone:d,password:f,options:m}=n;i=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Mm})}else throw new ql("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Kr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,u,d,f,m,g,v,b,w,S;let E,R;if("message"in n)E=n.message,R=n.signature;else{const{chain:N,wallet:M,statement:H,options:V}=n;let B;if(_t())if(typeof M=="object")B=M;else{const de=window;if("ethereum"in de&&typeof de.ethereum=="object"&&"request"in de.ethereum&&typeof de.ethereum.request=="function")B=de.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=M}const G=new URL((i=V?.url)!==null&&i!==void 0?i:window.location.href),Q=await B.request({method:"eth_requestAccounts"}).then(de=>de).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Q||Q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=bv(Q[0]);let L=(l=V?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!L){const de=await B.request({method:"eth_chainId"});L=Ow(de)}const Z={domain:G.host,address:K,statement:H,uri:G.href,version:"1",chainId:L,nonce:(u=V?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=V?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=V?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=V?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(v=V?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(b=V?.signInWithEthereum)===null||b===void 0?void 0:b.resources};E=Cw(Z),R=await B.request({method:"personal_sign",params:[Rw(E),K]})}try{const{data:N,error:M}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:R},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:bn});if(M)throw M;if(!N||!N.session||!N.user){const H=new Kr;return this._returnResult({data:{user:null,session:null},error:H})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:M})}catch(N){if(ie(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(n){var i,l,u,d,f,m,g,v,b,w,S,E;let R,N;if("message"in n)R=n.message,N=n.signature;else{const{chain:M,wallet:H,statement:V,options:B}=n;let G;if(_t())if(typeof H=="object")G=H;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))G=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof H!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=H}const Q=new URL((i=B?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in G&&G.signIn){const K=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B?.signInWithSolana),{version:"1",domain:Q.host,uri:Q.href}),V?{statement:V}:null));let L;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")L=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)L=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)R=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),N=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${Q.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${Q.href}`,`Issued At: ${(u=(l=B?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=B?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((f=B?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((m=B?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((g=B?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((v=B?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((w=(b=B?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...B.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const K=await G.signMessage(new TextEncoder().encode(R),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=K}}try{const{data:M,error:H}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:tr(N)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:bn});if(H)throw H;if(!M||!M.session||!M.user){const V=new Kr;return this._returnResult({data:{user:null,session:null},error:V})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:H})}catch(M){if(ie(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async _exchangeCodeForSession(n){const i=await Wa(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Qb;const{data:d,error:f}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:bn});if(await wt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new Kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",d.session)},0)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:l,token:u,access_token:d,nonce:f}=n,m=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:bn}),{data:g,error:v}=m;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!g||!g.session||!g.user){const b=new Kr;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:v})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,u,d,f;try{if("email"in n){const{email:m,options:g}=n;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await Yr(this.storage,this.storageKey));const{error:w}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:b},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in n){const{phone:m,options:g}=n,{data:v,error:b}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:b})}throw new ql("You must provide either an email or phone number.")}catch(m){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var i,l;try{let u,d;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:m}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:bn});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,v=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:v,session:g},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,l,u,d,f;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Yr(this.storage,this.storageKey));const v=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:ww});return!((d=v.data)===null||d===void 0)&&d.url&&_t()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(m){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Xt;const{error:u}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:d}=n,{error:f}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:d}=n,{data:f,error:m}=await ue(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new ql("You must provide either an email or phone number and a type")}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Uc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Wa(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Bc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=vw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ca}):await this._useSession(async i=>{var l,u,d;const{data:f,error:m}=i;if(m)throw m;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Ca})})}catch(i){if(ie(i))return Xb(i)&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Xt;const f=u.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await Yr(this.storage,this.storageKey));const{data:v,error:b}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:f.access_token,xform:Ca});if(b)throw b;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Xt;const i=Date.now()/1e3;let l=i,u=!0,d=null;const{payload:f}=zc(n.access_token);if(f.exp&&(l=f.exp,u=l<=i),u){const{data:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:m}=i;if(m)throw m;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Xt;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!_t())throw new Hl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Hl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Rm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Rm("No code detected.");const{data:V,error:B}=await this._exchangeCodeForSession(n.code);if(B)throw B;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:m,expires_at:g,token_type:v}=n;if(!d||!m||!f||!v)throw new Hl("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(m);let S=b+w;g&&(S=parseInt(g));const E=S-b;E*1e3<=Zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const R=S-w;b-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,S,b):b-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,S,b);const{data:N,error:M}=await this._getUser(d);if(M)throw M;const H={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:w,expires_at:S,refresh_token:f,token_type:v,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:H,redirectType:n.type},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:m}=await this.admin.signOut(f,n);if(m&&!(Ib(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=nw(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,u;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Yr(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:u}=await this._useSession(async d=>{var f,m,g,v,b;const{data:w,error:S}=d;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",E,{headers:this.headers,jwt:(b=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&b!==void 0?b:void 0})});if(u)throw u;return _t()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ie(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:f,provider:m,token:g,access_token:v,nonce:b}=n,w=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:m,id_token:g,access_token:v,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:bn}),{data:S,error:E}=w;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Kr}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(u){if(await wt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)throw f;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await sw(async u=>(u>0&&await iw(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:bn})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Mc(d)&&Date.now()+f-l<Zr})}catch(l){if(this._debug(i,"error",l),ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),_t()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Wa(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Wr(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Bc()}else if(u&&!u.user&&!u.user){const f=await Wa(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await wt(this.storage,this.storageKey+"-user"),await Wr(this.storage,this.storageKey,u)):u.user=Bc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Uc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Uc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Mc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new no;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Xt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(u,"error",d),ie(d)){const f={data:null,error:d};return Mc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await wt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Wr(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=km(u);await Wr(this.storage,this.storageKey,d)}else{const u=km(i);await Wr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wt(this.storage,this.storageKey),await wt(this.storage,this.storageKey+"-code-verifier"),await wt(this.storage,this.storageKey+"-user"),this.userStorage&&await wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&_t()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Zr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Zr}ms, refresh threshold is ${Zc} ticks`),u<=Zc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof pv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_t()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await Yr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await ue(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:v}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?zw(n.webauthn.credential_response):Bw(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await ue(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Uw(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Mw(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=zc(l.access_token);let f=null;d.aal&&(f=d.aal);let m=f;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Xt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&_t()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Xt});const f=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&_t()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(m=>m.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(m=>m.kid===n),l&&this.jwks_cached_at+Kb>u)return l;const{data:d,error:f}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(m=>m.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:E,error:R}=await this.getSession();if(R||!E.session)return this._returnResult({data:null,error:R});l=E.session.access_token}const{header:u,payload:d,signature:f,raw:{header:m,payload:g}}=zc(l);i?.allowExpired||hw(d.exp);const v=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!v){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:d,header:u,signature:f},error:null}}const b=gw(u.alg),w=await crypto.subtle.importKey("jwk",v,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,f,ew(`${m}.${g}`)))throw new Pc("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}}cs.nextInstanceID={};const Iw=cs,Xw="2.91.0";let Pi="";typeof Deno<"u"?Pi="deno":typeof document<"u"?Pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pi="react-native":Pi="node";const Jw={"X-Client-Info":`supabase-js-${Pi}/${Xw}`},Qw={headers:Jw},Zw={schema:"public"},Ww={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fw={};function ds(r){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ds(r)}function Pw(r,n){if(ds(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(ds(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function e_(r){var n=Pw(r,"string");return ds(n)=="symbol"?n:n+""}function t_(r,n,i){return(n=e_(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Hm(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,l)}return i}function Je(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Hm(Object(i),!0).forEach(function(l){t_(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Hm(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const n_=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),a_=()=>Headers,r_=(r,n,i)=>{const l=n_(i),u=a_();return async(d,f)=>{var m;const g=(m=await n())!==null&&m!==void 0?m:r;let v=new u(f?.headers);return v.has("apikey")||v.set("apikey",r),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),l(d,Je(Je({},f),{},{headers:v}))}};function i_(r){return r.endsWith("/")?r:r+"/"}function s_(r,n){var i,l;const{db:u,auth:d,realtime:f,global:m}=r,{db:g,auth:v,realtime:b,global:w}=n,S={db:Je(Je({},g),u),auth:Je(Je({},v),d),realtime:Je(Je({},b),f),storage:{},global:Je(Je(Je({},w),m),{},{headers:Je(Je({},(i=w?.headers)!==null&&i!==void 0?i:{}),(l=m?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?S.accessToken=r.accessToken:delete S.accessToken,S}function l_(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(i_(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var o_=class extends Iw{constructor(r){super(r)}},u_=class{constructor(r,n,i){var l,u;this.supabaseUrl=r,this.supabaseKey=n;const d=l_(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Zw,realtime:Fw,auth:Je(Je({},Ww),{},{storageKey:f}),global:Qw},g=s_(i??{},m);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(b,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=g.auth)!==null&&v!==void 0?v:{},this.headers,g.global.fetch)}this.fetch=r_(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new G0(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new qb(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new B0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:f,lock:m,debug:g,throwOnError:v},b,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new o_({url:this.authUrl.href,headers:Je(Je({},S),b),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,flowType:f,lock:m,debug:g,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ib(this.realtimeUrl.href,Je(Je({},r),{},{params:Je(Je({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c_=(r,n,i)=>new u_(r,n,i);function d_(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}d_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f_="https://qikfgxpbqjzmkjjcxgfr.supabase.co",h_="sb_publishable_HbdUBIoK27watmyXGkgTOA_grQpiJRP",Ge=c_(f_,h_,{auth:{persistSession:!0,autoRefreshToken:!0}});Ge.auth.getSession().then(({error:r})=>{r?console.error("Supabase connection failed:",r.message):console.log("Supabase connected successfully")});function g_(){const[r,n]=A.useState(!1),[i,l]=A.useState(""),[u,d]=A.useState(""),[f,m]=A.useState(null),g=async v=>{v.preventDefault(),n(!0),m(null);try{const{error:b}=await Ge.auth.signInWithPassword({email:i,password:u});if(b)throw b}catch(b){m({type:"error",text:b.message||"An error occurred"})}finally{n(!1)}};return p.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:p.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Budget Workbench"}),p.jsx("p",{className:"text-center text-gray-500 mb-6 text-sm",children:"Please sign in to access your budget."}),p.jsxs("form",{onSubmit:g,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:v=>l(v.target.value),placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),p.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u,onChange:v=>d(v.target.value),placeholder:""})]}),f&&p.jsx("div",{className:`p-3 rounded-md text-sm ${f.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.text}),p.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 transition-colors",children:r?"Loading...":"Sign In"})]})]})})}var es=av();function m_(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return A.useMemo(()=>l=>{n.forEach(u=>u(l))},n)}const ao=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ni(r){const n=Object.prototype.toString.call(r);return n==="[object Window]"||n==="[object global]"}function dd(r){return"nodeType"in r}function Lt(r){var n,i;return r?ni(r)?r:dd(r)&&(n=(i=r.ownerDocument)==null?void 0:i.defaultView)!=null?n:window:window}function fd(r){const{Document:n}=Lt(r);return r instanceof n}function vs(r){return ni(r)?!1:r instanceof Lt(r).HTMLElement}function _v(r){return r instanceof Lt(r).SVGElement}function ai(r){return r?ni(r)?r.document:dd(r)?fd(r)?r:vs(r)||_v(r)?r.ownerDocument:document:document:document}const jn=ao?A.useLayoutEffect:A.useEffect;function hd(r){const n=A.useRef(r);return jn(()=>{n.current=r}),A.useCallback(function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return n.current==null?void 0:n.current(...l)},[])}function v_(){const r=A.useRef(null),n=A.useCallback((l,u)=>{r.current=setInterval(l,u)},[]),i=A.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[n,i]}function fs(r,n){n===void 0&&(n=[r]);const i=A.useRef(r);return jn(()=>{i.current!==r&&(i.current=r)},n),i}function ys(r,n){const i=A.useRef();return A.useMemo(()=>{const l=r(i.current);return i.current=l,l},[...n])}function Ql(r){const n=hd(r),i=A.useRef(null),l=A.useCallback(u=>{u!==i.current&&n?.(u,i.current),i.current=u},[]);return[i,l]}function ed(r){const n=A.useRef();return A.useEffect(()=>{n.current=r},[r]),n.current}let qc={};function ps(r,n){return A.useMemo(()=>{if(n)return n;const i=qc[r]==null?0:qc[r]+1;return qc[r]=i,r+"-"+i},[r,n])}function Sv(r){return function(n){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return l.reduce((d,f)=>{const m=Object.entries(f);for(const[g,v]of m){const b=d[g];b!=null&&(d[g]=b+r*v)}return d},{...n})}}const ei=Sv(1),hs=Sv(-1);function y_(r){return"clientX"in r&&"clientY"in r}function gd(r){if(!r)return!1;const{KeyboardEvent:n}=Lt(r.target);return n&&r instanceof n}function p_(r){if(!r)return!1;const{TouchEvent:n}=Lt(r.target);return n&&r instanceof n}function td(r){if(p_(r)){if(r.touches&&r.touches.length){const{clientX:n,clientY:i}=r.touches[0];return{x:n,y:i}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:n,clientY:i}=r.changedTouches[0];return{x:n,y:i}}}return y_(r)?{x:r.clientX,y:r.clientY}:null}const ti=Object.freeze({Translate:{toString(r){if(!r)return;const{x:n,y:i}=r;return"translate3d("+(n?Math.round(n):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:n,scaleY:i}=r;return"scaleX("+n+") scaleY("+i+")"}},Transform:{toString(r){if(r)return[ti.Translate.toString(r),ti.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:n,duration:i,easing:l}=r;return n+" "+i+"ms "+l}}}),$m="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function b_(r){return r.matches($m)?r:r.querySelector($m)}const w_={display:"none"};function __(r){let{id:n,value:i}=r;return ee.createElement("div",{id:n,style:w_},i)}function S_(r){let{id:n,announcement:i,ariaLiveType:l="assertive"}=r;const u={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ee.createElement("div",{id:n,style:u,role:"status","aria-live":l,"aria-atomic":!0},i)}function x_(){const[r,n]=A.useState("");return{announce:A.useCallback(l=>{l!=null&&n(l)},[]),announcement:r}}const xv=A.createContext(null);function E_(r){const n=A.useContext(xv);A.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(r)},[r,n])}function T_(){const[r]=A.useState(()=>new Set),n=A.useCallback(l=>(r.add(l),()=>r.delete(l)),[r]);return[A.useCallback(l=>{let{type:u,event:d}=l;r.forEach(f=>{var m;return(m=f[u])==null?void 0:m.call(f,d)})},[r]),n]}const A_={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O_={onDragStart(r){let{active:n}=r;return"Picked up draggable item "+n.id+"."},onDragOver(r){let{active:n,over:i}=r;return i?"Draggable item "+n.id+" was moved over droppable area "+i.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(r){let{active:n,over:i}=r;return i?"Draggable item "+n.id+" was dropped over droppable area "+i.id:"Draggable item "+n.id+" was dropped."},onDragCancel(r){let{active:n}=r;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function R_(r){let{announcements:n=O_,container:i,hiddenTextDescribedById:l,screenReaderInstructions:u=A_}=r;const{announce:d,announcement:f}=x_(),m=ps("DndLiveRegion"),[g,v]=A.useState(!1);if(A.useEffect(()=>{v(!0)},[]),E_(A.useMemo(()=>({onDragStart(w){let{active:S}=w;d(n.onDragStart({active:S}))},onDragMove(w){let{active:S,over:E}=w;n.onDragMove&&d(n.onDragMove({active:S,over:E}))},onDragOver(w){let{active:S,over:E}=w;d(n.onDragOver({active:S,over:E}))},onDragEnd(w){let{active:S,over:E}=w;d(n.onDragEnd({active:S,over:E}))},onDragCancel(w){let{active:S,over:E}=w;d(n.onDragCancel({active:S,over:E}))}}),[d,n])),!g)return null;const b=ee.createElement(ee.Fragment,null,ee.createElement(__,{id:l,value:u.draggable}),ee.createElement(S_,{id:m,announcement:f}));return i?es.createPortal(b,i):b}var lt;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(lt||(lt={}));function Zl(){}function Wl(r,n){return A.useMemo(()=>({sensor:r,options:n??{}}),[r,n])}function Ev(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return A.useMemo(()=>[...n].filter(l=>l!=null),[...n])}const Sn=Object.freeze({x:0,y:0});function Tv(r,n){return Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))}function Av(r,n){let{data:{value:i}}=r,{data:{value:l}}=n;return i-l}function C_(r,n){let{data:{value:i}}=r,{data:{value:l}}=n;return l-i}function Gm(r){let{left:n,top:i,height:l,width:u}=r;return[{x:n,y:i},{x:n+u,y:i},{x:n,y:i+l},{x:n+u,y:i+l}]}function Ov(r,n){if(!r||r.length===0)return null;const[i]=r;return i[n]}function Vm(r,n,i){return n===void 0&&(n=r.left),i===void 0&&(i=r.top),{x:n+r.width*.5,y:i+r.height*.5}}const Rv=r=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=r;const u=Vm(n,n.left,n.top),d=[];for(const f of l){const{id:m}=f,g=i.get(m);if(g){const v=Tv(Vm(g),u);d.push({id:m,data:{droppableContainer:f,value:v}})}}return d.sort(Av)},j_=r=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=r;const u=Gm(n),d=[];for(const f of l){const{id:m}=f,g=i.get(m);if(g){const v=Gm(g),b=u.reduce((S,E,R)=>S+Tv(v[R],E),0),w=Number((b/4).toFixed(4));d.push({id:m,data:{droppableContainer:f,value:w}})}}return d.sort(Av)};function N_(r,n){const i=Math.max(n.top,r.top),l=Math.max(n.left,r.left),u=Math.min(n.left+n.width,r.left+r.width),d=Math.min(n.top+n.height,r.top+r.height),f=u-l,m=d-i;if(l<u&&i<d){const g=n.width*n.height,v=r.width*r.height,b=f*m,w=b/(g+v-b);return Number(w.toFixed(4))}return 0}const D_=r=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=r;const u=[];for(const d of l){const{id:f}=d,m=i.get(f);if(m){const g=N_(m,n);g>0&&u.push({id:f,data:{droppableContainer:d,value:g}})}}return u.sort(C_)};function k_(r,n,i){return{...r,scaleX:n&&i?n.width/i.width:1,scaleY:n&&i?n.height/i.height:1}}function Cv(r,n){return r&&n?{x:r.left-n.left,y:r.top-n.top}:Sn}function U_(r){return function(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];return u.reduce((f,m)=>({...f,top:f.top+r*m.y,bottom:f.bottom+r*m.y,left:f.left+r*m.x,right:f.right+r*m.x}),{...i})}}const M_=U_(1);function z_(r){if(r.startsWith("matrix3d(")){const n=r.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(r.startsWith("matrix(")){const n=r.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function B_(r,n,i){const l=z_(n);if(!l)return r;const{scaleX:u,scaleY:d,x:f,y:m}=l,g=r.left-f-(1-u)*parseFloat(i),v=r.top-m-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),b=u?r.width/u:r.width,w=d?r.height/d:r.height;return{width:b,height:w,top:v,right:g+b,bottom:v+w,left:g}}const L_={ignoreTransform:!1};function ri(r,n){n===void 0&&(n=L_);let i=r.getBoundingClientRect();if(n.ignoreTransform){const{transform:v,transformOrigin:b}=Lt(r).getComputedStyle(r);v&&(i=B_(i,v,b))}const{top:l,left:u,width:d,height:f,bottom:m,right:g}=i;return{top:l,left:u,width:d,height:f,bottom:m,right:g}}function Km(r){return ri(r,{ignoreTransform:!0})}function q_(r){const n=r.innerWidth,i=r.innerHeight;return{top:0,left:0,right:n,bottom:i,width:n,height:i}}function H_(r,n){return n===void 0&&(n=Lt(r).getComputedStyle(r)),n.position==="fixed"}function $_(r,n){n===void 0&&(n=Lt(r).getComputedStyle(r));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(u=>{const d=n[u];return typeof d=="string"?i.test(d):!1})}function ro(r,n){const i=[];function l(u){if(n!=null&&i.length>=n||!u)return i;if(fd(u)&&u.scrollingElement!=null&&!i.includes(u.scrollingElement))return i.push(u.scrollingElement),i;if(!vs(u)||_v(u)||i.includes(u))return i;const d=Lt(r).getComputedStyle(u);return u!==r&&$_(u,d)&&i.push(u),H_(u,d)?i:l(u.parentNode)}return r?l(r):i}function jv(r){const[n]=ro(r,1);return n??null}function Hc(r){return!ao||!r?null:ni(r)?r:dd(r)?fd(r)||r===ai(r).scrollingElement?window:vs(r)?r:null:null}function Nv(r){return ni(r)?r.scrollX:r.scrollLeft}function Dv(r){return ni(r)?r.scrollY:r.scrollTop}function nd(r){return{x:Nv(r),y:Dv(r)}}var ft;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(ft||(ft={}));function kv(r){return!ao||!r?!1:r===document.scrollingElement}function Uv(r){const n={x:0,y:0},i=kv(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},l={x:r.scrollWidth-i.width,y:r.scrollHeight-i.height},u=r.scrollTop<=n.y,d=r.scrollLeft<=n.x,f=r.scrollTop>=l.y,m=r.scrollLeft>=l.x;return{isTop:u,isLeft:d,isBottom:f,isRight:m,maxScroll:l,minScroll:n}}const G_={x:.2,y:.2};function V_(r,n,i,l,u){let{top:d,left:f,right:m,bottom:g}=i;l===void 0&&(l=10),u===void 0&&(u=G_);const{isTop:v,isBottom:b,isLeft:w,isRight:S}=Uv(r),E={x:0,y:0},R={x:0,y:0},N={height:n.height*u.y,width:n.width*u.x};return!v&&d<=n.top+N.height?(E.y=ft.Backward,R.y=l*Math.abs((n.top+N.height-d)/N.height)):!b&&g>=n.bottom-N.height&&(E.y=ft.Forward,R.y=l*Math.abs((n.bottom-N.height-g)/N.height)),!S&&m>=n.right-N.width?(E.x=ft.Forward,R.x=l*Math.abs((n.right-N.width-m)/N.width)):!w&&f<=n.left+N.width&&(E.x=ft.Backward,R.x=l*Math.abs((n.left+N.width-f)/N.width)),{direction:E,speed:R}}function K_(r){if(r===document.scrollingElement){const{innerWidth:d,innerHeight:f}=window;return{top:0,left:0,right:d,bottom:f,width:d,height:f}}const{top:n,left:i,right:l,bottom:u}=r.getBoundingClientRect();return{top:n,left:i,right:l,bottom:u,width:r.clientWidth,height:r.clientHeight}}function Mv(r){return r.reduce((n,i)=>ei(n,nd(i)),Sn)}function Y_(r){return r.reduce((n,i)=>n+Nv(i),0)}function I_(r){return r.reduce((n,i)=>n+Dv(i),0)}function X_(r,n){if(n===void 0&&(n=ri),!r)return;const{top:i,left:l,bottom:u,right:d}=n(r);jv(r)&&(u<=0||d<=0||i>=window.innerHeight||l>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const J_=[["x",["left","right"],Y_],["y",["top","bottom"],I_]];class md{constructor(n,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const l=ro(i),u=Mv(l);this.rect={...n},this.width=n.width,this.height=n.height;for(const[d,f,m]of J_)for(const g of f)Object.defineProperty(this,g,{get:()=>{const v=m(l),b=u[d]-v;return this.rect[g]+b},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class as{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...i)})},this.target=n}add(n,i,l){var u;(u=this.target)==null||u.addEventListener(n,i,l),this.listeners.push([n,i,l])}}function Q_(r){const{EventTarget:n}=Lt(r);return r instanceof n?r:ai(r)}function $c(r,n){const i=Math.abs(r.x),l=Math.abs(r.y);return typeof n=="number"?Math.sqrt(i**2+l**2)>n:"x"in n&&"y"in n?i>n.x&&l>n.y:"x"in n?i>n.x:"y"in n?l>n.y:!1}var fn;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(fn||(fn={}));function Ym(r){r.preventDefault()}function Z_(r){r.stopPropagation()}var Oe;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Oe||(Oe={}));const zv={start:[Oe.Space,Oe.Enter],cancel:[Oe.Esc],end:[Oe.Space,Oe.Enter,Oe.Tab]},W_=(r,n)=>{let{currentCoordinates:i}=n;switch(r.code){case Oe.Right:return{...i,x:i.x+25};case Oe.Left:return{...i,x:i.x-25};case Oe.Down:return{...i,y:i.y+25};case Oe.Up:return{...i,y:i.y-25}}};class io{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:i}}=n;this.props=n,this.listeners=new as(ai(i)),this.windowListeners=new as(Lt(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(fn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:i}=this.props,l=n.node.current;l&&X_(l),i(Sn)}handleKeyDown(n){if(gd(n)){const{active:i,context:l,options:u}=this.props,{keyboardCodes:d=zv,coordinateGetter:f=W_,scrollBehavior:m="smooth"}=u,{code:g}=n;if(d.end.includes(g)){this.handleEnd(n);return}if(d.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:v}=l.current,b=v?{x:v.left,y:v.top}:Sn;this.referenceCoordinates||(this.referenceCoordinates=b);const w=f(n,{active:i,context:l.current,currentCoordinates:b});if(w){const S=hs(w,b),E={x:0,y:0},{scrollableAncestors:R}=l.current;for(const N of R){const M=n.code,{isTop:H,isRight:V,isLeft:B,isBottom:G,maxScroll:Q,minScroll:K}=Uv(N),L=K_(N),Z={x:Math.min(M===Oe.Right?L.right-L.width/2:L.right,Math.max(M===Oe.Right?L.left:L.left+L.width/2,w.x)),y:Math.min(M===Oe.Down?L.bottom-L.height/2:L.bottom,Math.max(M===Oe.Down?L.top:L.top+L.height/2,w.y))},de=M===Oe.Right&&!V||M===Oe.Left&&!B,Re=M===Oe.Down&&!G||M===Oe.Up&&!H;if(de&&Z.x!==w.x){const ye=N.scrollLeft+S.x,Ce=M===Oe.Right&&ye<=Q.x||M===Oe.Left&&ye>=K.x;if(Ce&&!S.y){N.scrollTo({left:ye,behavior:m});return}Ce?E.x=N.scrollLeft-ye:E.x=M===Oe.Right?N.scrollLeft-Q.x:N.scrollLeft-K.x,E.x&&N.scrollBy({left:-E.x,behavior:m});break}else if(Re&&Z.y!==w.y){const ye=N.scrollTop+S.y,Ce=M===Oe.Down&&ye<=Q.y||M===Oe.Up&&ye>=K.y;if(Ce&&!S.x){N.scrollTo({top:ye,behavior:m});return}Ce?E.y=N.scrollTop-ye:E.y=M===Oe.Down?N.scrollTop-Q.y:N.scrollTop-K.y,E.y&&N.scrollBy({top:-E.y,behavior:m});break}}this.handleMove(n,ei(hs(w,this.referenceCoordinates),E))}}}handleMove(n,i){const{onMove:l}=this.props;n.preventDefault(),l(i)}handleEnd(n){const{onEnd:i}=this.props;n.preventDefault(),this.detach(),i()}handleCancel(n){const{onCancel:i}=this.props;n.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}io.activators=[{eventName:"onKeyDown",handler:(r,n,i)=>{let{keyboardCodes:l=zv,onActivation:u}=n,{active:d}=i;const{code:f}=r.nativeEvent;if(l.start.includes(f)){const m=d.activatorNode.current;return m&&r.target!==m?!1:(r.preventDefault(),u?.({event:r.nativeEvent}),!0)}return!1}}];function Im(r){return!!(r&&"distance"in r)}function Xm(r){return!!(r&&"delay"in r)}class vd{constructor(n,i,l){var u;l===void 0&&(l=Q_(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=i;const{event:d}=n,{target:f}=d;this.props=n,this.events=i,this.document=ai(f),this.documentListeners=new as(this.document),this.listeners=new as(l),this.windowListeners=new as(Lt(f)),this.initialCoordinates=(u=td(d))!=null?u:Sn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:i,bypassActivationConstraint:l}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(fn.Resize,this.handleCancel),this.windowListeners.add(fn.DragStart,Ym),this.windowListeners.add(fn.VisibilityChange,this.handleCancel),this.windowListeners.add(fn.ContextMenu,Ym),this.documentListeners.add(fn.Keydown,this.handleKeydown),i){if(l!=null&&l({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xm(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Im(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,i){const{active:l,onPending:u}=this.props;u(l,n,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:n}=this,{onStart:i}=this.props;n&&(this.activated=!0,this.documentListeners.add(fn.Click,Z_,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(fn.SelectionChange,this.removeTextSelection),i(n))}handleMove(n){var i;const{activated:l,initialCoordinates:u,props:d}=this,{onMove:f,options:{activationConstraint:m}}=d;if(!u)return;const g=(i=td(n))!=null?i:Sn,v=hs(u,g);if(!l&&m){if(Im(m)){if(m.tolerance!=null&&$c(v,m.tolerance))return this.handleCancel();if($c(v,m.distance))return this.handleStart()}if(Xm(m)&&$c(v,m.tolerance))return this.handleCancel();this.handlePending(m,v);return}n.cancelable&&n.preventDefault(),f(g)}handleEnd(){const{onAbort:n,onEnd:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleCancel(){const{onAbort:n,onCancel:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleKeydown(n){n.code===Oe.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const F_={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class so extends vd{constructor(n){const{event:i}=n,l=ai(i.target);super(n,F_,l)}}so.activators=[{eventName:"onPointerDown",handler:(r,n)=>{let{nativeEvent:i}=r,{onActivation:l}=n;return!i.isPrimary||i.button!==0?!1:(l?.({event:i}),!0)}}];const P_={move:{name:"mousemove"},end:{name:"mouseup"}};var ad;(function(r){r[r.RightClick=2]="RightClick"})(ad||(ad={}));class eS extends vd{constructor(n){super(n,P_,ai(n.event.target))}}eS.activators=[{eventName:"onMouseDown",handler:(r,n)=>{let{nativeEvent:i}=r,{onActivation:l}=n;return i.button===ad.RightClick?!1:(l?.({event:i}),!0)}}];const Gc={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tS extends vd{constructor(n){super(n,Gc)}static setup(){return window.addEventListener(Gc.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Gc.move.name,n)};function n(){}}}tS.activators=[{eventName:"onTouchStart",handler:(r,n)=>{let{nativeEvent:i}=r,{onActivation:l}=n;const{touches:u}=i;return u.length>1?!1:(l?.({event:i}),!0)}}];var rs;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(rs||(rs={}));var Fl;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Fl||(Fl={}));function nS(r){let{acceleration:n,activator:i=rs.Pointer,canScroll:l,draggingRect:u,enabled:d,interval:f=5,order:m=Fl.TreeOrder,pointerCoordinates:g,scrollableAncestors:v,scrollableAncestorRects:b,delta:w,threshold:S}=r;const E=rS({delta:w,disabled:!d}),[R,N]=v_(),M=A.useRef({x:0,y:0}),H=A.useRef({x:0,y:0}),V=A.useMemo(()=>{switch(i){case rs.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case rs.DraggableRect:return u}},[i,u,g]),B=A.useRef(null),G=A.useCallback(()=>{const K=B.current;if(!K)return;const L=M.current.x*H.current.x,Z=M.current.y*H.current.y;K.scrollBy(L,Z)},[]),Q=A.useMemo(()=>m===Fl.TreeOrder?[...v].reverse():v,[m,v]);A.useEffect(()=>{if(!d||!v.length||!V){N();return}for(const K of Q){if(l?.(K)===!1)continue;const L=v.indexOf(K),Z=b[L];if(!Z)continue;const{direction:de,speed:Re}=V_(K,Z,V,n,S);for(const ye of["x","y"])E[ye][de[ye]]||(Re[ye]=0,de[ye]=0);if(Re.x>0||Re.y>0){N(),B.current=K,R(G,f),M.current=Re,H.current=de;return}}M.current={x:0,y:0},H.current={x:0,y:0},N()},[n,G,l,N,d,f,JSON.stringify(V),JSON.stringify(E),R,v,Q,b,JSON.stringify(S)])}const aS={x:{[ft.Backward]:!1,[ft.Forward]:!1},y:{[ft.Backward]:!1,[ft.Forward]:!1}};function rS(r){let{delta:n,disabled:i}=r;const l=ed(n);return ys(u=>{if(i||!l||!u)return aS;const d={x:Math.sign(n.x-l.x),y:Math.sign(n.y-l.y)};return{x:{[ft.Backward]:u.x[ft.Backward]||d.x===-1,[ft.Forward]:u.x[ft.Forward]||d.x===1},y:{[ft.Backward]:u.y[ft.Backward]||d.y===-1,[ft.Forward]:u.y[ft.Forward]||d.y===1}}},[i,n,l])}function iS(r,n){const i=n!=null?r.get(n):void 0,l=i?i.node.current:null;return ys(u=>{var d;return n==null?null:(d=l??u)!=null?d:null},[l,n])}function sS(r,n){return A.useMemo(()=>r.reduce((i,l)=>{const{sensor:u}=l,d=u.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,l)}));return[...i,...d]},[]),[r,n])}var gs;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(gs||(gs={}));var rd;(function(r){r.Optimized="optimized"})(rd||(rd={}));const Jm=new Map;function lS(r,n){let{dragging:i,dependencies:l,config:u}=n;const[d,f]=A.useState(null),{frequency:m,measure:g,strategy:v}=u,b=A.useRef(r),w=M(),S=fs(w),E=A.useCallback(function(H){H===void 0&&(H=[]),!S.current&&f(V=>V===null?H:V.concat(H.filter(B=>!V.includes(B))))},[S]),R=A.useRef(null),N=ys(H=>{if(w&&!i)return Jm;if(!H||H===Jm||b.current!==r||d!=null){const V=new Map;for(let B of r){if(!B)continue;if(d&&d.length>0&&!d.includes(B.id)&&B.rect.current){V.set(B.id,B.rect.current);continue}const G=B.node.current,Q=G?new md(g(G),G):null;B.rect.current=Q,Q&&V.set(B.id,Q)}return V}return H},[r,d,i,w,g]);return A.useEffect(()=>{b.current=r},[r]),A.useEffect(()=>{w||E()},[i,w]),A.useEffect(()=>{d&&d.length>0&&f(null)},[JSON.stringify(d)]),A.useEffect(()=>{w||typeof m!="number"||R.current!==null||(R.current=setTimeout(()=>{E(),R.current=null},m))},[m,w,E,...l]),{droppableRects:N,measureDroppableContainers:E,measuringScheduled:d!=null};function M(){switch(v){case gs.Always:return!1;case gs.BeforeDragging:return i;default:return!i}}}function Bv(r,n){return ys(i=>r?i||(typeof n=="function"?n(r):r):null,[n,r])}function oS(r,n){return Bv(r,n)}function uS(r){let{callback:n,disabled:i}=r;const l=hd(n),u=A.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(l)},[l,i]);return A.useEffect(()=>()=>u?.disconnect(),[u]),u}function lo(r){let{callback:n,disabled:i}=r;const l=hd(n),u=A.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(l)},[i]);return A.useEffect(()=>()=>u?.disconnect(),[u]),u}function cS(r){return new md(ri(r),r)}function Qm(r,n,i){n===void 0&&(n=cS);const[l,u]=A.useState(null);function d(){u(g=>{if(!r)return null;if(r.isConnected===!1){var v;return(v=g??i)!=null?v:null}const b=n(r);return JSON.stringify(g)===JSON.stringify(b)?g:b})}const f=uS({callback(g){if(r)for(const v of g){const{type:b,target:w}=v;if(b==="childList"&&w instanceof HTMLElement&&w.contains(r)){d();break}}}}),m=lo({callback:d});return jn(()=>{d(),r?(m?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),f?.disconnect())},[r]),l}function dS(r){const n=Bv(r);return Cv(r,n)}const Zm=[];function fS(r){const n=A.useRef(r),i=ys(l=>r?l&&l!==Zm&&r&&n.current&&r.parentNode===n.current.parentNode?l:ro(r):Zm,[r]);return A.useEffect(()=>{n.current=r},[r]),i}function hS(r){const[n,i]=A.useState(null),l=A.useRef(r),u=A.useCallback(d=>{const f=Hc(d.target);f&&i(m=>m?(m.set(f,nd(f)),new Map(m)):null)},[]);return A.useEffect(()=>{const d=l.current;if(r!==d){f(d);const m=r.map(g=>{const v=Hc(g);return v?(v.addEventListener("scroll",u,{passive:!0}),[v,nd(v)]):null}).filter(g=>g!=null);i(m.length?new Map(m):null),l.current=r}return()=>{f(r),f(d)};function f(m){m.forEach(g=>{const v=Hc(g);v?.removeEventListener("scroll",u)})}},[u,r]),A.useMemo(()=>r.length?n?Array.from(n.values()).reduce((d,f)=>ei(d,f),Sn):Mv(r):Sn,[r,n])}function Wm(r,n){n===void 0&&(n=[]);const i=A.useRef(null);return A.useEffect(()=>{i.current=null},n),A.useEffect(()=>{const l=r!==Sn;l&&!i.current&&(i.current=r),!l&&i.current&&(i.current=null)},[r]),i.current?hs(r,i.current):Sn}function gS(r){A.useEffect(()=>{if(!ao)return;const n=r.map(i=>{let{sensor:l}=i;return l.setup==null?void 0:l.setup()});return()=>{for(const i of n)i?.()}},r.map(n=>{let{sensor:i}=n;return i}))}function mS(r,n){return A.useMemo(()=>r.reduce((i,l)=>{let{eventName:u,handler:d}=l;return i[u]=f=>{d(f,n)},i},{}),[r,n])}function Lv(r){return A.useMemo(()=>r?q_(r):null,[r])}const Fm=[];function vS(r,n){n===void 0&&(n=ri);const[i]=r,l=Lv(i?Lt(i):null),[u,d]=A.useState(Fm);function f(){d(()=>r.length?r.map(g=>kv(g)?l:new md(n(g),g)):Fm)}const m=lo({callback:f});return jn(()=>{m?.disconnect(),f(),r.forEach(g=>m?.observe(g))},[r]),u}function yS(r){if(!r)return null;if(r.children.length>1)return r;const n=r.children[0];return vs(n)?n:r}function pS(r){let{measure:n}=r;const[i,l]=A.useState(null),u=A.useCallback(v=>{for(const{target:b}of v)if(vs(b)){l(w=>{const S=n(b);return w?{...w,width:S.width,height:S.height}:S});break}},[n]),d=lo({callback:u}),f=A.useCallback(v=>{const b=yS(v);d?.disconnect(),b&&d?.observe(b),l(b?n(b):null)},[n,d]),[m,g]=Ql(f);return A.useMemo(()=>({nodeRef:m,rect:i,setRef:g}),[i,m,g])}const bS=[{sensor:so,options:{}},{sensor:io,options:{}}],wS={current:{}},Yl={draggable:{measure:Km},droppable:{measure:Km,strategy:gs.WhileDragging,frequency:rd.Optimized},dragOverlay:{measure:ri}};class is extends Map{get(n){var i;return n!=null&&(i=super.get(n))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:i}=n;return!i})}getNodeFor(n){var i,l;return(i=(l=this.get(n))==null?void 0:l.node.current)!=null?i:void 0}}const _S={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new is,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Yl,measureDroppableContainers:Zl,windowRect:null,measuringScheduled:!1},SS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zl,draggableNodes:new Map,over:null,measureDroppableContainers:Zl},oo=A.createContext(SS),qv=A.createContext(_S);function xS(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new is}}}function ES(r,n){switch(n.type){case lt.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case lt.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:n.coordinates.x-r.draggable.initialCoordinates.x,y:n.coordinates.y-r.draggable.initialCoordinates.y}}};case lt.DragEnd:case lt.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case lt.RegisterDroppable:{const{element:i}=n,{id:l}=i,u=new is(r.droppable.containers);return u.set(l,i),{...r,droppable:{...r.droppable,containers:u}}}case lt.SetDroppableDisabled:{const{id:i,key:l,disabled:u}=n,d=r.droppable.containers.get(i);if(!d||l!==d.key)return r;const f=new is(r.droppable.containers);return f.set(i,{...d,disabled:u}),{...r,droppable:{...r.droppable,containers:f}}}case lt.UnregisterDroppable:{const{id:i,key:l}=n,u=r.droppable.containers.get(i);if(!u||l!==u.key)return r;const d=new is(r.droppable.containers);return d.delete(i),{...r,droppable:{...r.droppable,containers:d}}}default:return r}}function TS(r){let{disabled:n}=r;const{active:i,activatorEvent:l,draggableNodes:u}=A.useContext(oo),d=ed(l),f=ed(i?.id);return A.useEffect(()=>{if(!n&&!l&&d&&f!=null){if(!gd(d)||document.activeElement===d.target)return;const m=u.get(f);if(!m)return;const{activatorNode:g,node:v}=m;if(!g.current&&!v.current)return;requestAnimationFrame(()=>{for(const b of[g.current,v.current]){if(!b)continue;const w=b_(b);if(w){w.focus();break}}})}},[l,n,u,f,d]),null}function AS(r,n){let{transform:i,...l}=n;return r!=null&&r.length?r.reduce((u,d)=>d({transform:u,...l}),i):i}function OS(r){return A.useMemo(()=>({draggable:{...Yl.draggable,...r?.draggable},droppable:{...Yl.droppable,...r?.droppable},dragOverlay:{...Yl.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function RS(r){let{activeNode:n,measure:i,initialRect:l,config:u=!0}=r;const d=A.useRef(!1),{x:f,y:m}=typeof u=="boolean"?{x:u,y:u}:u;jn(()=>{if(!f&&!m||!n){d.current=!1;return}if(d.current||!l)return;const v=n?.node.current;if(!v||v.isConnected===!1)return;const b=i(v),w=Cv(b,l);if(f||(w.x=0),m||(w.y=0),d.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const S=jv(v);S&&S.scrollBy({top:w.y,left:w.x})}},[n,f,m,l,i])}const Hv=A.createContext({...Sn,scaleX:1,scaleY:1});var Ra;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Ra||(Ra={}));const $v=A.memo(function(n){var i,l,u,d;let{id:f,accessibility:m,autoScroll:g=!0,children:v,sensors:b=bS,collisionDetection:w=D_,measuring:S,modifiers:E,...R}=n;const N=A.useReducer(ES,void 0,xS),[M,H]=N,[V,B]=T_(),[G,Q]=A.useState(Ra.Uninitialized),K=G===Ra.Initialized,{draggable:{active:L,nodes:Z,translate:de},droppable:{containers:Re}}=M,ye=L!=null?Z.get(L):null,Ce=A.useRef({initial:null,translated:null}),P=A.useMemo(()=>{var Qe;return L!=null?{id:L,data:(Qe=ye?.data)!=null?Qe:wS,rect:Ce}:null},[L,ye]),re=A.useRef(null),[me,D]=A.useState(null),[J,ne]=A.useState(null),fe=fs(R,Object.values(R)),be=ps("DndDescribedBy",f),_=A.useMemo(()=>Re.getEnabled(),[Re]),j=OS(S),{droppableRects:O,measureDroppableContainers:I,measuringScheduled:W}=lS(_,{dragging:K,dependencies:[de.x,de.y],config:j.droppable}),F=iS(Z,L),le=A.useMemo(()=>J?td(J):null,[J]),ve=rr(),he=oS(F,j.draggable.measure);RS({activeNode:L!=null?Z.get(L):null,config:ve.layoutShiftCompensation,initialRect:he,measure:j.draggable.measure});const _e=Qm(F,j.draggable.measure,he),Ye=Qm(F?F.parentElement:null),ht=A.useRef({activatorEvent:null,active:null,activeNode:F,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:Z,draggingNode:null,draggingNodeRect:null,droppableContainers:Re,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Dn=Re.getNodeFor((i=ht.current.over)==null?void 0:i.id),gt=pS({measure:j.dragOverlay.measure}),xn=(l=gt.nodeRef.current)!=null?l:F,En=K?(u=gt.rect)!=null?u:_e:null,ws=!!(gt.nodeRef.current&&gt.rect),ii=dS(ws?null:_e),ja=Lv(xn?Lt(xn):null),Zt=fS(K?Dn??F:null),na=vS(Zt),nr=AS(E,{transform:{x:de.x-ii.x,y:de.y-ii.y,scaleX:1,scaleY:1},activatorEvent:J,active:P,activeNodeRect:_e,containerNodeRect:Ye,draggingNodeRect:En,over:ht.current.over,overlayNodeRect:gt.rect,scrollableAncestors:Zt,scrollableAncestorRects:na,windowRect:ja}),_s=le?ei(le,de):null,St=hS(Zt),fo=Wm(St),Ss=Wm(St,[_e]),kn=ei(nr,fo),hn=En?M_(En,nr):null,Na=P&&hn?w({active:P,collisionRect:hn,droppableRects:O,droppableContainers:_,pointerCoordinates:_s}):null,si=Ov(Na,"id"),[Tn,xs]=A.useState(null),Da=ws?nr:ei(nr,Ss),At=k_(Da,(d=Tn?.rect)!=null?d:null,_e),Wt=A.useRef(null),xt=A.useCallback((Qe,Ze)=>{let{sensor:ut,options:Rt}=Ze;if(re.current==null)return;const Ct=Z.get(re.current);if(!Ct)return;const Et=Qe.nativeEvent,jt=new ut({active:re.current,activeNode:Ct,event:Et,options:Rt,context:ht,onAbort(rt){if(!Z.get(rt))return;const{onDragAbort:qt}=fe.current,Pt={id:rt};qt?.(Pt),V({type:"onDragAbort",event:Pt})},onPending(rt,gn,qt,Pt){if(!Z.get(rt))return;const{onDragPending:Mn}=fe.current,mn={id:rt,constraint:gn,initialCoordinates:qt,offset:Pt};Mn?.(mn),V({type:"onDragPending",event:mn})},onStart(rt){const gn=re.current;if(gn==null)return;const qt=Z.get(gn);if(!qt)return;const{onDragStart:Pt}=fe.current,Un={activatorEvent:Et,active:{id:gn,data:qt.data,rect:Ce}};es.unstable_batchedUpdates(()=>{Pt?.(Un),Q(Ra.Initializing),H({type:lt.DragStart,initialCoordinates:rt,active:gn}),V({type:"onDragStart",event:Un}),D(Wt.current),ne(Et)})},onMove(rt){H({type:lt.DragMove,coordinates:rt})},onEnd:Ft(lt.DragEnd),onCancel:Ft(lt.DragCancel)});Wt.current=jt;function Ft(rt){return async function(){const{active:qt,collisions:Pt,over:Un,scrollAdjustedTranslate:Mn}=ht.current;let mn=null;if(qt&&Mn){const{cancelDrop:aa}=fe.current;mn={activatorEvent:Et,active:qt,collisions:Pt,delta:Mn,over:Un},rt===lt.DragEnd&&typeof aa=="function"&&await Promise.resolve(aa(mn))&&(rt=lt.DragCancel)}re.current=null,es.unstable_batchedUpdates(()=>{H({type:rt}),Q(Ra.Uninitialized),xs(null),D(null),ne(null),Wt.current=null;const aa=rt===lt.DragEnd?"onDragEnd":"onDragCancel";if(mn){const en=fe.current[aa];en?.(mn),V({type:aa,event:mn})}})}}},[Z]),ho=A.useCallback((Qe,Ze)=>(ut,Rt)=>{const Ct=ut.nativeEvent,Et=Z.get(Rt);if(re.current!==null||!Et||Ct.dndKit||Ct.defaultPrevented)return;const jt={active:Et};Qe(ut,Ze.options,jt)===!0&&(Ct.dndKit={capturedBy:Ze.sensor},re.current=Rt,xt(ut,Ze))},[Z,xt]),Es=sS(b,ho);gS(b),jn(()=>{_e&&G===Ra.Initializing&&Q(Ra.Initialized)},[_e,G]),A.useEffect(()=>{const{onDragMove:Qe}=fe.current,{active:Ze,activatorEvent:ut,collisions:Rt,over:Ct}=ht.current;if(!Ze||!ut)return;const Et={active:Ze,activatorEvent:ut,collisions:Rt,delta:{x:kn.x,y:kn.y},over:Ct};es.unstable_batchedUpdates(()=>{Qe?.(Et),V({type:"onDragMove",event:Et})})},[kn.x,kn.y]),A.useEffect(()=>{const{active:Qe,activatorEvent:Ze,collisions:ut,droppableContainers:Rt,scrollAdjustedTranslate:Ct}=ht.current;if(!Qe||re.current==null||!Ze||!Ct)return;const{onDragOver:Et}=fe.current,jt=Rt.get(si),Ft=jt&&jt.rect.current?{id:jt.id,rect:jt.rect.current,data:jt.data,disabled:jt.disabled}:null,rt={active:Qe,activatorEvent:Ze,collisions:ut,delta:{x:Ct.x,y:Ct.y},over:Ft};es.unstable_batchedUpdates(()=>{xs(Ft),Et?.(rt),V({type:"onDragOver",event:rt})})},[si]),jn(()=>{ht.current={activatorEvent:J,active:P,activeNode:F,collisionRect:hn,collisions:Na,droppableRects:O,draggableNodes:Z,draggingNode:xn,draggingNodeRect:En,droppableContainers:Re,over:Tn,scrollableAncestors:Zt,scrollAdjustedTranslate:kn},Ce.current={initial:En,translated:hn}},[P,F,Na,hn,Z,xn,En,O,Re,Tn,Zt,kn]),nS({...ve,delta:de,draggingRect:hn,pointerCoordinates:_s,scrollableAncestors:Zt,scrollableAncestorRects:na});const go=A.useMemo(()=>({active:P,activeNode:F,activeNodeRect:_e,activatorEvent:J,collisions:Na,containerNodeRect:Ye,dragOverlay:gt,draggableNodes:Z,droppableContainers:Re,droppableRects:O,over:Tn,measureDroppableContainers:I,scrollableAncestors:Zt,scrollableAncestorRects:na,measuringConfiguration:j,measuringScheduled:W,windowRect:ja}),[P,F,_e,J,Na,Ye,gt,Z,Re,O,Tn,I,Zt,na,j,W,ja]),ar=A.useMemo(()=>({activatorEvent:J,activators:Es,active:P,activeNodeRect:_e,ariaDescribedById:{draggable:be},dispatch:H,draggableNodes:Z,over:Tn,measureDroppableContainers:I}),[J,Es,P,_e,H,be,Z,Tn,I]);return ee.createElement(xv.Provider,{value:B},ee.createElement(oo.Provider,{value:ar},ee.createElement(qv.Provider,{value:go},ee.createElement(Hv.Provider,{value:At},v)),ee.createElement(TS,{disabled:m?.restoreFocus===!1})),ee.createElement(R_,{...m,hiddenTextDescribedById:be}));function rr(){const Qe=me?.autoScrollEnabled===!1,Ze=typeof g=="object"?g.enabled===!1:g===!1,ut=K&&!Qe&&!Ze;return typeof g=="object"?{...g,enabled:ut}:{enabled:ut}}}),CS=A.createContext(null),Pm="button",jS="Draggable";function NS(r){let{id:n,data:i,disabled:l=!1,attributes:u}=r;const d=ps(jS),{activators:f,activatorEvent:m,active:g,activeNodeRect:v,ariaDescribedById:b,draggableNodes:w,over:S}=A.useContext(oo),{role:E=Pm,roleDescription:R="draggable",tabIndex:N=0}=u??{},M=g?.id===n,H=A.useContext(M?Hv:CS),[V,B]=Ql(),[G,Q]=Ql(),K=mS(f,n),L=fs(i);jn(()=>(w.set(n,{id:n,key:d,node:V,activatorNode:G,data:L}),()=>{const de=w.get(n);de&&de.key===d&&w.delete(n)}),[w,n]);const Z=A.useMemo(()=>({role:E,tabIndex:N,"aria-disabled":l,"aria-pressed":M&&E===Pm?!0:void 0,"aria-roledescription":R,"aria-describedby":b.draggable}),[l,E,N,M,R,b.draggable]);return{active:g,activatorEvent:m,activeNodeRect:v,attributes:Z,isDragging:M,listeners:l?void 0:K,node:V,over:S,setNodeRef:B,setActivatorNodeRef:Q,transform:H}}function DS(){return A.useContext(qv)}const kS="Droppable",US={timeout:25};function MS(r){let{data:n,disabled:i=!1,id:l,resizeObserverConfig:u}=r;const d=ps(kS),{active:f,dispatch:m,over:g,measureDroppableContainers:v}=A.useContext(oo),b=A.useRef({disabled:i}),w=A.useRef(!1),S=A.useRef(null),E=A.useRef(null),{disabled:R,updateMeasurementsFor:N,timeout:M}={...US,...u},H=fs(N??l),V=A.useCallback(()=>{if(!w.current){w.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{v(Array.isArray(H.current)?H.current:[H.current]),E.current=null},M)},[M]),B=lo({callback:V,disabled:R||!f}),G=A.useCallback((Z,de)=>{B&&(de&&(B.unobserve(de),w.current=!1),Z&&B.observe(Z))},[B]),[Q,K]=Ql(G),L=fs(n);return A.useEffect(()=>{!B||!Q.current||(B.disconnect(),w.current=!1,B.observe(Q.current))},[Q,B]),A.useEffect(()=>(m({type:lt.RegisterDroppable,element:{id:l,key:d,disabled:i,node:Q,rect:S,data:L}}),()=>m({type:lt.UnregisterDroppable,key:d,id:l})),[l]),A.useEffect(()=>{i!==b.current.disabled&&(m({type:lt.SetDroppableDisabled,id:l,key:d,disabled:i}),b.current.disabled=i)},[l,d,i,m]),{active:f,rect:S,isOver:g?.id===l,node:Q,over:g,setNodeRef:K}}function uo(r,n,i){const l=r.slice();return l.splice(i<0?l.length+i:i,0,l.splice(n,1)[0]),l}function zS(r,n){return r.reduce((i,l,u)=>{const d=n.get(l);return d&&(i[u]=d),i},Array(r.length))}function $l(r){return r!==null&&r>=0}function BS(r,n){if(r===n)return!0;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function LS(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const Gv=r=>{let{rects:n,activeIndex:i,overIndex:l,index:u}=r;const d=uo(n,l,i),f=n[u],m=d[u];return!m||!f?null:{x:m.left-f.left,y:m.top-f.top,scaleX:m.width/f.width,scaleY:m.height/f.height}},Gl={scaleX:1,scaleY:1},Vv=r=>{var n;let{activeIndex:i,activeNodeRect:l,index:u,rects:d,overIndex:f}=r;const m=(n=d[i])!=null?n:l;if(!m)return null;if(u===i){const v=d[f];return v?{x:0,y:i<f?v.top+v.height-(m.top+m.height):v.top-m.top,...Gl}:null}const g=qS(d,u,i);return u>i&&u<=f?{x:0,y:-m.height-g,...Gl}:u<i&&u>=f?{x:0,y:m.height+g,...Gl}:{x:0,y:0,...Gl}};function qS(r,n,i){const l=r[n],u=r[n-1],d=r[n+1];return l?i<n?u?l.top-(u.top+u.height):d?d.top-(l.top+l.height):0:d?d.top-(l.top+l.height):u?l.top-(u.top+u.height):0:0}const Kv="Sortable",Yv=ee.createContext({activeIndex:-1,containerId:Kv,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Gv,disabled:{draggable:!1,droppable:!1}});function Iv(r){let{children:n,id:i,items:l,strategy:u=Gv,disabled:d=!1}=r;const{active:f,dragOverlay:m,droppableRects:g,over:v,measureDroppableContainers:b}=DS(),w=ps(Kv,i),S=m.rect!==null,E=A.useMemo(()=>l.map(K=>typeof K=="object"&&"id"in K?K.id:K),[l]),R=f!=null,N=f?E.indexOf(f.id):-1,M=v?E.indexOf(v.id):-1,H=A.useRef(E),V=!BS(E,H.current),B=M!==-1&&N===-1||V,G=LS(d);jn(()=>{V&&R&&b(E)},[V,E,R,b]),A.useEffect(()=>{H.current=E},[E]);const Q=A.useMemo(()=>({activeIndex:N,containerId:w,disabled:G,disableTransforms:B,items:E,overIndex:M,useDragOverlay:S,sortedRects:zS(E,g),strategy:u}),[N,w,G.draggable,G.droppable,B,E,M,g,S,u]);return ee.createElement(Yv.Provider,{value:Q},n)}const HS=r=>{let{id:n,items:i,activeIndex:l,overIndex:u}=r;return uo(i,l,u).indexOf(n)},$S=r=>{let{containerId:n,isSorting:i,wasDragging:l,index:u,items:d,newIndex:f,previousItems:m,previousContainerId:g,transition:v}=r;return!v||!l||m!==d&&u===f?!1:i?!0:f!==u&&n===g},GS={duration:200,easing:"ease"},Xv="transform",VS=ti.Transition.toString({property:Xv,duration:0,easing:"linear"}),KS={roleDescription:"sortable"};function YS(r){let{disabled:n,index:i,node:l,rect:u}=r;const[d,f]=A.useState(null),m=A.useRef(i);return jn(()=>{if(!n&&i!==m.current&&l.current){const g=u.current;if(g){const v=ri(l.current,{ignoreTransform:!0}),b={x:g.left-v.left,y:g.top-v.top,scaleX:g.width/v.width,scaleY:g.height/v.height};(b.x||b.y)&&f(b)}}i!==m.current&&(m.current=i)},[n,i,l,u]),A.useEffect(()=>{d&&f(null)},[d]),d}function Jv(r){let{animateLayoutChanges:n=$S,attributes:i,disabled:l,data:u,getNewIndex:d=HS,id:f,strategy:m,resizeObserverConfig:g,transition:v=GS}=r;const{items:b,containerId:w,activeIndex:S,disabled:E,disableTransforms:R,sortedRects:N,overIndex:M,useDragOverlay:H,strategy:V}=A.useContext(Yv),B=IS(l,E),G=b.indexOf(f),Q=A.useMemo(()=>({sortable:{containerId:w,index:G,items:b},...u}),[w,u,G,b]),K=A.useMemo(()=>b.slice(b.indexOf(f)),[b,f]),{rect:L,node:Z,isOver:de,setNodeRef:Re}=MS({id:f,data:Q,disabled:B.droppable,resizeObserverConfig:{updateMeasurementsFor:K,...g}}),{active:ye,activatorEvent:Ce,activeNodeRect:P,attributes:re,setNodeRef:me,listeners:D,isDragging:J,over:ne,setActivatorNodeRef:fe,transform:be}=NS({id:f,data:Q,attributes:{...KS,...i},disabled:B.draggable}),_=m_(Re,me),j=!!ye,O=j&&!R&&$l(S)&&$l(M),I=!H&&J,W=I&&O?be:null,le=O?W??(m??V)({rects:N,activeNodeRect:P,activeIndex:S,overIndex:M,index:G}):null,ve=$l(S)&&$l(M)?d({id:f,items:b,activeIndex:S,overIndex:M}):G,he=ye?.id,_e=A.useRef({activeId:he,items:b,newIndex:ve,containerId:w}),Ye=b!==_e.current.items,ht=n({active:ye,containerId:w,isDragging:J,isSorting:j,id:f,index:G,items:b,newIndex:_e.current.newIndex,previousItems:_e.current.items,previousContainerId:_e.current.containerId,transition:v,wasDragging:_e.current.activeId!=null}),Dn=YS({disabled:!ht,index:G,node:Z,rect:L});return A.useEffect(()=>{j&&_e.current.newIndex!==ve&&(_e.current.newIndex=ve),w!==_e.current.containerId&&(_e.current.containerId=w),b!==_e.current.items&&(_e.current.items=b)},[j,ve,w,b]),A.useEffect(()=>{if(he===_e.current.activeId)return;if(he!=null&&_e.current.activeId==null){_e.current.activeId=he;return}const xn=setTimeout(()=>{_e.current.activeId=he},50);return()=>clearTimeout(xn)},[he]),{active:ye,activeIndex:S,attributes:re,data:Q,rect:L,index:G,newIndex:ve,items:b,isOver:de,isSorting:j,isDragging:J,listeners:D,node:Z,overIndex:M,over:ne,setNodeRef:_,setActivatorNodeRef:fe,setDroppableNodeRef:Re,setDraggableNodeRef:me,transform:Dn??le,transition:gt()};function gt(){if(Dn||Ye&&_e.current.newIndex===G)return VS;if(!(I&&!gd(Ce)||!v)&&(j||ht))return ti.Transition.toString({...v,property:Xv})}}function IS(r,n){var i,l;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(i=r?.draggable)!=null?i:n.draggable,droppable:(l=r?.droppable)!=null?l:n.droppable}}function Pl(r){if(!r)return!1;const n=r.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const XS=[Oe.Down,Oe.Right,Oe.Up,Oe.Left],Qv=(r,n)=>{let{context:{active:i,collisionRect:l,droppableRects:u,droppableContainers:d,over:f,scrollableAncestors:m}}=n;if(XS.includes(r.code)){if(r.preventDefault(),!i||!l)return;const g=[];d.getEnabled().forEach(w=>{if(!w||w!=null&&w.disabled)return;const S=u.get(w.id);if(S)switch(r.code){case Oe.Down:l.top<S.top&&g.push(w);break;case Oe.Up:l.top>S.top&&g.push(w);break;case Oe.Left:l.left>S.left&&g.push(w);break;case Oe.Right:l.left<S.left&&g.push(w);break}});const v=j_({collisionRect:l,droppableRects:u,droppableContainers:g});let b=Ov(v,"id");if(b===f?.id&&v.length>1&&(b=v[1].id),b!=null){const w=d.get(i.id),S=d.get(b),E=S?u.get(S.id):null,R=S?.node.current;if(R&&E&&w&&S){const M=ro(R).some((K,L)=>m[L]!==K),H=Zv(w,S),V=JS(w,S),B=M||!H?{x:0,y:0}:{x:V?l.width-E.width:0,y:V?l.height-E.height:0},G={x:E.left,y:E.top};return B.x&&B.y?G:hs(G,B)}}}};function Zv(r,n){return!Pl(r)||!Pl(n)?!1:r.data.current.sortable.containerId===n.data.current.sortable.containerId}function JS(r,n){return!Pl(r)||!Pl(n)||!Zv(r,n)?!1:r.data.current.sortable.index<n.data.current.sortable.index}function QS({account:r,onDelete:n,onToggleWorkbench:i,onUpdate:l}){const[u,d]=A.useState(!1),[f,m]=A.useState(r.name),[g,v]=A.useState(r.current_balance.toFixed(2)),[b,w]=A.useState(r.is_liability),{attributes:S,listeners:E,setNodeRef:R,transform:N,transition:M,isDragging:H}=Jv({id:r.id,disabled:u}),V={transform:ti.Transform.toString(N),transition:M,zIndex:H?10:"auto",position:H?"relative":"static"},B=()=>{const G=parseFloat(g);isNaN(G)||(l(r.id,{name:f,current_balance:G,is_liability:b}),d(!1))};return u?p.jsxs("tr",{ref:R,style:V,className:"bg-blue-50",children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{disabled:!0,className:"p-1 opacity-20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"9",cy:"12",r:"1"}),p.jsx("circle",{cx:"9",cy:"5",r:"1"}),p.jsx("circle",{cx:"9",cy:"19",r:"1"}),p.jsx("circle",{cx:"15",cy:"12",r:"1"}),p.jsx("circle",{cx:"15",cy:"5",r:"1"}),p.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),p.jsx("input",{type:"checkbox",disabled:!0,checked:r.include_in_workbench!==!1,className:"rounded text-blue-600 opacity-20 mr-2"}),p.jsx("input",{type:"text",value:f,onChange:G=>m(G.target.value),onKeyDown:G=>G.key==="Enter"&&B(),className:"px-2 py-1 border rounded text-sm w-full focus:ring-2 focus:ring-blue-500 outline-none",autoFocus:!0})]})}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:p.jsx("input",{type:"number",step:"0.01",value:g,onChange:G=>v(G.target.value),onBlur:G=>{const Q=parseFloat(G.target.value);isNaN(Q)||v(Q.toFixed(2))},onKeyDown:G=>G.key==="Enter"&&B(),className:"px-2 py-1 border rounded text-sm w-24 text-right focus:ring-2 focus:ring-blue-500 outline-none font-mono"})}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right hidden sm:table-cell",children:p.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:b,onChange:G=>w(G.target.checked),className:"rounded text-blue-600 focus:ring-blue-500 mr-2"}),p.jsx("span",{className:"text-xs font-semibold",children:b?"Liability":"Asset"})]})}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[p.jsx("button",{onClick:B,className:"text-green-600 hover:text-green-900",children:"Save"}),p.jsx("button",{onClick:()=>{m(r.name),v(r.current_balance.toFixed(2)),w(r.is_liability),d(!1)},className:"text-gray-600 hover:text-gray-900",children:"Cancel"})]})]}):p.jsxs("tr",{ref:R,style:V,className:`hover:bg-gray-50 transition-colors ${H?"bg-blue-50 shadow-lg opacity-80":"bg-white"}`,children:[p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 flex items-center gap-2",children:[p.jsx("button",{...S,...E,className:"cursor-grab text-gray-400 hover:text-gray-600 active:cursor-grabbing p-1 flex-shrink-0 hide-in-screenshot",title:"Drag to reorder",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"9",cy:"12",r:"1"}),p.jsx("circle",{cx:"9",cy:"5",r:"1"}),p.jsx("circle",{cx:"9",cy:"19",r:"1"}),p.jsx("circle",{cx:"15",cy:"12",r:"1"}),p.jsx("circle",{cx:"15",cy:"5",r:"1"}),p.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),p.jsx("input",{type:"checkbox",checked:r.include_in_workbench!==!1,onChange:()=>i(r.id,r.include_in_workbench!==!1),className:"rounded text-blue-600 focus:ring-blue-500 mr-2 hide-in-screenshot",title:"Include in Workbench Calculation",onPointerDown:G=>G.stopPropagation(),onKeyDown:G=>G.stopPropagation()}),p.jsx("button",{onClick:()=>d(!0),className:"hover:text-blue-600 hover:underline text-left truncate max-w-[120px] md:max-w-none",children:r.name})]}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-500 font-mono",children:["$",r.current_balance.toFixed(2)]}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right hidden sm:table-cell",children:p.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r.is_liability?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:r.is_liability?"Liability":"Asset"})}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium space-x-2 hide-in-screenshot",children:[p.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),p.jsx("button",{onClick:()=>n(r.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]})}function ZS({userId:r,onBalanceChange:n,onAccountsUpdate:i}){const[l,u]=A.useState([]),[d,f]=A.useState([]),[m,g]=A.useState(!0),[v,b]=A.useState(!1),[w,S]=A.useState(""),[E,R]=A.useState(""),[N,M]=A.useState(!1),H=Ev(Wl(so),Wl(io,{coordinateGetter:Qv}));A.useEffect(()=>{const P=localStorage.getItem("budget-manager-excluded-accounts");if(P)try{f(JSON.parse(P))}catch(re){console.error("Failed to parse excluded accounts",re)}V()},[]),A.useEffect(()=>{const P=l.filter(D=>!D.is_liability&&!d.includes(D.id)).reduce((D,J)=>D+J.current_balance,0),re=l.filter(D=>D.is_liability&&!d.includes(D.id)).reduce((D,J)=>D+J.current_balance,0),me=P-re;n(me),i&&i(l)},[l,d,n,i]);const V=async()=>{try{const{data:P,error:re}=await Ge.from("accounts").select("*").order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(re)throw re;u(P||[])}catch(P){console.error("Error fetching accounts:",P)}finally{g(!1)}},B=async P=>{const{active:re,over:me}=P;re.id!==me?.id&&u(D=>{const J=D.findIndex(_=>_.id===re.id),ne=D.findIndex(_=>_.id===me?.id),fe=uo(D,J,ne);return fe.map((_,j)=>({id:_.id,sort_order:j})).forEach(async _=>{await Ge.from("accounts").update({sort_order:_.sort_order}).eq("id",_.id)}),fe})},G=(P,re)=>{let me;re?me=[...d,P]:me=d.filter(D=>D!==P),f(me),localStorage.setItem("budget-manager-excluded-accounts",JSON.stringify(me))},Q=()=>{const P=l.map(D=>D.id),re=d.length===0;let me;re?me=P:me=[],f(me),localStorage.setItem("budget-manager-excluded-accounts",JSON.stringify(me))},K=()=>{S(""),R(""),M(!1),b(!1)},L=async P=>{if(P.preventDefault(),!(!w||!E))try{const re=l.length>0?Math.max(...l.map(J=>J.sort_order||0)):0,{data:me,error:D}=await Ge.from("accounts").insert([{user_id:r,name:w,current_balance:parseFloat(E),is_liability:N,sort_order:re+1}]).select();if(D)throw D;me&&u([...l,me[0]]),K()}catch(re){console.error("Error saving account:",re),alert("Error saving account")}},Z=async P=>{if(confirm("Are you sure you want to delete this account?"))try{const{error:re}=await Ge.from("accounts").delete().eq("id",P);if(re)throw re;u(l.filter(me=>me.id!==P))}catch(re){console.error("Error deleting account:",re)}},de=async(P,re)=>{const me=[...l];u(l.map(D=>D.id===P?{...D,...re}:D));try{const{error:D}=await Ge.from("accounts").update(re).eq("id",P);if(D)throw D}catch(D){console.error("Error updating account:",D),u(me)}},Re=l.filter(P=>!P.is_liability).reduce((P,re)=>P+re.current_balance,0),ye=l.filter(P=>P.is_liability).reduce((P,re)=>P+re.current_balance,0),Ce=Re-ye;return m?p.jsx("div",{className:"text-gray-500",children:"Loading accounts..."}):p.jsxs("div",{className:"mb-0",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Accounts"}),p.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-sm font-medium",children:["Total: $",Re.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsx("div",{className:"flex gap-2 hide-in-screenshot",children:p.jsx("button",{onClick:()=>{K(),b(!v)},className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 transition",children:v?"Cancel":"+ Add Account"})})]}),v&&p.jsx("form",{onSubmit:L,className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200 hide-in-screenshot",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Name"}),p.jsx("input",{type:"text",value:w,onChange:P=>S(P.target.value),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"e.g. Chase Checking",required:!0})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Balance"}),p.jsx("input",{type:"number",step:"0.01",value:E,onChange:P=>R(P.target.value),onBlur:P=>{const re=parseFloat(P.target.value);isNaN(re)||R(re.toFixed(2))},className:"w-full px-3 py-2 border rounded text-sm",placeholder:"0.00",required:!0})]}),p.jsx("div",{className:"flex items-center h-10",children:p.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:N,onChange:P=>M(P.target.checked),className:"rounded text-blue-600 focus:ring-blue-500"}),p.jsx("span",{children:"Is Liability (Credit Card)"})]})}),p.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"Save Account"})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[p.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[p.jsx("div",{className:"text-xs text-green-600 uppercase font-bold",children:"Total Assets"}),p.jsxs("div",{className:"text-2xl font-bold text-green-700",children:["$",Re.toFixed(2)]})]}),p.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100",children:[p.jsx("div",{className:"text-xs text-red-600 uppercase font-bold",children:"Total Liabilities"}),p.jsxs("div",{className:"text-2xl font-bold text-red-700",children:["$",ye.toFixed(2)]})]}),p.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[p.jsx("div",{className:"text-xs text-blue-600 uppercase font-bold",children:"Net Worth"}),p.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:["$",Ce.toFixed(2)]})]})]}),p.jsx("div",{className:"bg-white border rounded-lg overflow-hidden overflow-x-auto",children:p.jsx($v,{sensors:H,collisionDetection:Rv,onDragEnd:B,children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-20 flex justify-center pr-2 hide-in-screenshot",children:p.jsx("button",{onClick:Q,className:"text-[8px] bg-gray-200 text-gray-700 px-1 py-0.5 rounded hover:bg-gray-300 transition normal-case font-bold whitespace-nowrap",title:d.length===0?"Select None":"Select All",children:d.length===0?"Select None":"Select All"})}),p.jsx("span",{children:"Name"})]})}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Type"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider hide-in-screenshot",children:"Actions"})]})}),p.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[p.jsx(Iv,{items:l.map(P=>P.id),strategy:Vv,children:l.map(P=>p.jsx(QS,{account:{...P,include_in_workbench:!d.includes(P.id)},onDelete:Z,onToggleWorkbench:G,onUpdate:de},P.id))}),l.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No accounts added yet."})})]})]})})})]})}function WS({transaction:r,onToggleCalc:n,onDelete:i,onUpdate:l}){const[u,d]=A.useState(!1),[f,m]=A.useState(r.description),[g,v]=A.useState(Math.abs(r.amount).toString()),[b,w]=A.useState(r.due_date||""),[S,E]=A.useState(r.amount>=0),{attributes:R,listeners:N,setNodeRef:M,transform:H,transition:V,isDragging:B}=Jv({id:r.id,disabled:u}),G={transform:ti.Transform.toString(H),transition:V,zIndex:B?10:"auto",position:B?"relative":"static"},Q=()=>{const K=parseFloat(g);isNaN(K)||(l(r.id,{description:f,amount:S?K:-K,due_date:b||void 0}),d(!1))};return u?p.jsxs("tr",{ref:M,style:G,className:"bg-blue-50",children:[p.jsx("td",{className:"px-4 py-3 align-top",children:p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("button",{disabled:!0,className:"p-1 opacity-20",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"9",cy:"12",r:"1"}),p.jsx("circle",{cx:"9",cy:"5",r:"1"}),p.jsx("circle",{cx:"9",cy:"19",r:"1"}),p.jsx("circle",{cx:"15",cy:"12",r:"1"}),p.jsx("circle",{cx:"15",cy:"5",r:"1"}),p.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),p.jsx("div",{className:`w-10 h-6 rounded-full opacity-50 relative ${r.is_in_calc?"bg-blue-600":"bg-gray-300"}`,children:p.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full ${r.is_in_calc?"translate-x-4":"translate-x-0"}`})})]})}),p.jsx("td",{colSpan:3,className:"px-4 py-3",children:p.jsxs("div",{className:"flex flex-col gap-3",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-0.5",children:"Description"}),p.jsx("input",{type:"text",value:f,onChange:K=>m(K.target.value),onKeyDown:K=>K.key==="Enter"&&Q(),className:"w-full px-2 py-1 text-sm border rounded"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 overflow-hidden",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-0.5",children:"Due Date"}),p.jsx("input",{type:"date",value:b,onChange:K=>w(K.target.value),onKeyDown:K=>K.key==="Enter"&&Q(),className:"w-full px-2 py-1 text-sm border rounded min-h-[30px] box-border"})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("label",{className:"block text-[10px] font-medium text-gray-500 uppercase mb-0.5",children:"Amount"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:S,onChange:K=>E(K.target.checked),className:"rounded text-green-600"}),p.jsx("input",{type:"number",step:"0.01",value:g,onChange:K=>v(K.target.value),onKeyDown:K=>K.key==="Enter"&&Q(),className:"w-full px-2 py-1 text-sm border rounded text-right font-mono box-border"})]})]})]})]})}),p.jsx("td",{className:"px-4 py-3 text-right align-top",children:p.jsxs("div",{className:"flex flex-col justify-end gap-2 mt-1",children:[p.jsx("button",{onClick:Q,className:"text-green-600 hover:text-green-800 font-medium text-sm",children:"Save"}),p.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]})})]}):p.jsxs("tr",{ref:M,style:G,className:`${r.is_in_calc?"bg-white":"bg-gray-50 opacity-60"} ${B?"shadow-lg opacity-80 z-10":""}`,children:[p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap flex items-center gap-2",children:[p.jsx("button",{...R,...N,className:"cursor-grab text-gray-400 hover:text-gray-600 active:cursor-grabbing p-1 flex-shrink-0 hide-in-screenshot",title:"Drag to reorder",children:p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"9",cy:"12",r:"1"}),p.jsx("circle",{cx:"9",cy:"5",r:"1"}),p.jsx("circle",{cx:"9",cy:"19",r:"1"}),p.jsx("circle",{cx:"15",cy:"12",r:"1"}),p.jsx("circle",{cx:"15",cy:"5",r:"1"}),p.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),p.jsx("button",{onClick:()=>n(r.id,r.is_in_calc),className:`w-10 h-6 rounded-full transition-colors duration-200 ease-in-out relative focus:outline-none flex-shrink-0 hide-in-screenshot ${r.is_in_calc?"bg-blue-600":"bg-gray-300"}`,children:p.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform duration-200 ease-in-out ${r.is_in_calc?"translate-x-4":"translate-x-0"}`})})]}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.due_date?(()=>{const[K,L,Z]=r.due_date.split("-");return`${parseInt(L)}/${parseInt(Z)}/${K.slice(-2)}`})():"-"}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 truncate max-w-[120px] md:max-w-none",children:r.description}),p.jsxs("td",{className:`px-4 py-3 whitespace-nowrap text-sm text-right font-mono font-medium ${r.amount>=0?"text-green-600":"text-red-600"}`,children:[r.amount>=0?"+":"",r.amount.toFixed(2)]}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium hide-in-screenshot",children:p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{onClick:()=>d(!0),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),p.jsx("button",{onClick:()=>i(r.id),className:"text-red-400 hover:text-red-600",children:""})]})})]})}function Vl({userId:r,startingBalance:n,refreshTrigger:i,title:l="Forecasting Workbench",filterTag:u,accounts:d=[],bills:f=[]}){const[m,g]=A.useState([]),[v,b]=A.useState(!0),[w,S]=A.useState(""),[E,R]=A.useState(""),[N,M]=A.useState(()=>new Date().toISOString().split("T")[0]),[H,V]=A.useState(!1),B=`workbench_content_${u||"main"}`,G=Ev(Wl(so),Wl(io,{coordinateGetter:Qv}));A.useEffect(()=>{try{const _=localStorage.getItem(B);if(_){const j=JSON.parse(_);j.newDesc&&S(j.newDesc),j.newAmount&&R(j.newAmount),j.newDate&&M(j.newDate),j.isIncome!==void 0&&V(j.isIncome)}}catch(_){console.error("Failed to load workbench content from localStorage",_)}},[B]),A.useEffect(()=>{const _=setTimeout(()=>{const j={newDesc:w,newAmount:E,newDate:N,isIncome:H};localStorage.setItem(B,JSON.stringify(j))},300);return()=>clearTimeout(_)},[w,E,N,H,B]),A.useEffect(()=>{Q()},[i,u]);const Q=async()=>{try{console.log(`Fetching transactions for ${l}. FilterTag: ${u}`);let _=Ge.from("transactions").select("*").order("sort_order",{ascending:!0}).order("due_date",{ascending:!0}).order("created_at",{ascending:!1});u?_=_.eq("tag",u):_=_.is("tag",null);const{data:j,error:O}=await _;if(O)throw console.error("Supabase Query Error:",O),O;g(j||[])}catch(_){console.error("Error fetching transactions:",_)}finally{b(!1)}},K=async _=>{const{active:j,over:O}=_;j.id!==O?.id&&g(I=>{const W=I.findIndex(he=>he.id===j.id),F=I.findIndex(he=>he.id===O?.id),le=uo(I,W,F),ve=le.map((he,_e)=>({...he,user_id:r,sort_order:_e}));return console.log("Updating all transactions sort order...",ve),Ge.from("transactions").upsert(ve).then(({error:he})=>{he&&(console.error("Error updating sort order:",he),Q())}),le})},L=async _=>{if(_.preventDefault(),!w||!E)return;const j=parseFloat(E),O=H?Math.abs(j):-Math.abs(j),I=m.length>0?Math.min(...m.map(W=>W.sort_order||0)):0;try{const{data:W,error:F}=await Ge.from("transactions").insert([{user_id:r,description:w,amount:O,status:"planning",is_in_calc:!0,due_date:N||null,sort_order:I-1,tag:u||null}]).select();if(F)throw F;W&&(g([W[0],...m]),S(""),R(""),M(new Date().toISOString().split("T")[0]),V(!1),localStorage.removeItem(B))}catch(W){console.error("Error adding transaction:",W)}},Z=async(_,j)=>{g(m.map(O=>O.id===_?{...O,is_in_calc:!j}:O));try{const{error:O}=await Ge.from("transactions").update({is_in_calc:!j}).eq("id",_);if(O)throw O}catch(O){console.error("Error updating transaction:",O),Q()}},de=async _=>{try{const{error:j}=await Ge.from("transactions").delete().eq("id",_);if(j)throw j;g(m.filter(O=>O.id!==_))}catch(j){console.error("Error deleting transaction:",j)}},Re=async()=>{const _=[...m].sort((j,O)=>!j.due_date&&!O.due_date?0:j.due_date?O.due_date?j.due_date.localeCompare(O.due_date):1:-1);g(_);try{const j=_.map((I,W)=>({...I,user_id:r,sort_order:W}));console.log("Upserting sorted transactions...",j);const{error:O}=await Ge.from("transactions").upsert(j);if(O)throw console.error("Supabase upsert error:",O),O;console.log("Successfully persisted sort order")}catch(j){console.error("Error persisting sort order:",j),Q()}},ye=async(_,j)=>{g(m.map(O=>O.id===_?{...O,...j}:O));try{const{error:O}=await Ge.from("transactions").update(j).eq("id",_);if(O)throw O}catch(O){console.error("Error updating transaction:",O),Q()}},Ce=m.filter(_=>_.is_in_calc),P=Ce.filter(_=>_.amount>0).reduce((_,j)=>_+j.amount,0),re=Ce.filter(_=>_.amount<0).reduce((_,j)=>_+j.amount,0),me=n+P+re,D=d.filter(_=>!_.is_liability).reduce((_,j)=>_+j.current_balance,0),J=f.filter(_=>_.frequency!=="annually").reduce((_,j)=>_+j.default_amount,0),ne=D-J,[fe,be]=A.useState(!1);return v?p.jsx("div",{className:"text-gray-500",children:"Loading workbench..."}):p.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200",children:[p.jsxs("div",{className:"bg-gray-800 text-white p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("h2",{className:"text-xl font-semibold",children:l}),p.jsxs("div",{className:"flex gap-2 hide-in-screenshot",children:[d.length>0&&!u&&p.jsx("button",{onClick:()=>be(!fe),className:`text-xs px-2 py-1 rounded border transition-colors ${fe?"bg-amber-600 hover:bg-amber-500 text-white border-amber-500":"bg-gray-700 hover:bg-gray-600 text-gray-300 border-gray-600"}`,title:"Show Auto-Budget Snapshot",children:"Auto-Budget"}),p.jsx("button",{onClick:Re,className:"text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 px-2 py-1 rounded border border-gray-600 transition-colors",title:"Sort all items by date",children:"Sort by Date"})]})]}),fe&&p.jsxs("div",{className:"mb-4 bg-gray-900 rounded-lg p-4 border border-gray-600 font-mono text-sm",children:[p.jsxs("div",{className:"text-gray-400 mb-2",children:["--- SNAPSHOT ",new Date().toLocaleDateString()," ---"]}),p.jsxs("div",{className:"flex justify-between text-green-400",children:[p.jsx("span",{children:"Total Cash:"}),p.jsxs("span",{children:["+$",D.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsxs("div",{className:"flex justify-between text-red-400",children:[p.jsx("span",{children:"Fixed Monthly:"}),p.jsxs("span",{children:["-$",J.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),p.jsx("div",{className:"border-t border-gray-600 my-2"}),p.jsxs("div",{className:`flex justify-between font-bold ${ne>=0?"text-green-300":"text-red-300"}`,children:[p.jsx("span",{children:"Safe to Spend:"}),p.jsxs("span",{children:[ne>=0?"+":"","$",ne.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[p.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[p.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Current"}),p.jsxs("div",{className:"text-xl font-mono font-bold",children:["$",n.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[p.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Income"}),p.jsxs("div",{className:"text-xl font-mono font-bold text-green-400",children:["+$",P.toFixed(2)]})]}),p.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[p.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Expenses"}),p.jsxs("div",{className:"text-xl font-mono font-bold text-red-400",children:["-$",Math.abs(re).toFixed(2)]})]}),p.jsxs("div",{className:"bg-blue-900 p-3 rounded-lg border border-blue-500 shadow-blue-500/50 shadow-sm",children:[p.jsx("div",{className:"text-xs text-blue-200 uppercase font-bold",children:"Projected"}),p.jsxs("div",{className:"text-2xl font-mono font-bold text-white",children:["$",me.toFixed(2)]})]})]})]}),p.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200 hide-in-screenshot",children:p.jsxs("form",{onSubmit:L,className:"flex flex-col md:flex-row gap-3 items-start md:items-end",children:[p.jsxs("div",{className:"w-full md:flex-grow",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),p.jsx("input",{type:"text",value:w,onChange:_=>S(_.target.value),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"e.g. Rent",required:!0})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full md:w-auto items-start sm:items-end overflow-hidden",children:[p.jsxs("div",{className:"w-full sm:flex-1 md:w-32",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),p.jsx("input",{type:"number",step:"0.01",value:E,onChange:_=>R(_.target.value),className:"w-full px-3 py-2 border rounded text-sm box-border",placeholder:"0.00",required:!0})]}),p.jsxs("div",{className:"w-full sm:flex-1 md:w-40 min-w-0",children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Due Date"}),p.jsx("input",{type:"date",value:N,onChange:_=>M(_.target.value),className:"w-full px-3 py-2 border rounded text-sm min-h-[38px] box-border"})]})]}),p.jsx("div",{className:"flex items-center h-10 pb-1",children:p.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 cursor-pointer select-none",children:[p.jsx("input",{type:"checkbox",checked:H,onChange:_=>V(_.target.checked),className:"rounded text-green-600 focus:ring-green-500"}),p.jsx("span",{className:H?"text-green-700 font-medium":"",children:"Income?"})]})}),p.jsx("button",{type:"submit",className:"bg-gray-800 text-white px-4 py-2 rounded text-sm hover:bg-gray-700 transition w-full md:w-auto",children:"Add"})]})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsx($v,{sensors:G,collisionDetection:Rv,onDragEnd:K,children:p.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10",children:"Calc"}),p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),p.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[p.jsx(Iv,{items:m.map(_=>_.id),strategy:Vv,children:m.map(_=>p.jsx(WS,{transaction:_,onToggleCalc:Z,onDelete:de,onUpdate:ye},_.id))}),m.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No transactions found."})})]})]})})})]})}function FS({template:r,onUpdate:n,onDelete:i,onAdvance:l,onAddToWorkbench:u,workbenchOptions:d,getFrequencyColor:f,formatDate:m,formatLastAdvanced:g,isDueSoon:v}){const[b,w]=A.useState(!1),[S,E]=A.useState(r.name),[R,N]=A.useState(r.default_amount.toString()),[M,H]=A.useState(r.frequency),[V,B]=A.useState(r.next_due_date||""),[G,Q]=A.useState(!1),K=async()=>{!S||!R||(await n(r.id,{name:S,default_amount:parseFloat(R),frequency:M,next_due_date:V||null}),w(!1))};return b?p.jsxs("div",{className:"p-2 bg-blue-50 rounded border border-blue-200 text-sm space-y-2 hide-in-screenshot",children:[p.jsx("input",{type:"text",placeholder:"Name",className:"w-full px-2 py-1 border rounded",value:S,onChange:L=>E(L.target.value),onKeyDown:L=>L.key==="Enter"&&K()}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 overflow-hidden",children:[p.jsx("div",{className:"w-full sm:w-1/2",children:p.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",className:"w-full px-2 py-1 border rounded box-border",value:R,onChange:L=>N(L.target.value),onKeyDown:L=>L.key==="Enter"&&K()})}),p.jsx("div",{className:"w-full sm:w-1/2 min-w-0",children:p.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded min-h-[30px] box-border",value:V,onChange:L=>B(L.target.value),onKeyDown:L=>L.key==="Enter"&&K()})})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("select",{className:"flex-1 px-2 py-1 border rounded bg-white",value:M,onChange:L=>H(L.target.value),children:[p.jsx("option",{value:"bi-weekly",children:"Bi-Weekly"}),p.jsx("option",{value:"monthly",children:"Monthly"}),p.jsx("option",{value:"quarterly",children:"Quarterly"}),p.jsx("option",{value:"annually",children:"Annually"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:K,className:"text-green-600 hover:text-green-800 font-medium",children:"Save"}),p.jsx("button",{onClick:()=>w(!1),className:"text-gray-500 hover:text-gray-700",children:"Cancel"})]})]})]}):p.jsx("div",{className:`p-2 hover:bg-gray-50 rounded border group transition ${v?"bg-yellow-50 border-l-4 border-l-amber-400 border-t-transparent border-r-transparent border-b-transparent":"border-transparent hover:border-gray-200"}`,children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"cursor-pointer hover:text-blue-600 flex-1 min-w-0 pr-2",onClick:()=>w(!0),children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"font-medium text-gray-800 text-sm truncate",children:r.name}),p.jsxs("span",{className:"font-mono text-sm text-gray-700 whitespace-nowrap",children:["$",r.default_amount.toFixed(2)]})]}),p.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[p.jsx("span",{className:`text-[10px] px-1.5 py-0 rounded-full border ${f(r.frequency)} whitespace-nowrap`,children:r.frequency}),p.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:["Due: ",p.jsx("span",{className:"font-medium",children:m(r.next_due_date)})]}),r.last_advanced_at&&p.jsxs("span",{className:"text-[10px] text-gray-400 italic whitespace-nowrap",children:["(Paid: ",g(r.last_advanced_at),")"]})]})]}),p.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 hide-in-screenshot relative",children:[p.jsx("button",{onClick:()=>l(r),className:"text-xs bg-gray-100 hover:bg-blue-100 text-gray-600 hover:text-blue-600 px-2 py-1 rounded transition",title:`Advance date (${r.frequency})`,disabled:!r.next_due_date,children:""}),p.jsxs("div",{className:"flex items-stretch rounded overflow-hidden border border-blue-200",children:[p.jsx("button",{onClick:()=>u(r),className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 hover:bg-blue-100 font-medium border-r border-blue-200",title:"Add to Main Workbench",children:"Add"}),p.jsx("button",{onClick:L=>{L.stopPropagation(),Q(!G)},className:"text-[10px] bg-blue-50 text-blue-600 px-1 hover:bg-blue-100",title:"Select Workbench",children:""})]}),G&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Q(!1)}),p.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded shadow-lg z-20 min-w-[140px] py-1",children:d.map((L,Z)=>p.jsxs("button",{onClick:()=>{u(r,L.tag),Q(!1)},className:"w-full text-left px-3 py-1.5 text-xs hover:bg-gray-100 text-gray-700",children:["Add to ",L.title]},Z))})]}),p.jsxs("div",{className:"hidden group-hover:flex gap-1 ml-1 border-l pl-1 border-gray-200",children:[p.jsx("button",{onClick:()=>w(!0),className:"text-gray-300 hover:text-blue-500 px-1",title:"Edit Template",children:""}),p.jsx("button",{onClick:()=>i(r.id),className:"text-gray-300 hover:text-red-500 px-1",title:"Delete Template",children:""})]})]})]})})}function PS({userId:r,onTransactionAdded:n,workbenchOptions:i=[],onBillsUpdate:l}){const[u,d]=A.useState([]),[f,m]=A.useState(!0),[g,v]=A.useState(!1),[b,w]=A.useState(!1),[S,E]=A.useState("due_date"),[R,N]=A.useState("asc"),[M,H]=A.useState(""),[V,B]=A.useState(""),[G,Q]=A.useState("monthly"),[K,L]=A.useState("");A.useEffect(()=>{Z()},[]),A.useEffect(()=>{l&&l(u)},[u,l]);const Z=async()=>{try{const{data:O,error:I}=await Ge.from("bill_templates").select("*").order("next_due_date",{ascending:!0,nullsFirst:!1}).order("name",{ascending:!0});if(I)throw I;d(O||[])}catch(O){console.error("Error fetching templates:",O)}finally{m(!1)}},de=()=>{H(""),B(""),Q("monthly"),L(""),v(!1)},Re=async(O,I)=>{try{const{error:W}=await Ge.from("bill_templates").update(I).eq("id",O);if(W)throw W;d(F=>[...F.map(ve=>ve.id===O?{...ve,...I}:ve)].sort((ve,he)=>ve.next_due_date?he.next_due_date?ve.next_due_date.localeCompare(he.next_due_date):-1:1))}catch(W){console.error("Error updating template:",W),alert("Failed to update template."),Z()}},ye=async O=>{if(O.preventDefault(),!(!M||!V))try{const{data:I,error:W}=await Ge.from("bill_templates").insert([{user_id:r,name:M,default_amount:parseFloat(V),frequency:G,next_due_date:K||null}]).select();if(W)throw W;if(I){const F=[...u,I[0]];F.sort((le,ve)=>le.next_due_date?ve.next_due_date?le.next_due_date.localeCompare(ve.next_due_date):-1:1),d(F)}de()}catch(I){console.error("Error saving template:",I),alert("Failed to save template.")}},Ce=async(O,I)=>{try{const W=-Math.abs(O.default_amount),{error:F}=await Ge.from("transactions").insert([{user_id:r,description:O.name,amount:W,status:"planning",is_in_calc:!0,due_date:O.next_due_date||null,tag:I||null}]);if(F)throw F;n()}catch(W){console.error("Error adding bill to workbench:",W)}},P=async O=>{if(!O.next_due_date)return;const I=O.next_due_date,W=new Date(O.next_due_date),F=W.getTimezoneOffset()*6e4,le=new Date(W.getTime()+F);let ve=new Date(le);switch(O.frequency){case"bi-weekly":ve.setDate(le.getDate()+14);break;case"monthly":ve.setMonth(le.getMonth()+1);break;case"quarterly":ve.setMonth(le.getMonth()+3);break;case"annually":ve.setFullYear(le.getFullYear()+1);break}const he=ve.toISOString().split("T")[0],_e=u.map(Ye=>Ye.id===O.id?{...Ye,next_due_date:he,last_advanced_at:I}:Ye);_e.sort((Ye,ht)=>Ye.next_due_date?ht.next_due_date?Ye.next_due_date.localeCompare(ht.next_due_date):-1:1),d(_e);try{const{error:Ye}=await Ge.from("bill_templates").update({next_due_date:he,last_advanced_at:I}).eq("id",O.id);if(Ye)throw Ye}catch(Ye){console.error("Error advancing date:",Ye),Z()}},re=async O=>{if(confirm("Delete this template?"))try{const{error:I}=await Ge.from("bill_templates").delete().eq("id",O);if(I)throw I;d(u.filter(W=>W.id!==O))}catch(I){console.error("Error deleting template:",I)}},me=O=>{if(!O)return"N/A";const[I,W,F]=O.split("-");return`${parseInt(W)}/${parseInt(F)}/${I.slice(-2)}`},D=O=>{if(!O)return null;const[I,W,F]=O.split("-");return`${parseInt(W)}/${parseInt(F)}/${I.slice(-2)}`},J=O=>{switch(O){case"bi-weekly":return"bg-purple-100 text-purple-800 border-purple-200";case"monthly":return"bg-blue-100 text-blue-800 border-blue-200";case"quarterly":return"bg-orange-100 text-orange-800 border-orange-200";case"annually":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ne=O=>{if(!O)return!1;const I=new Date;I.setHours(0,0,0,0);const F=new Date(O+"T00:00:00").getTime()-I.getTime(),le=Math.ceil(F/(1e3*60*60*24));return le>=0&&le<=3},fe=u.filter(O=>b||O.frequency!=="annually"),be=O=>{S===O?N(R==="asc"?"desc":"asc"):(E(O),N("asc"))},_=[...fe].sort((O,I)=>{const W=R==="asc"?1:-1;switch(S){case"name":return W*O.name.localeCompare(I.name);case"amount":return W*(O.default_amount-I.default_amount);case"due_date":return!O.next_due_date&&!I.next_due_date?0:O.next_due_date?I.next_due_date?W*O.next_due_date.localeCompare(I.next_due_date):-1:1;case"frequency":const F={"bi-weekly":0,monthly:1,quarterly:2,annually:3};return W*(F[O.frequency]-F[I.frequency]);default:return 0}}),j=fe.filter(O=>O.frequency!=="annually").reduce((O,I)=>O+(I.default_amount||0),0);return f?p.jsx("div",{className:"text-gray-500 text-sm",children:"Loading schedule..."}):p.jsxs("div",{className:"bg-white rounded-lg shadow p-3 h-full",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h3",{className:"font-semibold text-gray-800",children:"Bill Schedule"}),p.jsxs("div",{className:"flex gap-2 hide-in-screenshot",children:[p.jsx("button",{onClick:()=>w(!b),className:`text-xs px-2 py-1 rounded transition border ${b?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-500 border-gray-200"}`,title:b?"Hide Annual Bills":"Show Annual Bills",children:b?"Hide Annual":"Show Annual"}),p.jsx("button",{onClick:()=>{de(),v(!g)},className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded transition",children:g?"Cancel":"+ New"})]})]}),g&&p.jsxs("form",{onSubmit:ye,className:"mb-2 bg-gray-50 p-2 rounded border border-gray-200 text-sm space-y-2 hide-in-screenshot",children:[p.jsx("input",{type:"text",placeholder:"Name (e.g. Netflix)",className:"w-full px-2 py-1 border rounded",value:M,onChange:O=>H(O.target.value),required:!0}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 overflow-hidden",children:[p.jsx("div",{className:"w-full sm:w-1/2",children:p.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",className:"w-full px-2 py-1 border rounded box-border",value:V,onChange:O=>B(O.target.value),required:!0})}),p.jsx("div",{className:"w-full sm:w-1/2 min-w-0",children:p.jsx("input",{type:"date",className:"w-full px-2 py-1 border rounded min-h-[30px] box-border",value:K,onChange:O=>L(O.target.value)})})]}),p.jsxs("select",{className:"w-full px-2 py-1 border rounded",value:G,onChange:O=>Q(O.target.value),children:[p.jsx("option",{value:"bi-weekly",children:"Bi-Weekly (14 days)"}),p.jsx("option",{value:"monthly",children:"Monthly"}),p.jsx("option",{value:"quarterly",children:"Quarterly"}),p.jsx("option",{value:"annually",children:"Annually"})]}),p.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-1 rounded hover:bg-blue-700",children:"Save Template"})]}),p.jsxs("div",{className:"flex gap-1 mb-2 text-[10px] text-gray-500",children:[p.jsxs("button",{onClick:()=>be("name"),className:`px-2 py-0.5 rounded transition ${S==="name"?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:["Name ",S==="name"&&(R==="asc"?"":"")]}),p.jsxs("button",{onClick:()=>be("amount"),className:`px-2 py-0.5 rounded transition ${S==="amount"?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:["Amount ",S==="amount"&&(R==="asc"?"":"")]}),p.jsxs("button",{onClick:()=>be("due_date"),className:`px-2 py-0.5 rounded transition ${S==="due_date"?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:["Due ",S==="due_date"&&(R==="asc"?"":"")]}),p.jsxs("button",{onClick:()=>be("frequency"),className:`px-2 py-0.5 rounded transition ${S==="frequency"?"bg-blue-100 text-blue-700":"hover:bg-gray-100"}`,children:["Freq ",S==="frequency"&&(R==="asc"?"":"")]})]}),p.jsxs("div",{className:"space-y-1",children:[_.map(O=>p.jsx(FS,{template:O,onUpdate:Re,onDelete:re,onAdvance:P,onAddToWorkbench:Ce,workbenchOptions:i,getFrequencyColor:J,formatDate:me,formatLastAdvanced:D,isDueSoon:ne(O.next_due_date)},O.id)),_.length===0&&!g&&p.jsx("p",{className:"text-xs text-gray-400 text-center py-4",children:"No templates yet."})]}),_.length>0&&p.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:p.jsxs("div",{className:"text-right text-sm text-gray-600 font-semibold",children:["Total Monthly Fixed: $",j.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})}var ot=function(){return ot=Object.assign||function(n){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(n[d]=i[d])}return n},ot.apply(this,arguments)};function co(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function ev(r){if(r){var n=r.textContent,i=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;r.style.direction=n&&i.test(n[0])?"rtl":"ltr"}}function Wv(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.filter(Boolean).join(" ")}function ex(){if(document.selection)return document.selection.createRange().parentElement();var r=window.getSelection();if(r&&r.rangeCount>0)return r.getRangeAt(0).startContainer.parentNode||void 0}function tv(r){return typeof r=="string"?r.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(r)}function tx(r){var n=document.createTextNode("");r.appendChild(n);var i=document.activeElement===r;if(n!==null&&n.nodeValue!==null&&i){var l=window.getSelection();if(l!==null){var u=document.createRange();u.setStart(n,n.nodeValue.length),u.collapse(!0),l.removeAllRanges(),l.addRange(u)}r instanceof HTMLElement&&r.focus()}}function Fv(r,n){typeof n=="function"?n(r):typeof n=="object"&&n&&(n.current=r)}var nx=ee.memo(ee.forwardRef(function(n,i){var l=n.className,u=n.disabled,d=n.tagName,f=n.value,m=f===void 0?"":f,g=n.placeholder,v=co(n,["className","disabled","tagName","value","placeholder"]),b=ee.useRef(null),w=ee.useRef(m),S=ee.useRef(v);return ee.useEffect(function(){S.current=v;var E=b.current;E&&tv(w.current)!==tv(m)&&(w.current=m,E.innerHTML=m,tx(E))}),ee.useMemo(function(){function E(M){b.current=M,ev(M),Fv(M,i)}function R(M){var H,V,B=b.current;if(B){var G=B.innerHTML;G!==w.current&&((V=(H=S.current).onChange)===null||V===void 0||V.call(H,ot(ot({},M),{target:{value:G,name:v.name}}))),ev(B),w.current=G}}var N=Wv("rsw-ce",l);return ee.createElement(d||"div",ot(ot({},v),{className:N,contentEditable:!u,dangerouslySetInnerHTML:{__html:m},onBlur:function(M){return(S.current.onBlur||R)(M)},onInput:R,onKeyDown:function(M){return(S.current.onKeyDown||R)(M)},onKeyUp:function(M){return(S.current.onKeyUp||R)(M)},placeholder:g,ref:E}))},[l,u,g,d])})),Pv=ee.createContext(void 0);function ey(r){var n=r.children,i=ee.useState({htmlMode:!1,update:d}),l=i[0],u=i[1];function d(f){u(function(m){return ot(ot({},m),f)})}return ee.createElement(Pv.Provider,{value:l},n)}function bs(){var r=ee.useContext(Pv);if(!r)throw new Error("You should wrap your component by EditorProvider");return r}var nv=[],Fi=[];function ax(r,n){if(r&&typeof document<"u"){var i,l=n.prepend===!0?"prepend":"append",u=n.singleTag===!0,d=typeof n.container=="string"?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(u){var f=nv.indexOf(d);f===-1&&(f=nv.push(d)-1,Fi[f]={}),i=Fi[f]&&Fi[f][l]?Fi[f][l]:Fi[f][l]=m()}else i=m();r.charCodeAt(0)===65279&&(r=r.substring(1)),i.styleSheet?i.styleSheet.cssText+=r:i.appendChild(document.createTextNode(r))}function m(){var g=document.createElement("style");if(g.setAttribute("type","text/css"),n.attributes)for(var v=Object.keys(n.attributes),b=0;b<v.length;b++)g.setAttribute(v[b],n.attributes[v[b]]);var w=l==="prepend"?"afterbegin":"beforeend";return d.insertAdjacentElement(w,g),g}}var rx=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";ax(rx,{});var ty=ee.forwardRef(function(n,i){var l=n.autoFocus,u=n.children,d=n.containerProps,f=n.onSelect,m=co(n,["autoFocus","children","containerProps","onSelect"]),g=bs();ee.useEffect(function(){return document.addEventListener("click",v),function(){return document.removeEventListener("click",v)}});function v(E){var R;E.target!==g.$el&&(!((R=g.$el)===null||R===void 0)&&R.contains(E.target)||g.update({$selection:void 0}))}function b(E){f?.(E),g.update({$selection:ex()})}function w(E){g.update({$el:E}),Fv(E,i),l&&E&&g.$el===void 0&&E.focus()}var S=Wv("rsw-editor",d?.className);return g.htmlMode?ee.createElement("div",ot({},d,{className:S}),u,ee.createElement("textarea",ot({},m,{className:"rsw-ce rsw-html"}))):ee.createElement("div",ot({},d,{className:S}),u,ee.createElement(nx,ot({},m,{ref:w,onSelect:b})))});function ix(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},ee.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function sx(){return ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},ee.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var ny=Nn("Bold","","bold"),ay=Nn("Bullet list",ee.createElement(sx,null),"insertUnorderedList"),ry=Nn("Clear formatting","T","removeFormat"),iy=Nn("Italic","","italic"),sy=Nn("Strike through",ee.createElement("s",null,"ab"),"strikeThrough"),ly=Nn("Link","",function(r){var n=r.$selection;n?.nodeName==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),oy=Nn("Numbered list",ee.createElement(ix,null),"insertOrderedList"),uy=Nn("Redo","","redo"),cy=Nn("Underline",ee.createElement("span",{style:{textDecoration:"underline"}},""),"underline"),dy=Nn("Undo","","undo");function Nn(r,n,i){return l.displayName=r.replace(/\s/g,""),l;function l(u){var d=bs(),f=d.$el,m=function(){return!!f?.contains(document.activeElement)},g=!1;typeof i=="string"&&(g=m()&&document.queryCommandState(i));function v(b){b.preventDefault(),m()||f?.focus(),typeof i=="function"?i(d):document.execCommand(i)}return d.htmlMode?null:ee.createElement("button",ot({className:"rsw-btn","data-active":g,onMouseDown:v,tabIndex:-1,title:r,type:"button"},u),n)}}var lx=ox("Styles",[["Normal","formatBlock","DIV"],[" ","formatBlock","H1"],["Header 2","formatBlock","H2"],["","formatBlock","PRE"]]);function ox(r,n){return i.displayName=r,i;function i(l){var u=bs(),d=u.$el,f=u.$selection,m=u.htmlMode;if(m)return null;var g=n.findIndex(function(b){return b[1]==="formatBlock"&&f?.nodeName===b[2]});return ee.createElement(ux,ot({},l,{items:n,onChange:v,selected:g,tabIndex:-1,title:r}));function v(b){var w=b.target,S=w.value,E=parseInt(S,10),R=n[E]||[],N=R[1],M=R[2];b.preventDefault(),document.activeElement!==d&&d?.focus(),typeof N=="function"?N(u):N&&document.execCommand(N,!1,M),setTimeout(function(){return w.value=S},10)}}}function ux(r){var n=r.items,i=r.selected,l=co(r,["items","selected"]);return ee.createElement("select",ot({className:"rsw-dd"},l,{value:i}),ee.createElement("option",{hidden:!0},l.title),n.map(function(u,d){return ee.createElement("option",{key:u[2],value:d},u[0])}))}function cx(r){var n=co(r,[]),i=bs();function l(){i.update({htmlMode:!i.htmlMode})}return ee.createElement("button",ot({className:"rsw-btn","data-active":i.htmlMode,onClick:l,tabIndex:-1,title:"HTML mode",type:"button"},n),"</>")}function Kl(r){var n=bs();return n.htmlMode?null:ee.createElement("div",ot({className:"rsw-separator"},r))}function fy(r){return ee.createElement("div",ot({className:"rsw-toolbar"},r))}ee.forwardRef(function(n,i){return ee.createElement(ey,null,ee.createElement(ty,ot({},n,{ref:i}),n.children||ee.createElement(fy,null,ee.createElement(dy,null),ee.createElement(uy,null),ee.createElement(Kl,null),ee.createElement(ny,null),ee.createElement(iy,null),ee.createElement(cy,null),ee.createElement(sy,null),ee.createElement(Kl,null),ee.createElement(oy,null),ee.createElement(ay,null),ee.createElement(Kl,null),ee.createElement(ly,null),ee.createElement(ry,null),ee.createElement(cx,null),ee.createElement(Kl,null),ee.createElement(lx,null))))});function dx({userId:r}){const[n,i]=A.useState(""),[l,u]=A.useState(!0),[d,f]=A.useState(!1),[m,g]=A.useState(null);A.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:w,error:S}=await Ge.from("notes").select("content, updated_at").eq("user_id",r).single();if(S&&S.code!=="PGRST116")throw S;w&&(i(w.content||""),g(new Date(w.updated_at)))}catch(w){console.error("Error fetching notes:",w)}finally{u(!1)}},b=async w=>{f(!0);try{const{error:S}=await Ge.from("notes").upsert({user_id:r,content:w,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(S)throw S;g(new Date)}catch(S){console.error("Error saving notes:",S)}finally{f(!1)}};return A.useEffect(()=>{if(l)return;const w=setTimeout(()=>{b(n)},2e3);return()=>clearTimeout(w)},[n]),l?p.jsx("div",{className:"text-gray-500",children:"Loading notes..."}):p.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full flex flex-col",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("h3",{className:"font-semibold text-gray-800",children:"Shared Notes"}),p.jsx("div",{className:"text-xs text-gray-400",children:d?"Saving...":m?`Saved ${m.toLocaleTimeString()}`:""})]}),p.jsx("div",{className:"flex-grow border rounded-md overflow-hidden",children:p.jsx(ey,{children:p.jsx(ty,{value:n,onChange:w=>i(w.target.value),containerProps:{style:{height:"300px",overflowY:"auto"}},children:p.jsxs(fy,{className:"hide-in-screenshot",children:[p.jsx(dy,{}),p.jsx(uy,{}),p.jsx(ny,{}),p.jsx(iy,{}),p.jsx(cy,{}),p.jsx(sy,{}),p.jsx(ay,{}),p.jsx(oy,{}),p.jsx(ly,{}),p.jsx(ry,{})]})})})})]})}function fx(){const[r,n]=A.useState(null),[i,l]=A.useState(!0),[u,d]=A.useState(null),[f,m]=A.useState(0),[g,v]=A.useState(0),[b,w]=A.useState(!1),[S,E]=A.useState(!1),[R,N]=A.useState([]),[M,H]=A.useState([]);A.useEffect(()=>{console.log("App mounted, checking session..."),(async()=>{try{const{data:L,error:Z}=await Ge.auth.getSession();Z?(console.error("Error getting session:",Z),d(Z.message)):(console.log("Session retrieved:",L.session?"Found":"None"),n(L.session))}catch(L){console.error("Unexpected error checking session:",L),d(L.message||"Unknown error")}finally{l(!1)}})();const{data:{subscription:K}}=Ge.auth.onAuthStateChange((L,Z)=>{console.log("Auth state changed:",L),n(Z),l(!1)});return()=>K.unsubscribe()},[]);const V=(Q,K=!1)=>{let L=R.find(Z=>Z.name.toLowerCase().includes(Q.toLowerCase())&&Z.is_liability===K);return L||(L=R.find(Z=>Z.name.toLowerCase().includes(Q.toLowerCase()))),L?L.is_liability?-Math.abs(L.current_balance):L.current_balance:0},B=(Q,K=!1)=>{let L=R.find(Z=>Z.name.toLowerCase().includes(Q.toLowerCase())&&Z.is_liability===K);return L||(L=R.find(Z=>Z.name.toLowerCase().includes(Q.toLowerCase()))),L?.id},G=(Q,K)=>{const L=R.find(Z=>Z.name.toLowerCase().includes(Q.toLowerCase())&&Z.is_liability);return L?L.name:K};return u?p.jsxs("div",{className:"p-4 text-red-600",children:[p.jsx("h1",{children:"Fatal Error"}),p.jsx("p",{children:u})]}):i?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:p.jsx("div",{className:"text-xl text-gray-600",children:"Loading... (Check Console)"})}):r?p.jsx("div",{className:`min-h-screen bg-gray-100 p-4 md:p-8 ${S?"screenshot-mode":""}`,children:p.jsxs("div",{className:"max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mb-6 md:mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Budget Manager"}),S&&p.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Financial Report  ",new Date().toLocaleDateString(void 0,{dateStyle:"long"})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-2 w-full md:w-auto",children:[p.jsxs("div",{className:"flex items-center gap-4 justify-between md:justify-end w-full",children:[p.jsx("span",{className:"text-xs md:text-sm text-gray-600 truncate max-w-[150px] hide-in-screenshot",children:r.user.email}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>E(!S),className:`px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm rounded-md transition-colors border shadow-sm ${S?"bg-blue-600 text-white border-blue-600 font-medium":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:S?"Exit Clean View":"Clean View for Screenshot"}),p.jsx("button",{onClick:()=>Ge.auth.signOut(),className:"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors border border-red-200 md:border-transparent hide-in-screenshot",children:"Sign Out"})]})]}),S&&p.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg border border-gray-200 shadow-sm",children:[p.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold mr-2",children:"Net Worth:"}),p.jsxs("span",{className:`text-xl font-bold ${f>=0?"text-green-600":"text-red-600"}`,children:["$",f.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]}),p.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[p.jsx(ZS,{userId:r.user.id,onBalanceChange:Q=>{console.log("Net worth update:",Q),m(Q)},onAccountsUpdate:N}),p.jsxs("div",{className:"flex justify-between items-center hide-in-screenshot",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Workbench"}),p.jsx("button",{onClick:()=>w(!b),className:"text-xs md:text-sm bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded hover:bg-gray-50 transition shadow-sm w-full md:w-auto",children:b?"Hide Credit Card Workbenches":"Show Credit Card Workbenches"})]}),p.jsx(Vl,{userId:r.user.id,startingBalance:f,refreshTrigger:g,title:"Main Cash Flow",accounts:R,bills:M}),b&&p.jsxs("div",{className:"space-y-8 screenshot-break-before",children:[p.jsx(Vl,{userId:r.user.id,startingBalance:V("CMW",!0),refreshTrigger:g,title:G("CMW","Credit Card - CMW (3619)"),filterTag:"cc_1",accountId:B("CMW",!0)}),p.jsx(Vl,{userId:r.user.id,startingBalance:V("JGW",!0),refreshTrigger:g,title:G("JGW","Credit Card - JGW (9299)"),filterTag:"cc_2",accountId:B("JGW",!0)}),p.jsx(Vl,{userId:r.user.id,startingBalance:V("SAMS",!0),refreshTrigger:g,title:G("SAMS","Credit Card - SAMS (1261)"),filterTag:"cc_3",accountId:B("SAMS",!0)})]})]}),p.jsx("div",{className:"lg:col-span-1 space-y-8",children:p.jsxs("div",{className:"lg:sticky lg:top-8 space-y-8 h-fit",children:[p.jsx(PS,{userId:r.user.id,onTransactionAdded:()=>v(Q=>Q+1),onBillsUpdate:H,workbenchOptions:[{title:"Main Cash Flow"},{title:G("CMW","CMW (3619)"),tag:"cc_1"},{title:G("JGW","JGW (9299)"),tag:"cc_2"},{title:G("SAMS","SAMS (1261)"),tag:"cc_3"}]}),p.jsx(dx,{userId:r.user.id})]})})]})]})}):p.jsx(g_,{})}k0.createRoot(document.getElementById("root")).render(p.jsx(A.StrictMode,{children:p.jsx(fx,{})}));
