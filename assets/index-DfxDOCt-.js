(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function x0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var xc={exports:{}},Zi={};var ov;function T0(){if(ov)return Zi;ov=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var v in u)v!=="key"&&(d[v]=u[v])}else d=u;return u=d.ref,{$$typeof:r,type:l,key:f,ref:u!==void 0?u:null,props:d}}return Zi.Fragment=n,Zi.jsx=i,Zi.jsxs=i,Zi}var uv;function A0(){return uv||(uv=1,xc.exports=T0()),xc.exports}var S=A0(),Tc={exports:{}},ve={};var cv;function O0(){if(cv)return ve;cv=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),_=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=_&&x[_]||x["@@iterator"],typeof x=="function"?x:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function $(x,B,I){this.props=x,this.context=B,this.refs=U,this.updater=I||j}$.prototype.isReactComponent={},$.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},$.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function L(){}L.prototype=$.prototype;function z(x,B,I){this.props=x,this.context=B,this.refs=U,this.updater=I||j}var X=z.prototype=new L;X.constructor=z,C(X,$.prototype),X.isPureReactComponent=!0;var ee=Array.isArray;function Q(){}var K={H:null,A:null,T:null,S:null},ne=Object.prototype.hasOwnProperty;function fe(x,B,I){var P=I.ref;return{$$typeof:r,type:x,key:B,ref:P!==void 0?P:null,props:I}}function Ce(x,B){return fe(x.type,B,x.props)}function Z(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function le(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(I){return B[I]})}var me=/\/+/g;function W(x,B){return typeof x=="object"&&x!==null&&x.key!=null?le(""+x.key):B.toString(36)}function Y(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Q,Q):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function A(x,B,I,P,he){var ue=typeof x;(ue==="undefined"||ue==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(ue){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case r:case n:Ee=!0;break;case p:return Ee=x._init,A(Ee(x._payload),B,I,P,he)}}if(Ee)return he=he(x),Ee=P===""?"."+W(x,0):P,ee(he)?(I="",Ee!=null&&(I=Ee.replace(me,"$&/")+"/"),A(he,B,I,"",function(Ae){return Ae})):he!=null&&(Z(he)&&(he=Ce(he,I+(he.key==null||x&&x.key===he.key?"":(""+he.key).replace(me,"$&/")+"/")+Ee)),B.push(he)),1;Ee=0;var $e=P===""?".":P+":";if(ee(x))for(var je=0;je<x.length;je++)P=x[je],ue=$e+W(P,je),Ee+=A(P,B,I,ue,he);else if(je=E(x),typeof je=="function")for(x=je.call(x),je=0;!(P=x.next()).done;)P=P.value,ue=$e+W(P,je++),Ee+=A(P,B,I,ue,he);else if(ue==="object"){if(typeof x.then=="function")return A(Y(x),B,I,P,he);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function q(x,B,I){if(x==null)return x;var P=[],he=0;return A(x,P,"","",function(ue){return B.call(I,ue,he++)}),P}function J(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(I){(x._status===0||x._status===-1)&&(x._status=1,x._result=I)},function(I){(x._status===0||x._status===-1)&&(x._status=2,x._result=I)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var ae=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ge={map:q,forEach:function(x,B,I){q(x,function(){B.apply(this,arguments)},I)},count:function(x){var B=0;return q(x,function(){B++}),B},toArray:function(x){return q(x,function(B){return B})||[]},only:function(x){if(!Z(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ve.Activity=b,ve.Children=ge,ve.Component=$,ve.Fragment=i,ve.Profiler=u,ve.PureComponent=z,ve.StrictMode=l,ve.Suspense=g,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ve.__COMPILER_RUNTIME={__proto__:null,c:function(x){return K.H.useMemoCache(x)}},ve.cache=function(x){return function(){return x.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(x,B,I){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var P=C({},x.props),he=x.key;if(B!=null)for(ue in B.key!==void 0&&(he=""+B.key),B)!ne.call(B,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&B.ref===void 0||(P[ue]=B[ue]);var ue=arguments.length-2;if(ue===1)P.children=I;else if(1<ue){for(var Ee=Array(ue),$e=0;$e<ue;$e++)Ee[$e]=arguments[$e+2];P.children=Ee}return fe(x.type,he,P)},ve.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:d,_context:x},x},ve.createElement=function(x,B,I){var P,he={},ue=null;if(B!=null)for(P in B.key!==void 0&&(ue=""+B.key),B)ne.call(B,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(he[P]=B[P]);var Ee=arguments.length-2;if(Ee===1)he.children=I;else if(1<Ee){for(var $e=Array(Ee),je=0;je<Ee;je++)$e[je]=arguments[je+2];he.children=$e}if(x&&x.defaultProps)for(P in Ee=x.defaultProps,Ee)he[P]===void 0&&(he[P]=Ee[P]);return fe(x,ue,he)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(x){return{$$typeof:v,render:x}},ve.isValidElement=Z,ve.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:J}},ve.memo=function(x,B){return{$$typeof:m,type:x,compare:B===void 0?null:B}},ve.startTransition=function(x){var B=K.T,I={};K.T=I;try{var P=x(),he=K.S;he!==null&&he(I,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Q,ae)}catch(ue){ae(ue)}finally{B!==null&&I.types!==null&&(B.types=I.types),K.T=B}},ve.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ve.use=function(x){return K.H.use(x)},ve.useActionState=function(x,B,I){return K.H.useActionState(x,B,I)},ve.useCallback=function(x,B){return K.H.useCallback(x,B)},ve.useContext=function(x){return K.H.useContext(x)},ve.useDebugValue=function(){},ve.useDeferredValue=function(x,B){return K.H.useDeferredValue(x,B)},ve.useEffect=function(x,B){return K.H.useEffect(x,B)},ve.useEffectEvent=function(x){return K.H.useEffectEvent(x)},ve.useId=function(){return K.H.useId()},ve.useImperativeHandle=function(x,B,I){return K.H.useImperativeHandle(x,B,I)},ve.useInsertionEffect=function(x,B){return K.H.useInsertionEffect(x,B)},ve.useLayoutEffect=function(x,B){return K.H.useLayoutEffect(x,B)},ve.useMemo=function(x,B){return K.H.useMemo(x,B)},ve.useOptimistic=function(x,B){return K.H.useOptimistic(x,B)},ve.useReducer=function(x,B,I){return K.H.useReducer(x,B,I)},ve.useRef=function(x){return K.H.useRef(x)},ve.useState=function(x){return K.H.useState(x)},ve.useSyncExternalStore=function(x,B,I){return K.H.useSyncExternalStore(x,B,I)},ve.useTransition=function(){return K.H.useTransition()},ve.version="19.2.3",ve}var dv;function id(){return dv||(dv=1,Tc.exports=O0()),Tc.exports}var R=id();const F=x0(R);var Ac={exports:{}},Wi={},Oc={exports:{}},Rc={};var fv;function R0(){return fv||(fv=1,(function(r){function n(A,q){var J=A.length;A.push(q);e:for(;0<J;){var ae=J-1>>>1,ge=A[ae];if(0<u(ge,q))A[ae]=q,A[J]=ge,J=ae;else break e}}function i(A){return A.length===0?null:A[0]}function l(A){if(A.length===0)return null;var q=A[0],J=A.pop();if(J!==q){A[0]=J;e:for(var ae=0,ge=A.length,x=ge>>>1;ae<x;){var B=2*(ae+1)-1,I=A[B],P=B+1,he=A[P];if(0>u(I,J))P<ge&&0>u(he,I)?(A[ae]=he,A[P]=J,ae=P):(A[ae]=I,A[B]=J,ae=B);else if(P<ge&&0>u(he,J))A[ae]=he,A[P]=J,ae=P;else break e}}return q}function u(A,q){var J=A.sortIndex-q.sortIndex;return J!==0?J:A.id-q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;r.unstable_now=function(){return d.now()}}else{var f=Date,v=f.now();r.unstable_now=function(){return f.now()-v}}var g=[],m=[],p=1,b=null,_=3,E=!1,j=!1,C=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(A){for(var q=i(m);q!==null;){if(q.callback===null)l(m);else if(q.startTime<=A)l(m),q.sortIndex=q.expirationTime,n(g,q);else break;q=i(m)}}function ee(A){if(C=!1,X(A),!j)if(i(g)!==null)j=!0,Q||(Q=!0,le());else{var q=i(m);q!==null&&Y(ee,q.startTime-A)}}var Q=!1,K=-1,ne=5,fe=-1;function Ce(){return U?!0:!(r.unstable_now()-fe<ne)}function Z(){if(U=!1,Q){var A=r.unstable_now();fe=A;var q=!0;try{e:{j=!1,C&&(C=!1,L(K),K=-1),E=!0;var J=_;try{t:{for(X(A),b=i(g);b!==null&&!(b.expirationTime>A&&Ce());){var ae=b.callback;if(typeof ae=="function"){b.callback=null,_=b.priorityLevel;var ge=ae(b.expirationTime<=A);if(A=r.unstable_now(),typeof ge=="function"){b.callback=ge,X(A),q=!0;break t}b===i(g)&&l(g),X(A)}else l(g);b=i(g)}if(b!==null)q=!0;else{var x=i(m);x!==null&&Y(ee,x.startTime-A),q=!1}}break e}finally{b=null,_=J,E=!1}q=void 0}}finally{q?le():Q=!1}}}var le;if(typeof z=="function")le=function(){z(Z)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,W=me.port2;me.port1.onmessage=Z,le=function(){W.postMessage(null)}}else le=function(){$(Z,0)};function Y(A,q){K=$(function(){A(r.unstable_now())},q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(A){A.callback=null},r.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<A?Math.floor(1e3/A):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(A){switch(_){case 1:case 2:case 3:var q=3;break;default:q=_}var J=_;_=q;try{return A()}finally{_=J}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(A,q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var J=_;_=A;try{return q()}finally{_=J}},r.unstable_scheduleCallback=function(A,q,J){var ae=r.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ae+J:ae):J=ae,A){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=J+ge,A={id:p++,callback:q,priorityLevel:A,startTime:J,expirationTime:ge,sortIndex:-1},J>ae?(A.sortIndex=J,n(m,A),i(g)===null&&A===i(m)&&(C?(L(K),K=-1):C=!0,Y(ee,J-ae))):(A.sortIndex=ge,n(g,A),j||E||(j=!0,Q||(Q=!0,le()))),A},r.unstable_shouldYield=Ce,r.unstable_wrapCallback=function(A){var q=_;return function(){var J=_;_=q;try{return A.apply(this,arguments)}finally{_=J}}}})(Rc)),Rc}var hv;function C0(){return hv||(hv=1,Oc.exports=R0()),Oc.exports}var Cc={exports:{}},Et={};var gv;function j0(){if(gv)return Et;gv=1;var r=id();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,m,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:g,containerInfo:m,implementation:p}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Et.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Et.createPortal=function(g,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return d(g,m,null,p)},Et.flushSync=function(g){var m=f.T,p=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=m,l.p=p,l.d.f()}},Et.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(g,m))},Et.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Et.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var p=m.as,b=v(p,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?l.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:E}):p==="script"&&l.d.X(g,{crossOrigin:b,integrity:_,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Et.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=v(m.as,m.crossOrigin);l.d.M(g,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(g)},Et.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,b=v(p,m.crossOrigin);l.d.L(g,p,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Et.preloadModule=function(g,m){if(typeof g=="string")if(m){var p=v(m.as,m.crossOrigin);l.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(g)},Et.requestFormReset=function(g){l.d.r(g)},Et.unstable_batchedUpdates=function(g,m){return g(m)},Et.useFormState=function(g,m,p){return f.H.useFormState(g,m,p)},Et.useFormStatus=function(){return f.H.useHostTransitionStatus()},Et.version="19.2.3",Et}var vv;function am(){if(vv)return Cc.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Cc.exports=j0(),Cc.exports}var mv;function D0(){if(mv)return Wi;mv=1;var r=C0(),n=id(),i=am();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return g(o),e;if(c===s)return g(o),t;c=c.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=c;else{for(var h=!1,y=o.child;y;){if(y===a){h=!0,a=o,s=c;break}if(y===s){h=!0,s=o,a=c;break}y=y.sibling}if(!h){for(y=c.child;y;){if(y===a){h=!0,a=c,s=o;break}if(y===s){h=!0,s=c,a=o;break}y=y.sibling}if(!h)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),Ce=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var me=Symbol.for("react.client.reference");function W(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case $:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case Q:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case z:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:W(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return W(e(t))}catch{}}return null}var Y=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ae=[],ge=-1;function x(e){return{current:e}}function B(e){0>ge||(e.current=ae[ge],ae[ge]=null,ge--)}function I(e,t){ge++,ae[ge]=e.current,e.current=t}var P=x(null),he=x(null),ue=x(null),Ee=x(null);function $e(e,t){switch(I(ue,t),I(he,e),I(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Dg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Dg(t),e=Ng(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(P),I(P,e)}function je(){B(P),B(he),B(ue)}function Ae(e){e.memoizedState!==null&&I(Ee,e);var t=P.current,a=Ng(t,e.type);t!==a&&(I(he,e),I(P,a))}function Sn(e){he.current===e&&(B(P),B(he)),Ee.current===e&&(B(Ee),Ii._currentValue=J)}var At,Nn;function ft(e){if(At===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);At=t&&t[1]||"",Nn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+e+Nn}var En=!1;function xn(e,t){if(!e||En)return"";En=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(M){var k=M}Reflect.construct(e,[],V)}else{try{V.call()}catch(M){k=M}e.call(V.prototype)}}else{try{throw Error()}catch(M){k=M}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(M){if(M&&k&&typeof M.stack=="string")return[M.stack,k.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),h=c[0],y=c[1];if(h&&y){var w=h.split(`
`),N=y.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===N.length)for(s=w.length-1,o=N.length-1;1<=s&&0<=o&&w[s]!==N[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==N[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==N[o]){var H=`
`+w[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=o);break}}}finally{En=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ft(a):""}function _s(e,t){switch(e.tag){case 26:case 27:case 5:return ft(e.type);case 16:return ft("Lazy");case 13:return e.child!==t&&t!==null?ft("Suspense Fallback"):ft("Suspense");case 19:return ft("SuspenseList");case 0:case 15:return xn(e.type,!1);case 11:return xn(e.type.render,!1);case 1:return xn(e.type,!0);case 31:return ft("Activity");default:return""}}function ii(e){try{var t="",a=null;do t+=_s(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ja=Object.prototype.hasOwnProperty,Jt=r.unstable_scheduleCallback,na=r.unstable_cancelCallback,nr=r.unstable_shouldYield,ws=r.unstable_requestPaint,_t=r.unstable_now,fo=r.unstable_getCurrentPriorityLevel,Ss=r.unstable_ImmediatePriority,Un=r.unstable_UserBlockingPriority,fn=r.unstable_NormalPriority,Da=r.unstable_LowPriority,si=r.unstable_IdlePriority,Tn=r.log,Es=r.unstable_setDisableYieldValue,Na=null,xt=null;function Zt(e){if(typeof Tn=="function"&&Es(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Na,e)}catch{}}var wt=Math.clz32?Math.clz32:go,ho=Math.log,xs=Math.LN2;function go(e){return e>>>=0,e===0?32:31-(ho(e)/xs|0)|0}var ar=256,rr=262144,Qe=4194304;function Je(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ot(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~c,s!==0?o=Je(s):(h&=y,h!==0?o=Je(h):a||(a=y&~e,a!==0&&(o=Je(a))))):(y=s&~c,y!==0?o=Je(y):h!==0?o=Je(h):a||(a=s&~e,a!==0&&(o=Je(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Ot(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Rt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function St(){var e=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),e}function Ct(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Wt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function at(e,t,a,s,o,c){var h=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(a=h&~a;0<a;){var H=31-wt(a),V=1<<H;y[H]=0,w[H]=-1;var k=N[H];if(k!==null)for(N[H]=null,H=0;H<k.length;H++){var M=k[H];M!==null&&(M.lane&=-536870913)}a&=~V}s!==0&&hn(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function hn(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Lt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-wt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Pt(e,t){var a=t&-t;return a=(a&42)!==0?1:kn(a),(a&(e.suspendedLanes|t))!==0?0:a}function kn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gn(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:tv(e.type))}function aa(e,t){var a=q.p;try{return q.p=e,t()}finally{q.p=a}}var Ft=Math.random().toString(36).slice(2),ht="__reactFiber$"+Ft,jt="__reactProps$"+Ft,ir="__reactContainer$"+Ft,vo="__reactEvents$"+Ft,hy="__reactListeners$"+Ft,gy="__reactHandles$"+Ft,yd="__reactResources$"+Ft,li="__reactMarker$"+Ft;function mo(e){delete e[ht],delete e[jt],delete e[vo],delete e[hy],delete e[gy]}function sr(e){var t=e[ht];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ir]||a[ht]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=qg(e);e!==null;){if(a=e[ht])return a;e=qg(e)}return t}e=a,a=e.parentNode}return null}function lr(e){if(e=e[ht]||e[ir]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function oi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function or(e){var t=e[yd];return t||(t=e[yd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ut(e){e[li]=!0}var pd=new Set,bd={};function Ua(e,t){ur(e,t),ur(e+"Capture",t)}function ur(e,t){for(bd[e]=t,e=0;e<t.length;e++)pd.add(t[e])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_d={},wd={};function my(e){return ja.call(wd,e)?!0:ja.call(_d,e)?!1:vy.test(e)?wd[e]=!0:(_d[e]=!0,!1)}function Ts(e,t,a){if(my(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function As(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Mn(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yy(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){a=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){if(!e._valueTracker){var t=Sd(e)?"checked":"value";e._valueTracker=yy(e,t,""+e[t])}}function Ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Sd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var py=/[\n"\\]/g;function tn(e){return e.replace(py,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function po(e,t,a,s,o,c,h,y){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?bo(e,h,en(t)):a!=null?bo(e,h,en(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+en(y):e.removeAttribute("name")}function xd(e,t,a,s,o,c,h,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){yo(e);return}a=a!=null?""+en(a):"",t=t!=null?""+en(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),yo(e)}function bo(e,t,a){t==="number"&&Os(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cr(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+en(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Td(e,t,a){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+en(a):""}function Ad(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(Y(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=en(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),yo(e)}function dr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var by=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Od(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||by.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Rd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Od(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&Od(e,c,t[c])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _y=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rs(e){return wy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var wo=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fr=null,hr=null;function Cd(e){var t=lr(e);if(t&&(e=t.stateNode)){var a=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(po(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[jt]||null;if(!o)throw Error(l(90));po(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Ed(s)}break e;case"textarea":Td(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&cr(e,!!a.multiple,t,!1)}}}var Eo=!1;function jd(e,t,a){if(Eo)return e(t,a);Eo=!0;try{var s=e(t);return s}finally{if(Eo=!1,(fr!==null||hr!==null)&&(vl(),fr&&(t=fr,e=hr,hr=fr=null,Cd(t),e)))for(t=0;t<e.length;t++)Cd(e[t])}}function ui(e,t){var a=e.stateNode;if(a===null)return null;var s=a[jt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(Ln)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){xo=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{xo=!1}var ra=null,To=null,Cs=null;function Dd(){if(Cs)return Cs;var e,t=To,a=t.length,s,o="value"in ra?ra.value:ra.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var h=a-e;for(s=1;s<=h&&t[a-s]===o[c-s];s++);return Cs=o.slice(e,1<s?1-s:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Nd(){return!1}function Dt(e){function t(a,s,o,c,h){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ds:Nd,this.isPropagationStopped=Nd,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Dt(ka),di=b({},ka,{view:0,detail:0}),Sy=Dt(di),Ao,Oo,fi,Us=b({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(Ao=e.screenX-fi.screenX,Oo=e.screenY-fi.screenY):Oo=Ao=0,fi=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),Ud=Dt(Us),Ey=b({},Us,{dataTransfer:0}),xy=Dt(Ey),Ty=b({},di,{relatedTarget:0}),Ro=Dt(Ty),Ay=b({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),Oy=Dt(Ay),Ry=b({},ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cy=Dt(Ry),jy=b({},ka,{data:0}),kd=Dt(jy),Dy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ny={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ky(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uy[e])?!!t[e]:!1}function Co(){return ky}var zy=b({},di,{key:function(e){if(e.key){var t=Dy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ny[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),My=Dt(zy),By=b({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=Dt(By),Ly=b({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),qy=Dt(Ly),Hy=b({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=Dt(Hy),Gy=b({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vy=Dt(Gy),Yy=b({},ka,{newState:0,oldState:0}),Ky=Dt(Yy),Iy=[9,13,27,32],jo=Ln&&"CompositionEvent"in window,hi=null;Ln&&"documentMode"in document&&(hi=document.documentMode);var Xy=Ln&&"TextEvent"in window&&!hi,Md=Ln&&(!jo||hi&&8<hi&&11>=hi),Bd=" ",Ld=!1;function qd(e,t){switch(e){case"keyup":return Iy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gr=!1;function Qy(e,t){switch(e){case"compositionend":return Hd(t);case"keypress":return t.which!==32?null:(Ld=!0,Bd);case"textInput":return e=t.data,e===Bd&&Ld?null:e;default:return null}}function Jy(e,t){if(gr)return e==="compositionend"||!jo&&qd(e,t)?(e=Dd(),Cs=To=ra=null,gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zy[e.type]:t==="textarea"}function Gd(e,t,a,s){fr?hr?hr.push(s):hr=[s]:fr=s,t=Sl(t,"onChange"),0<t.length&&(a=new Ns("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var gi=null,vi=null;function Wy(e){Tg(e,0)}function ks(e){var t=oi(e);if(Ed(t))return e}function Vd(e,t){if(e==="change")return t}var Yd=!1;if(Ln){var Do;if(Ln){var No="oninput"in document;if(!No){var Kd=document.createElement("div");Kd.setAttribute("oninput","return;"),No=typeof Kd.oninput=="function"}Do=No}else Do=!1;Yd=Do&&(!document.documentMode||9<document.documentMode)}function Id(){gi&&(gi.detachEvent("onpropertychange",Xd),vi=gi=null)}function Xd(e){if(e.propertyName==="value"&&ks(vi)){var t=[];Gd(t,vi,e,So(e)),jd(Wy,t)}}function Py(e,t,a){e==="focusin"?(Id(),gi=t,vi=a,gi.attachEvent("onpropertychange",Xd)):e==="focusout"&&Id()}function Fy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ks(vi)}function ep(e,t){if(e==="click")return ks(t)}function tp(e,t){if(e==="input"||e==="change")return ks(t)}function np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:np;function mi(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!ja.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function Qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jd(e,t){var a=Qd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qd(a)}}function Zd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Os(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Os(e.document)}return t}function Uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ap=Ln&&"documentMode"in document&&11>=document.documentMode,vr=null,ko=null,yi=null,zo=!1;function Pd(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zo||vr==null||vr!==Os(s)||(s=vr,"selectionStart"in s&&Uo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),yi&&mi(yi,s)||(yi=s,s=Sl(ko,"onSelect"),0<s.length&&(t=new Ns("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=vr)))}function za(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var mr={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},Mo={},Fd={};Ln&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Ma(e){if(Mo[e])return Mo[e];if(!mr[e])return e;var t=mr[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Fd)return Mo[e]=t[a];return e}var ef=Ma("animationend"),tf=Ma("animationiteration"),nf=Ma("animationstart"),rp=Ma("transitionrun"),ip=Ma("transitionstart"),sp=Ma("transitioncancel"),af=Ma("transitionend"),rf=new Map,Bo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bo.push("scrollEnd");function vn(e,t){rf.set(e,t),Ua(t,[e])}var zs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],yr=0,Lo=0;function Ms(){for(var e=yr,t=Lo=yr=0;t<e;){var a=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var o=nn[t];nn[t++]=null;var c=nn[t];if(nn[t++]=null,s!==null&&o!==null){var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}c!==0&&sf(a,o,c)}}function Bs(e,t,a,s){nn[yr++]=e,nn[yr++]=t,nn[yr++]=a,nn[yr++]=s,Lo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function qo(e,t,a,s){return Bs(e,t,a,s),Ls(e)}function Ba(e,t){return Bs(e,null,null,t),Ls(e)}function sf(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-wt(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function Ls(e){if(50<qi)throw qi=0,Qu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var pr={};function lp(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,a,s){return new lp(e,t,a,s)}function Ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qn(e,t){var a=e.alternate;return a===null?(a=Ht(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function lf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qs(e,t,a,s,o,c){var h=0;if(s=e,typeof e=="function")Ho(e)&&(h=1);else if(typeof e=="string")h=f0(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Ht(31,a,t,o),e.elementType=fe,e.lanes=c,e;case C:return La(a.children,o,c,t);case U:h=8,o|=24;break;case $:return e=Ht(12,a,t,o|2),e.elementType=$,e.lanes=c,e;case ee:return e=Ht(13,a,t,o),e.elementType=ee,e.lanes=c,e;case Q:return e=Ht(19,a,t,o),e.elementType=Q,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:h=10;break e;case L:h=9;break e;case X:h=11;break e;case K:h=14;break e;case ne:h=16,s=null;break e}h=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Ht(h,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function La(e,t,a,s){return e=Ht(7,e,s,t),e.lanes=a,e}function $o(e,t,a){return e=Ht(6,e,null,t),e.lanes=a,e}function of(e){var t=Ht(18,null,null,0);return t.stateNode=e,t}function Go(e,t,a){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var uf=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var a=uf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ii(t)},uf.set(e,t),t)}return{value:e,source:t,stack:ii(t)}}var br=[],_r=0,Hs=null,pi=0,rn=[],sn=0,ia=null,An=1,On="";function Hn(e,t){br[_r++]=pi,br[_r++]=Hs,Hs=e,pi=t}function cf(e,t,a){rn[sn++]=An,rn[sn++]=On,rn[sn++]=ia,ia=e;var s=An;e=On;var o=32-wt(s)-1;s&=~(1<<o),a+=1;var c=32-wt(t)+o;if(30<c){var h=o-o%5;c=(s&(1<<h)-1).toString(32),s>>=h,o-=h,An=1<<32-wt(t)+o|a<<o|s,On=c+e}else An=1<<c|a<<o|s,On=e}function Vo(e){e.return!==null&&(Hn(e,1),cf(e,1,0))}function Yo(e){for(;e===Hs;)Hs=br[--_r],br[_r]=null,pi=br[--_r],br[_r]=null;for(;e===ia;)ia=rn[--sn],rn[sn]=null,On=rn[--sn],rn[sn]=null,An=rn[--sn],rn[sn]=null}function df(e,t){rn[sn++]=An,rn[sn++]=On,rn[sn++]=ia,An=t.id,On=t.overflow,ia=e}var gt=null,qe=null,xe=!1,sa=null,ln=!1,Ko=Error(l(519));function la(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bi(an(t,e)),Ko}function ff(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ht]=e,t[jt]=s,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<$i.length;a++)_e($i[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),xd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Ad(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Cg(t.textContent,a)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=Bn),t=!0):t=!1,t||la(e,!0)}function hf(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:gt=gt.return}}function wr(e){if(e!==gt)return!1;if(!xe)return hf(e),xe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||uc(e.type,e.memoizedProps)),a=!a),a&&qe&&la(e),hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=Lg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=Lg(e)}else t===27?(t=qe,wa(e.type)?(e=gc,gc=null,qe=e):qe=t):qe=gt?un(e.stateNode.nextSibling):null;return!0}function qa(){qe=gt=null,xe=!1}function Io(){var e=sa;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),sa=null),e}function bi(e){sa===null?sa=[e]:sa.push(e)}var Xo=x(null),Ha=null,$n=null;function oa(e,t,a){I(Xo,t._currentValue),t._currentValue=a}function Gn(e){e._currentValue=Xo.current,B(Xo)}function Qo(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Jo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){c.lanes|=a,y=c.alternate,y!==null&&(y.lanes|=a),Qo(c.return,a,e),s||(h=null);break e}c=y.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(l(341));h.lanes|=a,c=h.alternate,c!==null&&(c.lanes|=a),Qo(h,a,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function Sr(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(l(387));if(h=h.memoizedProps,h!==null){var y=o.type;qt(o.pendingProps.value,h.value)||(e!==null?e.push(y):e=[y])}}else if(o===Ee.current){if(h=o.alternate,h===null)throw Error(l(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ii):e=[Ii])}o=o.return}e!==null&&Jo(t,e,a,s),t.flags|=262144}function $s(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $a(e){Ha=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return gf(Ha,e)}function Gs(e,t){return Ha===null&&$a(e),gf(e,t)}function gf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},$n===null){if(e===null)throw Error(l(308));$n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $n=$n.next=t;return a}var op=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},up=r.unstable_scheduleCallback,cp=r.unstable_NormalPriority,Pe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zo(){return{controller:new op,data:new Map,refCount:0}}function _i(e){e.refCount--,e.refCount===0&&up(cp,function(){e.controller.abort()})}var wi=null,Wo=0,Er=0,xr=null;function dp(e,t){if(wi===null){var a=wi=[];Wo=0,Er=ec(),xr={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Wo++,t.then(vf,vf),t}function vf(){if(--Wo===0&&wi!==null){xr!==null&&(xr.status="fulfilled");var e=wi;wi=null,Er=0,xr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fp(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var mf=A.S;A.S=function(e,t){Fh=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&dp(e,t),mf!==null&&mf(e,t)};var Ga=x(null);function Po(){var e=Ga.current;return e!==null?e:Be.pooledCache}function Vs(e,t){t===null?I(Ga,Ga.current):I(Ga,t.pool)}function yf(){var e=Po();return e===null?null:{parent:Pe._currentValue,pool:e}}var Tr=Error(l(460)),Fo=Error(l(474)),Ys=Error(l(542)),Ks={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Bn,Bn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wf(e),e;default:if(typeof t.status=="string")t.then(Bn,Bn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,wf(e),e}throw Ya=t,Tr}}function Va(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ya=a,Tr):a}}var Ya=null;function _f(){if(Ya===null)throw Error(l(459));var e=Ya;return Ya=null,e}function wf(e){if(e===Tr||e===Ys)throw Error(l(483))}var Ar=null,Si=0;function Is(e){var t=Si;return Si+=1,Ar===null&&(Ar=[]),bf(Ar,e,t)}function Ei(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xs(e,t){throw t.$$typeof===_?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sf(e){function t(O,T){if(e){var D=O.deletions;D===null?(O.deletions=[T],O.flags|=16):D.push(T)}}function a(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function s(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function o(O,T){return O=qn(O,T),O.index=0,O.sibling=null,O}function c(O,T,D){return O.index=D,e?(D=O.alternate,D!==null?(D=D.index,D<T?(O.flags|=67108866,T):D):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function h(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,T,D,G){return T===null||T.tag!==6?(T=$o(D,O.mode,G),T.return=O,T):(T=o(T,D),T.return=O,T)}function w(O,T,D,G){var se=D.type;return se===C?H(O,T,D.props.children,G,D.key):T!==null&&(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ne&&Va(se)===T.type)?(T=o(T,D.props),Ei(T,D),T.return=O,T):(T=qs(D.type,D.key,D.props,null,O.mode,G),Ei(T,D),T.return=O,T)}function N(O,T,D,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==D.containerInfo||T.stateNode.implementation!==D.implementation?(T=Go(D,O.mode,G),T.return=O,T):(T=o(T,D.children||[]),T.return=O,T)}function H(O,T,D,G,se){return T===null||T.tag!==7?(T=La(D,O.mode,G,se),T.return=O,T):(T=o(T,D),T.return=O,T)}function V(O,T,D){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=$o(""+T,O.mode,D),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return D=qs(T.type,T.key,T.props,null,O.mode,D),Ei(D,T),D.return=O,D;case j:return T=Go(T,O.mode,D),T.return=O,T;case ne:return T=Va(T),V(O,T,D)}if(Y(T)||le(T))return T=La(T,O.mode,D,null),T.return=O,T;if(typeof T.then=="function")return V(O,Is(T),D);if(T.$$typeof===z)return V(O,Gs(O,T),D);Xs(O,T)}return null}function k(O,T,D,G){var se=T!==null?T.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return se!==null?null:y(O,T,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===se?w(O,T,D,G):null;case j:return D.key===se?N(O,T,D,G):null;case ne:return D=Va(D),k(O,T,D,G)}if(Y(D)||le(D))return se!==null?null:H(O,T,D,G,null);if(typeof D.then=="function")return k(O,T,Is(D),G);if(D.$$typeof===z)return k(O,T,Gs(O,D),G);Xs(O,D)}return null}function M(O,T,D,G,se){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return O=O.get(D)||null,y(T,O,""+G,se);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return O=O.get(G.key===null?D:G.key)||null,w(T,O,G,se);case j:return O=O.get(G.key===null?D:G.key)||null,N(T,O,G,se);case ne:return G=Va(G),M(O,T,D,G,se)}if(Y(G)||le(G))return O=O.get(D)||null,H(T,O,G,se,null);if(typeof G.then=="function")return M(O,T,D,Is(G),se);if(G.$$typeof===z)return M(O,T,D,Gs(T,G),se);Xs(T,G)}return null}function te(O,T,D,G){for(var se=null,Oe=null,re=T,pe=T=0,Se=null;re!==null&&pe<D.length;pe++){re.index>pe?(Se=re,re=null):Se=re.sibling;var Re=k(O,re,D[pe],G);if(Re===null){re===null&&(re=Se);break}e&&re&&Re.alternate===null&&t(O,re),T=c(Re,T,pe),Oe===null?se=Re:Oe.sibling=Re,Oe=Re,re=Se}if(pe===D.length)return a(O,re),xe&&Hn(O,pe),se;if(re===null){for(;pe<D.length;pe++)re=V(O,D[pe],G),re!==null&&(T=c(re,T,pe),Oe===null?se=re:Oe.sibling=re,Oe=re);return xe&&Hn(O,pe),se}for(re=s(re);pe<D.length;pe++)Se=M(re,O,pe,D[pe],G),Se!==null&&(e&&Se.alternate!==null&&re.delete(Se.key===null?pe:Se.key),T=c(Se,T,pe),Oe===null?se=Se:Oe.sibling=Se,Oe=Se);return e&&re.forEach(function(Aa){return t(O,Aa)}),xe&&Hn(O,pe),se}function oe(O,T,D,G){if(D==null)throw Error(l(151));for(var se=null,Oe=null,re=T,pe=T=0,Se=null,Re=D.next();re!==null&&!Re.done;pe++,Re=D.next()){re.index>pe?(Se=re,re=null):Se=re.sibling;var Aa=k(O,re,Re.value,G);if(Aa===null){re===null&&(re=Se);break}e&&re&&Aa.alternate===null&&t(O,re),T=c(Aa,T,pe),Oe===null?se=Aa:Oe.sibling=Aa,Oe=Aa,re=Se}if(Re.done)return a(O,re),xe&&Hn(O,pe),se;if(re===null){for(;!Re.done;pe++,Re=D.next())Re=V(O,Re.value,G),Re!==null&&(T=c(Re,T,pe),Oe===null?se=Re:Oe.sibling=Re,Oe=Re);return xe&&Hn(O,pe),se}for(re=s(re);!Re.done;pe++,Re=D.next())Re=M(re,O,pe,Re.value,G),Re!==null&&(e&&Re.alternate!==null&&re.delete(Re.key===null?pe:Re.key),T=c(Re,T,pe),Oe===null?se=Re:Oe.sibling=Re,Oe=Re);return e&&re.forEach(function(E0){return t(O,E0)}),xe&&Hn(O,pe),se}function Me(O,T,D,G){if(typeof D=="object"&&D!==null&&D.type===C&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var se=D.key;T!==null;){if(T.key===se){if(se=D.type,se===C){if(T.tag===7){a(O,T.sibling),G=o(T,D.props.children),G.return=O,O=G;break e}}else if(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ne&&Va(se)===T.type){a(O,T.sibling),G=o(T,D.props),Ei(G,D),G.return=O,O=G;break e}a(O,T);break}else t(O,T);T=T.sibling}D.type===C?(G=La(D.props.children,O.mode,G,D.key),G.return=O,O=G):(G=qs(D.type,D.key,D.props,null,O.mode,G),Ei(G,D),G.return=O,O=G)}return h(O);case j:e:{for(se=D.key;T!==null;){if(T.key===se)if(T.tag===4&&T.stateNode.containerInfo===D.containerInfo&&T.stateNode.implementation===D.implementation){a(O,T.sibling),G=o(T,D.children||[]),G.return=O,O=G;break e}else{a(O,T);break}else t(O,T);T=T.sibling}G=Go(D,O.mode,G),G.return=O,O=G}return h(O);case ne:return D=Va(D),Me(O,T,D,G)}if(Y(D))return te(O,T,D,G);if(le(D)){if(se=le(D),typeof se!="function")throw Error(l(150));return D=se.call(D),oe(O,T,D,G)}if(typeof D.then=="function")return Me(O,T,Is(D),G);if(D.$$typeof===z)return Me(O,T,Gs(O,D),G);Xs(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,T!==null&&T.tag===6?(a(O,T.sibling),G=o(T,D),G.return=O,O=G):(a(O,T),G=$o(D,O.mode,G),G.return=O,O=G),h(O)):a(O,T)}return function(O,T,D,G){try{Si=0;var se=Me(O,T,D,G);return Ar=null,se}catch(re){if(re===Tr||re===Ys)throw re;var Oe=Ht(29,re,null,O.mode);return Oe.lanes=G,Oe.return=O,Oe}}}var Ka=Sf(!0),Ef=Sf(!1),ua=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ca(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function da(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=Ls(e),sf(e,null,a),t}return Bs(e,s,t,a),Ls(e)}function xi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Lt(e,a)}}function nu(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var au=!1;function Ti(){if(au){var e=xr;if(e!==null)throw e}}function Ai(e,t,a,s){au=!1;var o=e.updateQueue;ua=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,N=w.next;w.next=null,h===null?c=N:h.next=N,h=w;var H=e.alternate;H!==null&&(H=H.updateQueue,y=H.lastBaseUpdate,y!==h&&(y===null?H.firstBaseUpdate=N:y.next=N,H.lastBaseUpdate=w))}if(c!==null){var V=o.baseState;h=0,H=N=w=null,y=c;do{var k=y.lane&-536870913,M=k!==y.lane;if(M?(we&k)===k:(s&k)===k){k!==0&&k===Er&&(au=!0),H!==null&&(H=H.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var te=e,oe=y;k=t;var Me=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){V=te.call(Me,V,k);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,k=typeof te=="function"?te.call(Me,V,k):te,k==null)break e;V=b({},V,k);break e;case 2:ua=!0}}k=y.callback,k!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[k]:M.push(k))}else M={lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},H===null?(N=H=M,w=V):H=H.next=M,h|=k;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;M=y,y=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);H===null&&(w=V),o.baseState=w,o.firstBaseUpdate=N,o.lastBaseUpdate=H,c===null&&(o.shared.lanes=0),ma|=h,e.lanes=h,e.memoizedState=V}}function xf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Tf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)xf(a[e],t)}var Or=x(null),Qs=x(0);function Af(e,t){e=Wn,I(Qs,e),I(Or,t),Wn=e|t.baseLanes}function ru(){I(Qs,Wn),I(Or,Or.current)}function iu(){Wn=Qs.current,B(Or),B(Qs)}var $t=x(null),on=null;function fa(e){var t=e.alternate;I(Ze,Ze.current&1),I($t,e),on===null&&(t===null||Or.current!==null||t.memoizedState!==null)&&(on=e)}function su(e){I(Ze,Ze.current),I($t,e),on===null&&(on=e)}function Of(e){e.tag===22?(I(Ze,Ze.current),I($t,e),on===null&&(on=e)):ha()}function ha(){I(Ze,Ze.current),I($t,$t.current)}function Gt(e){B($t),on===e&&(on=null),B(Ze)}var Ze=x(0);function Js(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fc(a)||hc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vn=0,ye=null,ke=null,Fe=null,Zs=!1,Rr=!1,Ia=!1,Ws=0,Oi=0,Cr=null,hp=0;function Ye(){throw Error(l(321))}function lu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!qt(e[a],t[a]))return!1;return!0}function ou(e,t,a,s,o,c){return Vn=c,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?ch:Eu,Ia=!1,c=a(s,o),Ia=!1,Rr&&(c=Cf(t,a,s,o)),Rf(e),c}function Rf(e){A.H=ji;var t=ke!==null&&ke.next!==null;if(Vn=0,Fe=ke=ye=null,Zs=!1,Oi=0,Cr=null,t)throw Error(l(300));e===null||et||(e=e.dependencies,e!==null&&$s(e)&&(et=!0))}function Cf(e,t,a,s){ye=e;var o=0;do{if(Rr&&(Cr=null),Oi=0,Rr=!1,25<=o)throw Error(l(301));if(o+=1,Fe=ke=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}A.H=dh,c=t(a,s)}while(Rr);return c}function gp(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Ri(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(ye.flags|=1024),t}function uu(){var e=Ws!==0;return Ws=0,e}function cu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function du(e){if(Zs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zs=!1}Vn=0,Fe=ke=ye=null,Rr=!1,Oi=Ws=0,Cr=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ye.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function We(){if(ke===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Fe===null?ye.memoizedState:Fe.next;if(t!==null)Fe=t,ke=e;else{if(e===null)throw ye.alternate===null?Error(l(467)):Error(l(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Fe===null?ye.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Ps(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ri(e){var t=Oi;return Oi+=1,Cr===null&&(Cr=[]),e=bf(Cr,e,t),t=ye,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?ch:Eu),e}function Fs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ri(e);if(e.$$typeof===z)return vt(e)}throw Error(l(438,String(e)))}function fu(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ps(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Ce;return t.index++,a}function Yn(e,t){return typeof t=="function"?t(e):t}function el(e){var t=We();return hu(t,ke,e)}function hu(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=h=null,w=null,N=t,H=!1;do{var V=N.lane&-536870913;if(V!==N.lane?(we&V)===V:(Vn&V)===V){var k=N.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),V===Er&&(H=!0);else if((Vn&k)===k){N=N.next,k===Er&&(H=!0);continue}else V={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(y=w=V,h=c):w=w.next=V,ye.lanes|=k,ma|=k;V=N.action,Ia&&a(c,V),c=N.hasEagerState?N.eagerState:a(c,V)}else k={lane:V,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(y=w=k,h=c):w=w.next=k,ye.lanes|=V,ma|=V;N=N.next}while(N!==null&&N!==t);if(w===null?h=c:w.next=y,!qt(c,e.memoizedState)&&(et=!0,H&&(a=xr,a!==null)))throw a;e.memoizedState=c,e.baseState=h,e.baseQueue=w,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function gu(e){var t=We(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);qt(c,t.memoizedState)||(et=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function jf(e,t,a){var s=ye,o=We(),c=xe;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var h=!qt((ke||o).memoizedState,a);if(h&&(o.memoizedState=a,et=!0),o=o.queue,yu(Uf.bind(null,s,o,e),[e]),o.getSnapshot!==t||h||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,jr(9,{destroy:void 0},Nf.bind(null,s,o,a,t),null),Be===null)throw Error(l(349));c||(Vn&127)!==0||Df(s,t,a)}return a}function Df(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=Ps(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Nf(e,t,a,s){t.value=a,t.getSnapshot=s,kf(t)&&zf(e)}function Uf(e,t,a){return a(function(){kf(t)&&zf(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!qt(e,a)}catch{return!0}}function zf(e){var t=Ba(e,2);t!==null&&Mt(t,e,2)}function vu(e){var t=Tt();if(typeof e=="function"){var a=e;if(e=a(),Ia){Zt(!0);try{a()}finally{Zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t}function Mf(e,t,a,s){return e.baseState=a,hu(e,ke,typeof s=="function"?s:Yn)}function vp(e,t,a,s,o){if(al(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};A.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,Bf(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Bf(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=A.T,h={};A.T=h;try{var y=a(o,s),w=A.S;w!==null&&w(h,y),Lf(e,t,y)}catch(N){mu(e,t,N)}finally{c!==null&&h.types!==null&&(c.types=h.types),A.T=c}}else try{c=a(o,s),Lf(e,t,c)}catch(N){mu(e,t,N)}}function Lf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){qf(e,t,s)},function(s){return mu(e,t,s)}):qf(e,t,a)}function qf(e,t,a){t.status="fulfilled",t.value=a,Hf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Bf(e,a)))}function mu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Hf(t),t=t.next;while(t!==s)}e.action=null}function Hf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $f(e,t){return t}function Gf(e,t){if(xe){var a=Be.formState;if(a!==null){e:{var s=ye;if(xe){if(qe){t:{for(var o=qe,c=ln;o.nodeType!==8;){if(!c){o=null;break t}if(o=un(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){qe=un(o.nextSibling),s=o.data==="F!";break e}}la(s)}s=!1}s&&(t=a[0])}}return a=Tt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$f,lastRenderedState:t},a.queue=s,a=lh.bind(null,ye,s),s.dispatch=a,s=vu(!1),c=Su.bind(null,ye,!1,s.queue),s=Tt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=vp.bind(null,ye,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Vf(e){var t=We();return Yf(t,ke,e)}function Yf(e,t,a){if(t=hu(e,t,$f)[0],e=el(Yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ri(t)}catch(h){throw h===Tr?Ys:h}else s=t;t=We();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,jr(9,{destroy:void 0},mp.bind(null,o,a),null)),[s,c,e]}function mp(e,t){e.action=t}function Kf(e){var t=We(),a=ke;if(a!==null)return Yf(t,a,e);We(),t=t.memoizedState,a=We();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function jr(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Ps(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function If(){return We().memoizedState}function tl(e,t,a,s){var o=Tt();ye.flags|=e,o.memoizedState=jr(1|t,{destroy:void 0},a,s===void 0?null:s)}function nl(e,t,a,s){var o=We();s=s===void 0?null:s;var c=o.memoizedState.inst;ke!==null&&s!==null&&lu(s,ke.memoizedState.deps)?o.memoizedState=jr(t,c,a,s):(ye.flags|=e,o.memoizedState=jr(1|t,c,a,s))}function Xf(e,t){tl(8390656,8,e,t)}function yu(e,t){nl(2048,8,e,t)}function yp(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Ps(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Qf(e){var t=We().memoizedState;return yp({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Jf(e,t){return nl(4,2,e,t)}function Zf(e,t){return nl(4,4,e,t)}function Wf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pf(e,t,a){a=a!=null?a.concat([e]):null,nl(4,4,Wf.bind(null,t,e),a)}function pu(){}function Ff(e,t){var a=We();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&lu(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function eh(e,t){var a=We();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&lu(t,s[1]))return s[0];if(s=e(),Ia){Zt(!0);try{e()}finally{Zt(!1)}}return a.memoizedState=[s,t],s}function bu(e,t,a){return a===void 0||(Vn&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=tg(),ye.lanes|=e,ma|=e,a)}function th(e,t,a,s){return qt(a,t)?a:Or.current!==null?(e=bu(e,a,s),qt(e,t)||(et=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(we&261930)===0?(et=!0,e.memoizedState=a):(e=tg(),ye.lanes|=e,ma|=e,t)}function nh(e,t,a,s,o){var c=q.p;q.p=c!==0&&8>c?c:8;var h=A.T,y={};A.T=y,Su(e,!1,t,a);try{var w=o(),N=A.S;if(N!==null&&N(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var H=fp(w,s);Ci(e,t,H,Kt(e))}else Ci(e,t,s,Kt(e))}catch(V){Ci(e,t,{then:function(){},status:"rejected",reason:V},Kt())}finally{q.p=c,h!==null&&y.types!==null&&(h.types=y.types),A.T=h}}function pp(){}function _u(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=ah(e).queue;nh(e,o,t,J,a===null?pp:function(){return rh(e),a(s)})}function ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:J},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function rh(e){var t=ah(e);t.next===null&&(t=e.alternate.memoizedState),Ci(e,t.next.queue,{},Kt())}function wu(){return vt(Ii)}function ih(){return We().memoizedState}function sh(){return We().memoizedState}function bp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Kt();e=ca(a);var s=da(t,e,a);s!==null&&(Mt(s,t,a),xi(s,t,a)),t={cache:Zo()},e.payload=t;return}t=t.return}}function _p(e,t,a){var s=Kt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},al(e)?oh(t,a):(a=qo(e,t,a,s),a!==null&&(Mt(a,e,s),uh(a,t,s)))}function lh(e,t,a){var s=Kt();Ci(e,t,a,s)}function Ci(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(al(e))oh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,y=c(h,a);if(o.hasEagerState=!0,o.eagerState=y,qt(y,h))return Bs(e,t,o,0),Be===null&&Ms(),!1}catch{}if(a=qo(e,t,o,s),a!==null)return Mt(a,e,s),uh(a,t,s),!0}return!1}function Su(e,t,a,s){if(s={lane:2,revertLane:ec(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},al(e)){if(t)throw Error(l(479))}else t=qo(e,a,s,2),t!==null&&Mt(t,e,2)}function al(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function oh(e,t){Rr=Zs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function uh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Lt(e,a)}}var ji={readContext:vt,use:Fs,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};ji.useEffectEvent=Ye;var ch={readContext:vt,use:Fs,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:Xf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,tl(4194308,4,Wf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return tl(4194308,4,e,t)},useInsertionEffect:function(e,t){tl(4,2,e,t)},useMemo:function(e,t){var a=Tt();t=t===void 0?null:t;var s=e();if(Ia){Zt(!0);try{e()}finally{Zt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Tt();if(a!==void 0){var o=a(t);if(Ia){Zt(!0);try{a(t)}finally{Zt(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=_p.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=vu(e);var t=e.queue,a=lh.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:pu,useDeferredValue:function(e,t){var a=Tt();return bu(a,e,t)},useTransition:function(){var e=vu(!1);return e=nh.bind(null,ye,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,o=Tt();if(xe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(we&127)!==0||Df(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,Xf(Uf.bind(null,s,c,e),[e]),s.flags|=2048,jr(9,{destroy:void 0},Nf.bind(null,s,c,a,t),null),a},useId:function(){var e=Tt(),t=Be.identifierPrefix;if(xe){var a=On,s=An;a=(s&~(1<<32-wt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=hp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wu,useFormState:Gf,useActionState:Gf,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Su.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:fu,useCacheRefresh:function(){return Tt().memoizedState=bp.bind(null,ye)},useEffectEvent:function(e){var t=Tt(),a={impl:e};return t.memoizedState=a,function(){if((De&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Eu={readContext:vt,use:Fs,useCallback:Ff,useContext:vt,useEffect:yu,useImperativeHandle:Pf,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:eh,useReducer:el,useRef:If,useState:function(){return el(Yn)},useDebugValue:pu,useDeferredValue:function(e,t){var a=We();return th(a,ke.memoizedState,e,t)},useTransition:function(){var e=el(Yn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Ri(e),t]},useSyncExternalStore:jf,useId:ih,useHostTransitionStatus:wu,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,t){var a=We();return Mf(a,ke,e,t)},useMemoCache:fu,useCacheRefresh:sh};Eu.useEffectEvent=Qf;var dh={readContext:vt,use:Fs,useCallback:Ff,useContext:vt,useEffect:yu,useImperativeHandle:Pf,useInsertionEffect:Jf,useLayoutEffect:Zf,useMemo:eh,useReducer:gu,useRef:If,useState:function(){return gu(Yn)},useDebugValue:pu,useDeferredValue:function(e,t){var a=We();return ke===null?bu(a,e,t):th(a,ke.memoizedState,e,t)},useTransition:function(){var e=gu(Yn)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Ri(e),t]},useSyncExternalStore:jf,useId:ih,useHostTransitionStatus:wu,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,t){var a=We();return ke!==null?Mf(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:fu,useCacheRefresh:sh};dh.useEffectEvent=Qf;function xu(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Tu={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Kt(),o=ca(s);o.payload=t,a!=null&&(o.callback=a),t=da(e,o,s),t!==null&&(Mt(t,e,s),xi(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Kt(),o=ca(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=da(e,o,s),t!==null&&(Mt(t,e,s),xi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Kt(),s=ca(a);s.tag=2,t!=null&&(s.callback=t),t=da(e,s,a),t!==null&&(Mt(t,e,a),xi(t,e,a))}};function fh(e,t,a,s,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,h):t.prototype&&t.prototype.isPureReactComponent?!mi(a,s)||!mi(o,c):!0}function hh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Tu.enqueueReplaceState(t,t.state,null)}function Xa(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function gh(e){zs(e)}function vh(e){console.error(e)}function mh(e){zs(e)}function rl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function yh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Au(e,t,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){rl(e,t)},a}function ph(e){return e=ca(e),e.tag=3,e}function bh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){yh(t,a,s)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){yh(t,a,s),typeof o!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function wp(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Sr(t,a,o,!0),a=$t.current,a!==null){switch(a.tag){case 31:case 13:return on===null?ml():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===Ks?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Wu(e,s,o)),!1;case 22:return a.flags|=65536,s===Ks?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Wu(e,s,o)),!1}throw Error(l(435,a.tag))}return Wu(e,s,o),ml(),!1}if(xe)return t=$t.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Ko&&(e=Error(l(422),{cause:s}),bi(an(e,a)))):(s!==Ko&&(t=Error(l(423),{cause:s}),bi(an(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=an(s,a),o=Au(e.stateNode,s,o),nu(e,o),Ke!==4&&(Ke=2)),!1;var c=Error(l(520),{cause:s});if(c=an(c,a),Li===null?Li=[c]:Li.push(c),Ke!==4&&(Ke=2),t===null)return!0;s=an(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Au(a.stateNode,s,e),nu(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ya===null||!ya.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=ph(o),bh(o,e,a,s),nu(a,o),!1}a=a.return}while(a!==null);return!1}var Ou=Error(l(461)),et=!1;function mt(e,t,a,s){t.child=e===null?Ef(t,null,a,s):Ka(t,e.child,a,s)}function _h(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var h={};for(var y in s)y!=="ref"&&(h[y]=s[y])}else h=s;return $a(t),s=ou(e,t,a,h,c,o),y=uu(),e!==null&&!et?(cu(e,t,o),Kn(e,t,o)):(xe&&y&&Vo(t),t.flags|=1,mt(e,t,s,o),t.child)}function wh(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!Ho(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Sh(e,t,c,s,o)):(e=qs(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!zu(e,o)){var h=c.memoizedProps;if(a=a.compare,a=a!==null?a:mi,a(h,s)&&e.ref===t.ref)return Kn(e,t,o)}return t.flags|=1,e=qn(c,s),e.ref=t.ref,e.return=t,t.child=e}function Sh(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(mi(c,s)&&e.ref===t.ref)if(et=!1,t.pendingProps=s=c,zu(e,o))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,Kn(e,t,o)}return Ru(e,t,a,s,o)}function Eh(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return xh(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vs(t,c!==null?c.cachePool:null),c!==null?Af(t,c):ru(),Of(t);else return s=t.lanes=536870912,xh(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(Vs(t,c.cachePool),Af(t,c),ha(),t.memoizedState=null):(e!==null&&Vs(t,null),ru(),ha());return mt(e,t,o,a),t.child}function Di(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xh(e,t,a,s,o){var c=Po();return c=c===null?null:{parent:Pe._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&Vs(t,null),ru(),Of(t),e!==null&&Sr(e,t,s,!0),t.childLanes=o,null}function il(e,t){return t=ll({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Th(e,t,a){return Ka(t,e.child,null,a),e=il(t,t.pendingProps),e.flags|=2,Gt(t),t.memoizedState=null,e}function Sp(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(xe){if(s.mode==="hidden")return e=il(t,s),t.lanes=536870912,Di(null,e);if(su(t),(e=qe)?(e=Bg(e,ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:An,overflow:On}:null,retryLane:536870912,hydrationErrors:null},a=of(e),a.return=t,t.child=a,gt=t,qe=null)):e=null,e===null)throw la(t);return t.lanes=536870912,null}return il(t,s)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(su(t),o)if(t.flags&256)t.flags&=-257,t=Th(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(et||Sr(e,t,a,!1),o=(a&e.childLanes)!==0,et||o){if(s=Be,s!==null&&(h=Pt(s,a),h!==0&&h!==c.retryLane))throw c.retryLane=h,Ba(e,h),Mt(s,e,h),Ou;ml(),t=Th(e,t,a)}else e=c.treeContext,qe=un(h.nextSibling),gt=t,xe=!0,sa=null,ln=!1,e!==null&&df(t,e),t=il(t,s),t.flags|=4096;return t}return e=qn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function sl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ru(e,t,a,s,o){return $a(t),a=ou(e,t,a,s,void 0,o),s=uu(),e!==null&&!et?(cu(e,t,o),Kn(e,t,o)):(xe&&s&&Vo(t),t.flags|=1,mt(e,t,a,o),t.child)}function Ah(e,t,a,s,o,c){return $a(t),t.updateQueue=null,a=Cf(t,s,a,o),Rf(e),s=uu(),e!==null&&!et?(cu(e,t,c),Kn(e,t,c)):(xe&&s&&Vo(t),t.flags|=1,mt(e,t,a,c),t.child)}function Oh(e,t,a,s,o){if($a(t),t.stateNode===null){var c=pr,h=a.contextType;typeof h=="object"&&h!==null&&(c=vt(h)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Tu,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},eu(t),h=a.contextType,c.context=typeof h=="object"&&h!==null?vt(h):pr,c.state=t.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(xu(t,a,h,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Tu.enqueueReplaceState(c,c.state,null),Ai(t,s,c,o),Ti(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,w=Xa(a,y);c.props=w;var N=c.context,H=a.contextType;h=pr,typeof H=="object"&&H!==null&&(h=vt(H));var V=a.getDerivedStateFromProps;H=typeof V=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,H||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||N!==h)&&hh(t,c,s,h),ua=!1;var k=t.memoizedState;c.state=k,Ai(t,s,c,o),Ti(),N=t.memoizedState,y||k!==N||ua?(typeof V=="function"&&(xu(t,a,V,s),N=t.memoizedState),(w=ua||fh(t,a,w,s,k,N,h))?(H||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=N),c.props=s,c.state=N,c.context=h,s=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,tu(e,t),h=t.memoizedProps,H=Xa(a,h),c.props=H,V=t.pendingProps,k=c.context,N=a.contextType,w=pr,typeof N=="object"&&N!==null&&(w=vt(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==V||k!==w)&&hh(t,c,s,w),ua=!1,k=t.memoizedState,c.state=k,Ai(t,s,c,o),Ti();var M=t.memoizedState;h!==V||k!==M||ua||e!==null&&e.dependencies!==null&&$s(e.dependencies)?(typeof y=="function"&&(xu(t,a,y,s),M=t.memoizedState),(H=ua||fh(t,a,H,s,k,M,w)||e!==null&&e.dependencies!==null&&$s(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,M,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,M,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),c.props=s,c.state=M,c.context=w,s=H):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,sl(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=Ka(t,e.child,null,o),t.child=Ka(t,null,a,o)):mt(e,t,a,o),t.memoizedState=c.state,e=t.child):e=Kn(e,t,o),e}function Rh(e,t,a,s){return qa(),t.flags|=256,mt(e,t,a,s),t.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ju(e){return{baseLanes:e,cachePool:yf()}}function Du(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Yt),e}function Ch(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(xe){if(o?fa(t):ha(),(e=qe)?(e=Bg(e,ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ia!==null?{id:An,overflow:On}:null,retryLane:536870912,hydrationErrors:null},a=of(e),a.return=t,t.child=a,gt=t,qe=null)):e=null,e===null)throw la(t);return hc(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(ha(),o=t.mode,y=ll({mode:"hidden",children:y},o),s=La(s,o,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=ju(a),s.childLanes=Du(e,h,a),t.memoizedState=Cu,Di(null,s)):(fa(t),Nu(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(c)t.flags&256?(fa(t),t.flags&=-257,t=Uu(e,t,a)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),y=s.fallback,o=t.mode,s=ll({mode:"visible",children:s.children},o),y=La(y,o,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Ka(t,e.child,null,a),s=t.child,s.memoizedState=ju(a),s.childLanes=Du(e,h,a),t.memoizedState=Cu,t=Di(null,s));else if(fa(t),hc(y)){if(h=y.nextSibling&&y.nextSibling.dataset,h)var N=h.dgst;h=N,s=Error(l(419)),s.stack="",s.digest=h,bi({value:s,source:null,stack:null}),t=Uu(e,t,a)}else if(et||Sr(e,t,a,!1),h=(a&e.childLanes)!==0,et||h){if(h=Be,h!==null&&(s=Pt(h,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,Ba(e,s),Mt(h,e,s),Ou;fc(y)||ml(),t=Uu(e,t,a)}else fc(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,qe=un(y.nextSibling),gt=t,xe=!0,sa=null,ln=!1,e!==null&&df(t,e),t=Nu(t,s.children),t.flags|=4096);return t}return o?(ha(),y=s.fallback,o=t.mode,w=e.child,N=w.sibling,s=qn(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,N!==null?y=qn(N,y):(y=La(y,o,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,Di(null,s),s=t.child,y=e.child.memoizedState,y===null?y=ju(a):(o=y.cachePool,o!==null?(w=Pe._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=yf(),y={baseLanes:y.baseLanes|a,cachePool:o}),s.memoizedState=y,s.childLanes=Du(e,h,a),t.memoizedState=Cu,Di(e.child,s)):(fa(t),a=e.child,e=a.sibling,a=qn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=a,t.memoizedState=null,a)}function Nu(e,t){return t=ll({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ll(e,t){return e=Ht(22,e,null,t),e.lanes=0,e}function Uu(e,t,a){return Ka(t,e.child,null,a),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Qo(e.return,t,a)}function ku(e,t,a,s,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=a,h.tailMode=o,h.treeForkCount=c)}function Dh(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var h=Ze.current,y=(h&2)!==0;if(y?(h=h&1|2,t.flags|=128):h&=1,I(Ze,h),mt(e,t,s,a),s=xe?pi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jh(e,a,t);else if(e.tag===19)jh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&Js(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),ku(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Js(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}ku(t,!0,a,null,c,s);break;case"together":ku(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Kn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Sr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=qn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=qn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&$s(e)))}function Ep(e,t,a){switch(t.tag){case 3:$e(t,t.stateNode.containerInfo),oa(t,Pe,e.memoizedState.cache),qa();break;case 27:case 5:Ae(t);break;case 4:$e(t,t.stateNode.containerInfo);break;case 10:oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,su(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(fa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Ch(e,t,a):(fa(t),e=Kn(e,t,a),e!==null?e.sibling:null);fa(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Sr(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Dh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Ze,Ze.current),s)break;return null;case 22:return t.lanes=0,Eh(e,t,a,t.pendingProps);case 24:oa(t,Pe,e.memoizedState.cache)}return Kn(e,t,a)}function Nh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!zu(e,a)&&(t.flags&128)===0)return et=!1,Ep(e,t,a);et=(e.flags&131072)!==0}else et=!1,xe&&(t.flags&1048576)!==0&&cf(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Va(t.elementType),t.type=e,typeof e=="function")Ho(e)?(s=Xa(e,s),t.tag=1,t=Oh(null,t,e,s,a)):(t.tag=0,t=Ru(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===X){t.tag=11,t=_h(null,t,e,s,a);break e}else if(o===K){t.tag=14,t=wh(null,t,e,s,a);break e}}throw t=W(e)||e,Error(l(306,t,""))}}return t;case 0:return Ru(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=Xa(s,t.pendingProps),Oh(e,t,s,o,a);case 3:e:{if($e(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,tu(e,t),Ai(t,s,null,a);var h=t.memoizedState;if(s=h.cache,oa(t,Pe,s),s!==c.cache&&Jo(t,[Pe],a,!0),Ti(),s=h.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Rh(e,t,s,a);break e}else if(s!==o){o=an(Error(l(424)),t),bi(o),t=Rh(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,qe=un(e.firstChild),gt=t,xe=!0,sa=null,ln=!0,a=Ef(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(qa(),s===o){t=Kn(e,t,a);break e}mt(e,t,s,a)}t=t.child}return t;case 26:return sl(e,t),e===null?(a=Vg(t.type,null,t.pendingProps,null))?t.memoizedState=a:xe||(a=t.type,e=t.pendingProps,s=El(ue.current).createElement(a),s[ht]=t,s[jt]=e,yt(s,a,e),ut(s),t.stateNode=s):t.memoizedState=Vg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ae(t),e===null&&xe&&(s=t.stateNode=Hg(t.type,t.pendingProps,ue.current),gt=t,ln=!0,o=qe,wa(t.type)?(gc=o,qe=un(s.firstChild)):qe=o),mt(e,t,t.pendingProps.children,a),sl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&xe&&((o=s=qe)&&(s=Fp(s,t.type,t.pendingProps,ln),s!==null?(t.stateNode=s,gt=t,qe=un(s.firstChild),ln=!1,o=!0):o=!1),o||la(t)),Ae(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,s=c.children,uc(o,c)?s=null:h!==null&&uc(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=ou(e,t,gp,null,null,a),Ii._currentValue=o),sl(e,t),mt(e,t,s,a),t.child;case 6:return e===null&&xe&&((e=a=qe)&&(a=e0(a,t.pendingProps,ln),a!==null?(t.stateNode=a,gt=t,qe=null,e=!0):e=!1),e||la(t)),null;case 13:return Ch(e,t,a);case 4:return $e(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ka(t,null,s,a):mt(e,t,s,a),t.child;case 11:return _h(e,t,t.type,t.pendingProps,a);case 7:return mt(e,t,t.pendingProps,a),t.child;case 8:return mt(e,t,t.pendingProps.children,a),t.child;case 12:return mt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,oa(t,t.type,s.value),mt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,$a(t),o=vt(o),s=s(o),t.flags|=1,mt(e,t,s,a),t.child;case 14:return wh(e,t,t.type,t.pendingProps,a);case 15:return Sh(e,t,t.type,t.pendingProps,a);case 19:return Dh(e,t,a);case 31:return Sp(e,t,a);case 22:return Eh(e,t,a,t.pendingProps);case 24:return $a(t),s=vt(Pe),e===null?(o=Po(),o===null&&(o=Be,c=Zo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},eu(t),oa(t,Pe,o)):((e.lanes&a)!==0&&(tu(e,t),Ai(t,null,null,a),Ti()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),oa(t,Pe,s)):(s=c.cache,oa(t,Pe,s),s!==o.cache&&Jo(t,[Pe],a,!0))),mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function In(e){e.flags|=4}function Mu(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ig())e.flags|=8192;else throw Ya=Ks,Fo}else e.flags&=-16777217}function Uh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qg(t))if(ig())e.flags|=8192;else throw Ya=Ks,Fo}function ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?St():536870912,e.lanes|=t,kr|=t)}function Ni(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function xp(e,t,a){var s=t.pendingProps;switch(Yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Gn(Pe),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wr(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Io())),He(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(In(t),c!==null?(He(t),Uh(t,c)):(He(t),Mu(t,o,null,s,a))):c?c!==e.memoizedState?(In(t),He(t),Uh(t,c)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&In(t),He(t),Mu(t,o,e,s,a)),null;case 27:if(Sn(t),a=ue.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return He(t),null}e=P.current,wr(t)?ff(t):(e=Hg(o,s,a),t.stateNode=e,In(t))}return He(t),null;case 5:if(Sn(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return He(t),null}if(c=P.current,wr(t))ff(t);else{var h=El(ue.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?h.createElement("select",{is:s.is}):h.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?h.createElement(o,{is:s.is}):h.createElement(o)}}c[ht]=t,c[jt]=s;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(yt(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&In(t)}}return He(t),Mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ue.current,wr(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=gt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ht]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Cg(e.nodeValue,a)),e||la(t,!0)}else e=El(e).createTextNode(s),e[ht]=t,t.stateNode=e}return He(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=wr(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[ht]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else a=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Gt(t),t):(Gt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return He(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=wr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[ht]=t}else qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else o=Io(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Gt(t),t):(Gt(t),null)}return Gt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),ol(t,t.updateQueue),He(t),null);case 4:return je(),e===null&&rc(t.stateNode.containerInfo),He(t),null;case 10:return Gn(t.type),He(t),null;case 19:if(B(Ze),s=t.memoizedState,s===null)return He(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)Ni(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Js(e),c!==null){for(t.flags|=128,Ni(s,!1),e=c.updateQueue,t.updateQueue=e,ol(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)lf(a,e),a=a.sibling;return I(Ze,Ze.current&1|2),xe&&Hn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>hl&&(t.flags|=128,o=!0,Ni(s,!1),t.lanes=4194304)}else{if(!o)if(e=Js(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ol(t,e),Ni(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!xe)return He(t),null}else 2*_t()-s.renderingStartTime>hl&&a!==536870912&&(t.flags|=128,o=!0,Ni(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,a=Ze.current,I(Ze,o?a&1|2:a&1),xe&&Hn(t,s.treeForkCount),e):(He(t),null);case 22:case 23:return Gt(t),iu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),a=t.updateQueue,a!==null&&ol(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&B(Ga),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Gn(Pe),He(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Tp(e,t){switch(Yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(Pe),je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Sn(t),null;case 31:if(t.memoizedState!==null){if(Gt(t),t.alternate===null)throw Error(l(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Ze),null;case 4:return je(),null;case 10:return Gn(t.type),null;case 22:case 23:return Gt(t),iu(),e!==null&&B(Ga),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gn(Pe),null;case 25:return null;default:return null}}function kh(e,t){switch(Yo(t),t.tag){case 3:Gn(Pe),je();break;case 26:case 27:case 5:Sn(t);break;case 4:je();break;case 31:t.memoizedState!==null&&Gt(t);break;case 13:Gt(t);break;case 19:B(Ze);break;case 10:Gn(t.type);break;case 22:case 23:Gt(t),iu(),e!==null&&B(Ga);break;case 24:Gn(Pe)}}function Ui(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,h=a.inst;s=c(),h.destroy=s}a=a.next}while(a!==o)}}catch(y){Ue(t,t.return,y)}}function ga(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var h=s.inst,y=h.destroy;if(y!==void 0){h.destroy=void 0,o=t;var w=a,N=y;try{N()}catch(H){Ue(o,w,H)}}}s=s.next}while(s!==c)}}catch(H){Ue(t,t.return,H)}}function zh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Tf(t,a)}catch(s){Ue(e,e.return,s)}}}function Mh(e,t,a){a.props=Xa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ue(e,t,s)}}function ki(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ue(e,t,o)}}function Rn(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ue(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ue(e,t,o)}else a.current=null}function Bh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ue(e,e.return,o)}}function Bu(e,t,a){try{var s=e.stateNode;Xp(s,e.type,a,t),s[jt]=t}catch(o){Ue(e,e.return,o)}}function Lh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&wa(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&wa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Bn));else if(s!==4&&(s===27&&wa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(qu(e,t,a),e=e.sibling;e!==null;)qu(e,t,a),e=e.sibling}function ul(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&wa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ul(e,t,a),e=e.sibling;e!==null;)ul(e,t,a),e=e.sibling}function qh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);yt(t,s,a),t[ht]=e,t[jt]=a}catch(c){Ue(e,e.return,c)}}var Xn=!1,tt=!1,Hu=!1,Hh=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Ap(e,t){if(e=e.containerInfo,lc=jl,e=Wd(e),Uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var h=0,y=-1,w=-1,N=0,H=0,V=e,k=null;t:for(;;){for(var M;V!==a||o!==0&&V.nodeType!==3||(y=h+o),V!==c||s!==0&&V.nodeType!==3||(w=h+s),V.nodeType===3&&(h+=V.nodeValue.length),(M=V.firstChild)!==null;)k=V,V=M;for(;;){if(V===e)break t;if(k===a&&++N===o&&(y=h),k===c&&++H===s&&(w=h),(M=V.nextSibling)!==null)break;V=k,k=V.parentNode}V=M}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(oc={focusedElem:e,selectionRange:a},jl=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var te=Xa(a.type,o);e=s.getSnapshotBeforeUpdate(te,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ue(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)dc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function $h(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Jn(e,a),s&4&&Ui(5,a);break;case 1:if(Jn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(h){Ue(a,a.return,h)}else{var o=Xa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Ue(a,a.return,h)}}s&64&&zh(a),s&512&&ki(a,a.return);break;case 3:if(Jn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tf(e,t)}catch(h){Ue(a,a.return,h)}}break;case 27:t===null&&s&4&&qh(a);case 26:case 5:Jn(e,a),t===null&&s&4&&Bh(a),s&512&&ki(a,a.return);break;case 12:Jn(e,a);break;case 31:Jn(e,a),s&4&&Yh(e,a);break;case 13:Jn(e,a),s&4&&Kh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=zp.bind(null,a),t0(e,a))));break;case 22:if(s=a.memoizedState!==null||Xn,!s){t=t!==null&&t.memoizedState!==null||tt,o=Xn;var c=tt;Xn=s,(tt=t)&&!c?Zn(e,a,(a.subtreeFlags&8772)!==0):Jn(e,a),Xn=o,tt=c}break;case 30:break;default:Jn(e,a)}}function Gh(e){var t=e.alternate;t!==null&&(e.alternate=null,Gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Nt=!1;function Qn(e,t,a){for(a=a.child;a!==null;)Vh(e,t,a),a=a.sibling}function Vh(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Na,a)}catch{}switch(a.tag){case 26:tt||Rn(a,t),Qn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:tt||Rn(a,t);var s=Ge,o=Nt;wa(a.type)&&(Ge=a.stateNode,Nt=!1),Qn(e,t,a),Vi(a.stateNode),Ge=s,Nt=o;break;case 5:tt||Rn(a,t);case 6:if(s=Ge,o=Nt,Ge=null,Qn(e,t,a),Ge=s,Nt=o,Ge!==null)if(Nt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(c){Ue(a,t,c)}else try{Ge.removeChild(a.stateNode)}catch(c){Ue(a,t,c)}break;case 18:Ge!==null&&(Nt?(e=Ge,zg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Gr(e)):zg(Ge,a.stateNode));break;case 4:s=Ge,o=Nt,Ge=a.stateNode.containerInfo,Nt=!0,Qn(e,t,a),Ge=s,Nt=o;break;case 0:case 11:case 14:case 15:ga(2,a,t),tt||ga(4,a,t),Qn(e,t,a);break;case 1:tt||(Rn(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Mh(a,t,s)),Qn(e,t,a);break;case 21:Qn(e,t,a);break;case 22:tt=(s=tt)||a.memoizedState!==null,Qn(e,t,a),tt=s;break;default:Qn(e,t,a)}}function Yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gr(e)}catch(a){Ue(t,t.return,a)}}}function Kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gr(e)}catch(a){Ue(t,t.return,a)}}function Op(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hh),t;default:throw Error(l(435,e.tag))}}function cl(e,t){var a=Op(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Mp.bind(null,e,s);s.then(o,o)}})}function Ut(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 27:if(wa(y.type)){Ge=y.stateNode,Nt=!1;break e}break;case 5:Ge=y.stateNode,Nt=!1;break e;case 3:case 4:Ge=y.stateNode.containerInfo,Nt=!0;break e}y=y.return}if(Ge===null)throw Error(l(160));Vh(c,h,o),Ge=null,Nt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ih(t,e),t=t.sibling}var mn=null;function Ih(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),kt(e),s&4&&(ga(3,e,e.return),Ui(3,e),ga(5,e,e.return));break;case 1:Ut(t,e),kt(e),s&512&&(tt||a===null||Rn(a,a.return)),s&64&&Xn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=mn;if(Ut(t,e),kt(e),s&512&&(tt||a===null||Rn(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[li]||c[ht]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),yt(c,s,a),c[ht]=e,ut(c),s=c;break e;case"link":var h=Ig("link","href",o).get(s+(a.href||""));if(h){for(var y=0;y<h.length;y++)if(c=h[y],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(y,1);break t}}c=o.createElement(s),yt(c,s,a),o.head.appendChild(c);break;case"meta":if(h=Ig("meta","content",o).get(s+(a.content||""))){for(y=0;y<h.length;y++)if(c=h[y],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(y,1);break t}}c=o.createElement(s),yt(c,s,a),o.head.appendChild(c);break;default:throw Error(l(468,s))}c[ht]=e,ut(c),s=c}e.stateNode=s}else Xg(o,e.type,e.stateNode);else e.stateNode=Kg(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?Xg(o,e.type,e.stateNode):Kg(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ut(t,e),kt(e),s&512&&(tt||a===null||Rn(a,a.return)),a!==null&&s&4&&Bu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ut(t,e),kt(e),s&512&&(tt||a===null||Rn(a,a.return)),e.flags&32){o=e.stateNode;try{dr(o,"")}catch(te){Ue(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Bu(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Hu=!0);break;case 6:if(Ut(t,e),kt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(te){Ue(e,e.return,te)}}break;case 3:if(Al=null,o=mn,mn=xl(t.containerInfo),Ut(t,e),mn=o,kt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{Gr(t.containerInfo)}catch(te){Ue(e,e.return,te)}Hu&&(Hu=!1,Xh(e));break;case 4:s=mn,mn=xl(e.stateNode.containerInfo),Ut(t,e),kt(e),mn=s;break;case 12:Ut(t,e),kt(e);break;case 31:Ut(t,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,cl(e,s)));break;case 13:Ut(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fl=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,cl(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,N=Xn,H=tt;if(Xn=N||o,tt=H||w,Ut(t,e),tt=H,Xn=N,kt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||Xn||tt||Qa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=w.stateNode;var V=w.memoizedProps.style,k=V!=null&&V.hasOwnProperty("display")?V.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(te){Ue(w,w.return,te)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(te){Ue(w,w.return,te)}}}else if(t.tag===18){if(a===null){w=t;try{var M=w.stateNode;o?Mg(M,!0):Mg(w.stateNode,!1)}catch(te){Ue(w,w.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,cl(e,a))));break;case 19:Ut(t,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,cl(e,s)));break;case 30:break;case 21:break;default:Ut(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Lh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,c=Lu(e);ul(e,c,o);break;case 5:var h=a.stateNode;a.flags&32&&(dr(h,""),a.flags&=-33);var y=Lu(e);ul(e,y,h);break;case 3:case 4:var w=a.stateNode.containerInfo,N=Lu(e);qu(e,N,w);break;default:throw Error(l(161))}}catch(H){Ue(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$h(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ga(4,t,t.return),Qa(t);break;case 1:Rn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Mh(t,t.return,a),Qa(t);break;case 27:Vi(t.stateNode);case 26:case 5:Rn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function Zn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Zn(o,c,a),Ui(4,c);break;case 1:if(Zn(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){Ue(s,s.return,N)}if(s=c,o=s.updateQueue,o!==null){var y=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)xf(w[o],y)}catch(N){Ue(s,s.return,N)}}a&&h&64&&zh(c),ki(c,c.return);break;case 27:qh(c);case 26:case 5:Zn(o,c,a),a&&s===null&&h&4&&Bh(c),ki(c,c.return);break;case 12:Zn(o,c,a);break;case 31:Zn(o,c,a),a&&h&4&&Yh(o,c);break;case 13:Zn(o,c,a),a&&h&4&&Kh(o,c);break;case 22:c.memoizedState===null&&Zn(o,c,a),ki(c,c.return);break;case 30:break;default:Zn(o,c,a)}t=t.sibling}}function $u(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&_i(a))}function Gu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e))}function yn(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,a,s),t=t.sibling}function Qh(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,a,s),o&2048&&Ui(9,t);break;case 1:yn(e,t,a,s);break;case 3:yn(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&_i(e)));break;case 12:if(o&2048){yn(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,y=c.onPostCommit;typeof y=="function"&&y(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ue(t,t.return,w)}}else yn(e,t,a,s);break;case 31:yn(e,t,a,s);break;case 13:yn(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?yn(e,t,a,s):zi(e,t):c._visibility&2?yn(e,t,a,s):(c._visibility|=2,Dr(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&$u(h,t);break;case 24:yn(e,t,a,s),o&2048&&Gu(t.alternate,t);break;default:yn(e,t,a,s)}}function Dr(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,y=a,w=s,N=h.flags;switch(h.tag){case 0:case 11:case 15:Dr(c,h,y,w,o),Ui(8,h);break;case 23:break;case 22:var H=h.stateNode;h.memoizedState!==null?H._visibility&2?Dr(c,h,y,w,o):zi(c,h):(H._visibility|=2,Dr(c,h,y,w,o)),o&&N&2048&&$u(h.alternate,h);break;case 24:Dr(c,h,y,w,o),o&&N&2048&&Gu(h.alternate,h);break;default:Dr(c,h,y,w,o)}t=t.sibling}}function zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:zi(a,s),o&2048&&$u(s.alternate,s);break;case 24:zi(a,s),o&2048&&Gu(s.alternate,s);break;default:zi(a,s)}t=t.sibling}}var Mi=8192;function Nr(e,t,a){if(e.subtreeFlags&Mi)for(e=e.child;e!==null;)Jh(e,t,a),e=e.sibling}function Jh(e,t,a){switch(e.tag){case 26:Nr(e,t,a),e.flags&Mi&&e.memoizedState!==null&&h0(a,mn,e.memoizedState,e.memoizedProps);break;case 5:Nr(e,t,a);break;case 3:case 4:var s=mn;mn=xl(e.stateNode.containerInfo),Nr(e,t,a),mn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Mi,Mi=16777216,Nr(e,t,a),Mi=s):Nr(e,t,a));break;default:Nr(e,t,a)}}function Zh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ct=s,Ph(s,e)}Zh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wh(e),e=e.sibling}function Wh(e){switch(e.tag){case 0:case 11:case 15:Bi(e),e.flags&2048&&ga(9,e,e.return);break;case 3:Bi(e);break;case 12:Bi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,dl(e)):Bi(e);break;default:Bi(e)}}function dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ct=s,Ph(s,e)}Zh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ga(8,t,t.return),dl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,dl(t));break;default:dl(t)}e=e.sibling}}function Ph(e,t){for(;ct!==null;){var a=ct;switch(a.tag){case 0:case 11:case 15:ga(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:_i(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ct=s;else e:for(a=e;ct!==null;){s=ct;var o=s.sibling,c=s.return;if(Gh(s),s===a){ct=null;break e}if(o!==null){o.return=c,ct=o;break e}ct=c}}}var Rp={getCacheForType:function(e){var t=vt(Pe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return vt(Pe).controller.signal}},Cp=typeof WeakMap=="function"?WeakMap:Map,De=0,Be=null,be=null,we=0,Ne=0,Vt=null,va=!1,Ur=!1,Vu=!1,Wn=0,Ke=0,ma=0,Ja=0,Yu=0,Yt=0,kr=0,Li=null,zt=null,Ku=!1,fl=0,Fh=0,hl=1/0,gl=null,ya=null,rt=0,pa=null,zr=null,Pn=0,Iu=0,Xu=null,eg=null,qi=0,Qu=null;function Kt(){return(De&2)!==0&&we!==0?we&-we:A.T!==null?ec():gn()}function tg(){if(Yt===0)if((we&536870912)===0||xe){var e=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),Yt=e}else Yt=536870912;return e=$t.current,e!==null&&(e.flags|=32),Yt}function Mt(e,t,a){(e===Be&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Mr(e,0),ba(e,we,Yt,!1)),Wt(e,a),((De&2)===0||e!==Be)&&(e===Be&&((De&2)===0&&(Ja|=a),Ke===4&&ba(e,we,Yt,!1)),Cn(e))}function ng(e,t,a){if((De&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ot(e,t),o=s?Np(e,t):Zu(e,t,!0),c=s;do{if(o===0){Ur&&!s&&ba(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!jp(a)){o=Zu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var y=e;o=Li;var w=y.current.memoizedState.isDehydrated;if(w&&(Mr(y,h).flags|=256),h=Zu(y,h,!1),h!==2){if(Vu&&!w){y.errorRecoveryDisabledLanes|=c,Ja|=c,o=4;break e}c=zt,zt=o,c!==null&&(zt===null?zt=c:zt.push.apply(zt,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){Mr(e,0),ba(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:ba(s,t,Yt,!va);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=fl+300-_t(),10<o)){if(ba(s,t,Yt,!va),ot(s,0,!0)!==0)break e;Pn=t,s.timeoutHandle=Ug(ag.bind(null,s,a,zt,gl,Ku,t,Yt,Ja,kr,va,c,"Throttled",-0,0),o);break e}ag(s,a,zt,gl,Ku,t,Yt,Ja,kr,va,c,null,-0,0)}}break}while(!0);Cn(e)}function ag(e,t,a,s,o,c,h,y,w,N,H,V,k,M){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},Jh(t,c,V);var te=(c&62914560)===c?fl-_t():(c&4194048)===c?Fh-_t():0;if(te=g0(V,te),te!==null){Pn=c,e.cancelPendingCommit=te(dg.bind(null,e,t,c,a,s,o,h,y,w,H,V,null,k,M)),ba(e,c,h,!N);return}}dg(e,t,c,a,s,o,h,y,w)}function jp(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!qt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ba(e,t,a,s){t&=~Yu,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-wt(o),h=1<<c;s[c]=-1,o&=~h}a!==0&&hn(e,a,t)}function vl(){return(De&6)===0?(Hi(0),!1):!0}function Ju(){if(be!==null){if(Ne===0)var e=be.return;else e=be,$n=Ha=null,du(e),Ar=null,Si=0,e=be;for(;e!==null;)kh(e.alternate,e),e=e.return;be=null}}function Mr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Zp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pn=0,Ju(),Be=e,be=a=qn(e.current,null),we=t,Ne=0,Vt=null,va=!1,Ur=Ot(e,t),Vu=!1,kr=Yt=Yu=Ja=ma=Ke=0,zt=Li=null,Ku=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-wt(s),c=1<<o;t|=e[o],s&=~c}return Wn=t,Ms(),a}function rg(e,t){ye=null,A.H=ji,t===Tr||t===Ys?(t=_f(),Ne=3):t===Fo?(t=_f(),Ne=4):Ne=t===Ou?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vt=t,be===null&&(Ke=1,rl(e,an(t,e.current)))}function ig(){var e=$t.current;return e===null?!0:(we&4194048)===we?on===null:(we&62914560)===we||(we&536870912)!==0?e===on:!1}function sg(){var e=A.H;return A.H=ji,e===null?ji:e}function lg(){var e=A.A;return A.A=Rp,e}function ml(){Ke=4,va||(we&4194048)!==we&&$t.current!==null||(Ur=!0),(ma&134217727)===0&&(Ja&134217727)===0||Be===null||ba(Be,we,Yt,!1)}function Zu(e,t,a){var s=De;De|=2;var o=sg(),c=lg();(Be!==e||we!==t)&&(gl=null,Mr(e,t)),t=!1;var h=Ke;e:do try{if(Ne!==0&&be!==null){var y=be,w=Vt;switch(Ne){case 8:Ju(),h=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(t=!0);var N=Ne;if(Ne=0,Vt=null,Br(e,y,w,N),a&&Ur){h=0;break e}break;default:N=Ne,Ne=0,Vt=null,Br(e,y,w,N)}}Dp(),h=Ke;break}catch(H){rg(e,H)}while(!0);return t&&e.shellSuspendCounter++,$n=Ha=null,De=s,A.H=o,A.A=c,be===null&&(Be=null,we=0,Ms()),h}function Dp(){for(;be!==null;)og(be)}function Np(e,t){var a=De;De|=2;var s=sg(),o=lg();Be!==e||we!==t?(gl=null,hl=_t()+500,Mr(e,t)):Ur=Ot(e,t);e:do try{if(Ne!==0&&be!==null){t=be;var c=Vt;t:switch(Ne){case 1:Ne=0,Vt=null,Br(e,t,c,1);break;case 2:case 9:if(pf(c)){Ne=0,Vt=null,ug(t);break}t=function(){Ne!==2&&Ne!==9||Be!==e||(Ne=7),Cn(e)},c.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:pf(c)?(Ne=0,Vt=null,ug(t)):(Ne=0,Vt=null,Br(e,t,c,7));break;case 5:var h=null;switch(be.tag){case 26:h=be.memoizedState;case 5:case 27:var y=be;if(h?Qg(h):y.stateNode.complete){Ne=0,Vt=null;var w=y.sibling;if(w!==null)be=w;else{var N=y.return;N!==null?(be=N,yl(N)):be=null}break t}}Ne=0,Vt=null,Br(e,t,c,5);break;case 6:Ne=0,Vt=null,Br(e,t,c,6);break;case 8:Ju(),Ke=6;break e;default:throw Error(l(462))}}Up();break}catch(H){rg(e,H)}while(!0);return $n=Ha=null,A.H=s,A.A=o,De=a,be!==null?0:(Be=null,we=0,Ms(),Ke)}function Up(){for(;be!==null&&!nr();)og(be)}function og(e){var t=Nh(e.alternate,e,Wn);e.memoizedProps=e.pendingProps,t===null?yl(e):be=t}function ug(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Ah(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=Ah(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:du(t);default:kh(a,t),t=be=lf(t,Wn),t=Nh(a,t,Wn)}e.memoizedProps=e.pendingProps,t===null?yl(e):be=t}function Br(e,t,a,s){$n=Ha=null,du(t),Ar=null,Si=0;var o=t.return;try{if(wp(e,o,t,a,we)){Ke=1,rl(e,an(a,e.current)),be=null;return}}catch(c){if(o!==null)throw be=o,c;Ke=1,rl(e,an(a,e.current)),be=null;return}t.flags&32768?(xe||s===1?e=!0:Ur||(we&536870912)!==0?e=!1:(va=e=!0,(s===2||s===9||s===3||s===6)&&(s=$t.current,s!==null&&s.tag===13&&(s.flags|=16384))),cg(t,e)):yl(t)}function yl(e){var t=e;do{if((t.flags&32768)!==0){cg(t,va);return}e=t.return;var a=xp(t.alternate,t,Wn);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ke===0&&(Ke=5)}function cg(e,t){do{var a=Tp(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Ke=6,be=null}function dg(e,t,a,s,o,c,h,y,w){e.cancelPendingCommit=null;do pl();while(rt!==0);if((De&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Lo,at(e,a,c,h,y,w),e===Be&&(be=Be=null,we=0),zr=t,pa=e,Pn=a,Iu=c,Xu=o,eg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bp(fn,function(){return mg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=A.T,A.T=null,o=q.p,q.p=2,h=De,De|=4;try{Ap(e,t,a)}finally{De=h,q.p=o,A.T=s}}rt=1,fg(),hg(),gg()}}function fg(){if(rt===1){rt=0;var e=pa,t=zr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var s=q.p;q.p=2;var o=De;De|=4;try{Ih(t,e);var c=oc,h=Wd(e.containerInfo),y=c.focusedElem,w=c.selectionRange;if(h!==y&&y&&y.ownerDocument&&Zd(y.ownerDocument.documentElement,y)){if(w!==null&&Uo(y)){var N=w.start,H=w.end;if(H===void 0&&(H=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(H,y.value.length);else{var V=y.ownerDocument||document,k=V&&V.defaultView||window;if(k.getSelection){var M=k.getSelection(),te=y.textContent.length,oe=Math.min(w.start,te),Me=w.end===void 0?oe:Math.min(w.end,te);!M.extend&&oe>Me&&(h=Me,Me=oe,oe=h);var O=Jd(y,oe),T=Jd(y,Me);if(O&&T&&(M.rangeCount!==1||M.anchorNode!==O.node||M.anchorOffset!==O.offset||M.focusNode!==T.node||M.focusOffset!==T.offset)){var D=V.createRange();D.setStart(O.node,O.offset),M.removeAllRanges(),oe>Me?(M.addRange(D),M.extend(T.node,T.offset)):(D.setEnd(T.node,T.offset),M.addRange(D))}}}}for(V=[],M=y;M=M.parentNode;)M.nodeType===1&&V.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<V.length;y++){var G=V[y];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}jl=!!lc,oc=lc=null}finally{De=o,q.p=s,A.T=a}}e.current=t,rt=2}}function hg(){if(rt===2){rt=0;var e=pa,t=zr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var s=q.p;q.p=2;var o=De;De|=4;try{$h(e,t.alternate,t)}finally{De=o,q.p=s,A.T=a}}rt=3}}function gg(){if(rt===4||rt===3){rt=0,ws();var e=pa,t=zr,a=Pn,s=eg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,zr=pa=null,vg(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(ya=null),zn(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Na,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=A.T,o=q.p,q.p=2,A.T=null;try{for(var c=e.onRecoverableError,h=0;h<s.length;h++){var y=s[h];c(y.value,{componentStack:y.stack})}}finally{A.T=t,q.p=o}}(Pn&3)!==0&&pl(),Cn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Qu?qi++:(qi=0,Qu=e):qi=0,Hi(0)}}function vg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,_i(t)))}function pl(){return fg(),hg(),gg(),mg()}function mg(){if(rt!==5)return!1;var e=pa,t=Iu;Iu=0;var a=zn(Pn),s=A.T,o=q.p;try{q.p=32>a?32:a,A.T=null,a=Xu,Xu=null;var c=pa,h=Pn;if(rt=0,zr=pa=null,Pn=0,(De&6)!==0)throw Error(l(331));var y=De;if(De|=4,Wh(c.current),Qh(c,c.current,h,a),De=y,Hi(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Na,c)}catch{}return!0}finally{q.p=o,A.T=s,vg(e,t)}}function yg(e,t,a){t=an(a,t),t=Au(e.stateNode,t,2),e=da(e,t,2),e!==null&&(Wt(e,2),Cn(e))}function Ue(e,t,a){if(e.tag===3)yg(e,e,a);else for(;t!==null;){if(t.tag===3){yg(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ya===null||!ya.has(s))){e=an(a,e),a=ph(2),s=da(t,a,2),s!==null&&(bh(a,s,t,e),Wt(s,2),Cn(s));break}}t=t.return}}function Wu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Cp;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Vu=!0,o.add(a),e=kp.bind(null,e,t,a),t.then(e,e))}function kp(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(we&a)===a&&(Ke===4||Ke===3&&(we&62914560)===we&&300>_t()-fl?(De&2)===0&&Mr(e,0):Yu|=a,kr===we&&(kr=0)),Cn(e)}function pg(e,t){t===0&&(t=St()),e=Ba(e,t),e!==null&&(Wt(e,t),Cn(e))}function zp(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),pg(e,a)}function Mp(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),pg(e,a)}function Bp(e,t){return Jt(e,t)}var bl=null,Lr=null,Pu=!1,_l=!1,Fu=!1,_a=0;function Cn(e){e!==Lr&&e.next===null&&(Lr===null?bl=Lr=e:Lr=Lr.next=e),_l=!0,Pu||(Pu=!0,qp())}function Hi(e,t){if(!Fu&&_l){Fu=!0;do for(var a=!1,s=bl;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var h=s.suspendedLanes,y=s.pingedLanes;c=(1<<31-wt(42|e)+1)-1,c&=o&~(h&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Sg(s,c))}else c=we,c=ot(s,s===Be?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Ot(s,c)||(a=!0,Sg(s,c));s=s.next}while(a);Fu=!1}}function Lp(){bg()}function bg(){_l=Pu=!1;var e=0;_a!==0&&Jp()&&(e=_a);for(var t=_t(),a=null,s=bl;s!==null;){var o=s.next,c=_g(s,t);c===0?(s.next=null,a===null?bl=o:a.next=o,o===null&&(Lr=a)):(a=s,(e!==0||(c&3)!==0)&&(_l=!0)),s=o}rt!==0&&rt!==5||Hi(e),_a!==0&&(_a=0)}function _g(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-wt(c),y=1<<h,w=o[h];w===-1?((y&a)===0||(y&s)!==0)&&(o[h]=Rt(y,t)):w<=t&&(e.expiredLanes|=y),c&=~y}if(t=Be,a=we,a=ot(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&na(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ot(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&na(s),zn(a)){case 2:case 8:a=Un;break;case 32:a=fn;break;case 268435456:a=si;break;default:a=fn}return s=wg.bind(null,e),a=Jt(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&na(s),e.callbackPriority=2,e.callbackNode=null,2}function wg(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pl()&&e.callbackNode!==a)return null;var s=we;return s=ot(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(ng(e,s,t),_g(e,_t()),e.callbackNode!=null&&e.callbackNode===a?wg.bind(null,e):null)}function Sg(e,t){if(pl())return null;ng(e,t,!0)}function qp(){Wp(function(){(De&6)!==0?Jt(Ss,Lp):bg()})}function ec(){if(_a===0){var e=Er;e===0&&(e=ar,ar<<=1,(ar&261888)===0&&(ar=256)),_a=e}return _a}function Eg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Rs(""+e)}function xg(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Hp(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=Eg((o[jt]||null).action),h=s.submitter;h&&(t=(t=h[jt]||null)?Eg(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var y=new Ns("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(_a!==0){var w=h?xg(o,h):new FormData(o);_u(a,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(y.preventDefault(),w=h?xg(o,h):new FormData(o),_u(a,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var tc=0;tc<Bo.length;tc++){var nc=Bo[tc],$p=nc.toLowerCase(),Gp=nc[0].toUpperCase()+nc.slice(1);vn($p,"on"+Gp)}vn(ef,"onAnimationEnd"),vn(tf,"onAnimationIteration"),vn(nf,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(rp,"onTransitionRun"),vn(ip,"onTransitionStart"),vn(sp,"onTransitionCancel"),vn(af,"onTransitionEnd"),ur("onMouseEnter",["mouseout","mouseover"]),ur("onMouseLeave",["mouseout","mouseover"]),ur("onPointerEnter",["pointerout","pointerover"]),ur("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($i));function Tg(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var h=s.length-1;0<=h;h--){var y=s[h],w=y.instance,N=y.currentTarget;if(y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=N;try{c(o)}catch(H){zs(H)}o.currentTarget=null,c=w}else for(h=0;h<s.length;h++){if(y=s[h],w=y.instance,N=y.currentTarget,y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=N;try{c(o)}catch(H){zs(H)}o.currentTarget=null,c=w}}}}function _e(e,t){var a=t[vo];a===void 0&&(a=t[vo]=new Set);var s=e+"__bubble";a.has(s)||(Ag(t,e,2,!1),a.add(s))}function ac(e,t,a){var s=0;t&&(s|=4),Ag(a,e,s,t)}var wl="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[wl]){e[wl]=!0,pd.forEach(function(a){a!=="selectionchange"&&(Vp.has(a)||ac(a,!1,e),ac(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wl]||(t[wl]=!0,ac("selectionchange",!1,t))}}function Ag(e,t,a,s){switch(tv(t)){case 2:var o=y0;break;case 8:o=p0;break;default:o=bc}a=o.bind(null,t,a,e),o=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function ic(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===o)break;if(h===4)for(h=s.return;h!==null;){var w=h.tag;if((w===3||w===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;y!==null;){if(h=sr(y),h===null)return;if(w=h.tag,w===5||w===6||w===26||w===27){s=c=h;continue e}y=y.parentNode}}s=s.return}jd(function(){var N=c,H=So(a),V=[];e:{var k=rf.get(e);if(k!==void 0){var M=Ns,te=e;switch(e){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":M=My;break;case"focusin":te="focus",M=Ro;break;case"focusout":te="blur",M=Ro;break;case"beforeblur":case"afterblur":M=Ro;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=qy;break;case ef:case tf:case nf:M=Oy;break;case af:M=$y;break;case"scroll":case"scrollend":M=Sy;break;case"wheel":M=Vy;break;case"copy":case"cut":case"paste":M=Cy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=zd;break;case"toggle":case"beforetoggle":M=Ky}var oe=(t&4)!==0,Me=!oe&&(e==="scroll"||e==="scrollend"),O=oe?k!==null?k+"Capture":null:k;oe=[];for(var T=N,D;T!==null;){var G=T;if(D=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||D===null||O===null||(G=ui(T,O),G!=null&&oe.push(Gi(T,G,D))),Me)break;T=T.return}0<oe.length&&(k=new M(k,te,null,a,H),V.push({event:k,listeners:oe}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",k&&a!==wo&&(te=a.relatedTarget||a.fromElement)&&(sr(te)||te[ir]))break e;if((M||k)&&(k=H.window===H?H:(k=H.ownerDocument)?k.defaultView||k.parentWindow:window,M?(te=a.relatedTarget||a.toElement,M=N,te=te?sr(te):null,te!==null&&(Me=d(te),oe=te.tag,te!==Me||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(M=null,te=N),M!==te)){if(oe=Ud,G="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(oe=zd,G="onPointerLeave",O="onPointerEnter",T="pointer"),Me=M==null?k:oi(M),D=te==null?k:oi(te),k=new oe(G,T+"leave",M,a,H),k.target=Me,k.relatedTarget=D,G=null,sr(H)===N&&(oe=new oe(O,T+"enter",te,a,H),oe.target=D,oe.relatedTarget=Me,G=oe),Me=G,M&&te)t:{for(oe=Yp,O=M,T=te,D=0,G=O;G;G=oe(G))D++;G=0;for(var se=T;se;se=oe(se))G++;for(;0<D-G;)O=oe(O),D--;for(;0<G-D;)T=oe(T),G--;for(;D--;){if(O===T||T!==null&&O===T.alternate){oe=O;break t}O=oe(O),T=oe(T)}oe=null}else oe=null;M!==null&&Og(V,k,M,oe,!1),te!==null&&Me!==null&&Og(V,Me,te,oe,!0)}}e:{if(k=N?oi(N):window,M=k.nodeName&&k.nodeName.toLowerCase(),M==="select"||M==="input"&&k.type==="file")var Oe=Vd;else if($d(k))if(Yd)Oe=tp;else{Oe=Fy;var re=Py}else M=k.nodeName,!M||M.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?N&&_o(N.elementType)&&(Oe=Vd):Oe=ep;if(Oe&&(Oe=Oe(e,N))){Gd(V,Oe,a,H);break e}re&&re(e,k,N),e==="focusout"&&N&&k.type==="number"&&N.memoizedProps.value!=null&&bo(k,"number",k.value)}switch(re=N?oi(N):window,e){case"focusin":($d(re)||re.contentEditable==="true")&&(vr=re,ko=N,yi=null);break;case"focusout":yi=ko=vr=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Pd(V,a,H);break;case"selectionchange":if(ap)break;case"keydown":case"keyup":Pd(V,a,H)}var pe;if(jo)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else gr?qd(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(Md&&a.locale!=="ko"&&(gr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&gr&&(pe=Dd()):(ra=H,To="value"in ra?ra.value:ra.textContent,gr=!0)),re=Sl(N,Se),0<re.length&&(Se=new kd(Se,e,null,a,H),V.push({event:Se,listeners:re}),pe?Se.data=pe:(pe=Hd(a),pe!==null&&(Se.data=pe)))),(pe=Xy?Qy(e,a):Jy(e,a))&&(Se=Sl(N,"onBeforeInput"),0<Se.length&&(re=new kd("onBeforeInput","beforeinput",null,a,H),V.push({event:re,listeners:Se}),re.data=pe)),Hp(V,e,N,a,H)}Tg(V,t)})}function Gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Sl(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ui(e,a),o!=null&&s.unshift(Gi(e,o,c)),o=ui(e,t),o!=null&&s.push(Gi(e,o,c))),e.tag===3)return s;e=e.return}return[]}function Yp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Og(e,t,a,s,o){for(var c=t._reactName,h=[];a!==null&&a!==s;){var y=a,w=y.alternate,N=y.stateNode;if(y=y.tag,w!==null&&w===s)break;y!==5&&y!==26&&y!==27||N===null||(w=N,o?(N=ui(a,c),N!=null&&h.unshift(Gi(a,N,w))):o||(N=ui(a,c),N!=null&&h.push(Gi(a,N,w)))),a=a.return}h.length!==0&&e.push({event:t,listeners:h})}var Kp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function Rg(e){return(typeof e=="string"?e:""+e).replace(Kp,`
`).replace(Ip,"")}function Cg(e,t){return t=Rg(t),Rg(e)===t}function ze(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||dr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&dr(e,""+s);break;case"className":As(e,"class",s);break;case"tabIndex":As(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":As(e,a,s);break;case"style":Rd(e,s,c);break;case"data":if(t!=="object"){As(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Rs(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&ze(e,t,"name",o.name,o,null),ze(e,t,"formEncType",o.formEncType,o,null),ze(e,t,"formMethod",o.formMethod,o,null),ze(e,t,"formTarget",o.formTarget,o,null)):(ze(e,t,"encType",o.encType,o,null),ze(e,t,"method",o.method,o,null),ze(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Rs(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Bn);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Rs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ts(e,"popover",s);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Ts(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_y.get(a)||a,Ts(e,a,s))}}function sc(e,t,a,s,o,c){switch(a){case"style":Rd(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?dr(e,s):(typeof s=="number"||typeof s=="bigint")&&dr(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[jt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Ts(e,a,s)}}}function yt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var h=a[c];if(h!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,c,h,a,null)}}o&&ze(e,t,"srcSet",a.srcSet,a,null),s&&ze(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var y=c=h=o=null,w=null,N=null;for(s in a)if(a.hasOwnProperty(s)){var H=a[s];if(H!=null)switch(s){case"name":o=H;break;case"type":h=H;break;case"checked":w=H;break;case"defaultChecked":N=H;break;case"value":c=H;break;case"defaultValue":y=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(l(137,t));break;default:ze(e,t,s,H,a,null)}}xd(e,c,y,w,N,h,o,!1);return;case"select":_e("invalid",e),s=h=c=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":h=y;break;case"multiple":s=y;default:ze(e,t,o,y,a,null)}t=c,a=h,e.multiple=!!s,t!=null?cr(e,!!s,t,!1):a!=null&&cr(e,!!s,a,!0);return;case"textarea":_e("invalid",e),c=o=s=null;for(h in a)if(a.hasOwnProperty(h)&&(y=a[h],y!=null))switch(h){case"value":s=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:ze(e,t,h,y,a,null)}Ad(e,s,o,c);return;case"option":for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null)&&(w==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ze(e,t,w,s,a,null));return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<$i.length;s++)_e($i[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(s=a[N],s!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ze(e,t,N,s,a,null)}return;default:if(_o(t)){for(H in a)a.hasOwnProperty(H)&&(s=a[H],s!==void 0&&sc(e,t,H,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&ze(e,t,y,s,a,null))}function Xp(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,y=null,w=null,N=null,H=null;for(M in a){var V=a[M];if(a.hasOwnProperty(M)&&V!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":w=V;default:s.hasOwnProperty(M)||ze(e,t,M,null,s,V)}}for(var k in s){var M=s[k];if(V=a[k],s.hasOwnProperty(k)&&(M!=null||V!=null))switch(k){case"type":c=M;break;case"name":o=M;break;case"checked":N=M;break;case"defaultChecked":H=M;break;case"value":h=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:M!==V&&ze(e,t,k,M,s,V)}}po(e,h,y,w,N,H,c,o);return;case"select":M=h=y=k=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":M=w;default:s.hasOwnProperty(c)||ze(e,t,c,null,s,w)}for(o in s)if(c=s[o],w=a[o],s.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":k=c;break;case"defaultValue":y=c;break;case"multiple":h=c;default:c!==w&&ze(e,t,o,c,s,w)}t=y,a=h,s=M,k!=null?cr(e,!!a,k,!1):!!s!=!!a&&(t!=null?cr(e,!!a,t,!0):cr(e,!!a,a?[]:"",!1));return;case"textarea":M=k=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:ze(e,t,y,null,s,o)}for(h in s)if(o=s[h],c=a[h],s.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":k=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&ze(e,t,h,o,s,c)}Td(e,k,M);return;case"option":for(var te in a)k=a[te],a.hasOwnProperty(te)&&k!=null&&!s.hasOwnProperty(te)&&(te==="selected"?e.selected=!1:ze(e,t,te,null,s,k));for(w in s)k=s[w],M=a[w],s.hasOwnProperty(w)&&k!==M&&(k!=null||M!=null)&&(w==="selected"?e.selected=k&&typeof k!="function"&&typeof k!="symbol":ze(e,t,w,k,s,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)k=a[oe],a.hasOwnProperty(oe)&&k!=null&&!s.hasOwnProperty(oe)&&ze(e,t,oe,null,s,k);for(N in s)if(k=s[N],M=a[N],s.hasOwnProperty(N)&&k!==M&&(k!=null||M!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(l(137,t));break;default:ze(e,t,N,k,s,M)}return;default:if(_o(t)){for(var Me in a)k=a[Me],a.hasOwnProperty(Me)&&k!==void 0&&!s.hasOwnProperty(Me)&&sc(e,t,Me,void 0,s,k);for(H in s)k=s[H],M=a[H],!s.hasOwnProperty(H)||k===M||k===void 0&&M===void 0||sc(e,t,H,k,s,M);return}}for(var O in a)k=a[O],a.hasOwnProperty(O)&&k!=null&&!s.hasOwnProperty(O)&&ze(e,t,O,null,s,k);for(V in s)k=s[V],M=a[V],!s.hasOwnProperty(V)||k===M||k==null&&M==null||ze(e,t,V,k,s,M)}function jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,h=o.initiatorType,y=o.duration;if(c&&y&&jg(h)){for(h=0,y=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],N=w.startTime;if(N>y)break;var H=w.transferSize,V=w.initiatorType;H&&jg(V)&&(w=w.responseEnd,h+=H*(w<y?1:(y-N)/(w-N)))}if(--s,t+=8*(c+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var lc=null,oc=null;function El(e){return e.nodeType===9?e:e.ownerDocument}function Dg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ng(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=null;function Jp(){var e=window.event;return e&&e.type==="popstate"?e===cc?!1:(cc=e,!0):(cc=null,!1)}var Ug=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(e){return kg.resolve(null).then(e).catch(Pp)}:Ug;function Pp(e){setTimeout(function(){throw e})}function wa(e){return e==="head"}function zg(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),Gr(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Vi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vi(a);for(var c=a.firstChild;c;){var h=c.nextSibling,y=c.nodeName;c[li]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=h}}else a==="body"&&Vi(e.ownerDocument.body);a=o}while(a);Gr(t)}function Mg(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function dc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dc(a),mo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Fp(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[li])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function e0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=un(e.nextSibling),e===null))return null;return e}function Bg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=un(e.nextSibling),e===null))return null;return e}function fc(e){return e.data==="$?"||e.data==="$~"}function hc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t0(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gc=null;function Lg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return un(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function qg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Hg(e,t,a){switch(t=El(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mo(e)}var cn=new Map,$g=new Set;function xl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=q.d;q.d={f:n0,r:a0,D:r0,C:i0,L:s0,m:l0,X:u0,S:o0,M:c0};function n0(){var e=Fn.f(),t=vl();return e||t}function a0(e){var t=lr(e);t!==null&&t.tag===5&&t.type==="form"?rh(t):Fn.r(e)}var qr=typeof document>"u"?null:document;function Gg(e,t,a){var s=qr;if(s&&typeof t=="string"&&t){var o=tn(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),$g.has(o)||($g.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),yt(t,"link",e),ut(t),s.head.appendChild(t)))}}function r0(e){Fn.D(e),Gg("dns-prefetch",e,null)}function i0(e,t){Fn.C(e,t),Gg("preconnect",e,t)}function s0(e,t,a){Fn.L(e,t,a);var s=qr;if(s&&e&&t){var o='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+tn(a.imageSizes)+'"]')):o+='[href="'+tn(e)+'"]';var c=o;switch(t){case"style":c=Hr(e);break;case"script":c=$r(e)}cn.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),cn.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(Yi(c))||t==="script"&&s.querySelector(Ki(c))||(t=s.createElement("link"),yt(t,"link",e),ut(t),s.head.appendChild(t)))}}function l0(e,t){Fn.m(e,t);var a=qr;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+tn(s)+'"][href="'+tn(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=$r(e)}if(!cn.has(c)&&(e=b({rel:"modulepreload",href:e},t),cn.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ki(c)))return}s=a.createElement("link"),yt(s,"link",e),ut(s),a.head.appendChild(s)}}}function o0(e,t,a){Fn.S(e,t,a);var s=qr;if(s&&e){var o=or(s).hoistableStyles,c=Hr(e);t=t||"default";var h=o.get(c);if(!h){var y={loading:0,preload:null};if(h=s.querySelector(Yi(c)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=cn.get(c))&&vc(e,a);var w=h=s.createElement("link");ut(w),yt(w,"link",e),w._p=new Promise(function(N,H){w.onload=N,w.onerror=H}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Tl(h,t,s)}h={type:"stylesheet",instance:h,count:1,state:y},o.set(c,h)}}}function u0(e,t){Fn.X(e,t);var a=qr;if(a&&e){var s=or(a).hoistableScripts,o=$r(e),c=s.get(o);c||(c=a.querySelector(Ki(o)),c||(e=b({src:e,async:!0},t),(t=cn.get(o))&&mc(e,t),c=a.createElement("script"),ut(c),yt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function c0(e,t){Fn.M(e,t);var a=qr;if(a&&e){var s=or(a).hoistableScripts,o=$r(e),c=s.get(o);c||(c=a.querySelector(Ki(o)),c||(e=b({src:e,async:!0,type:"module"},t),(t=cn.get(o))&&mc(e,t),c=a.createElement("script"),ut(c),yt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Vg(e,t,a,s){var o=(o=ue.current)?xl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Hr(a.href),a=or(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Hr(a.href);var c=or(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(Yi(e)))&&!c._p&&(h.instance=c,h.state.loading=5),cn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},cn.set(e,a),c||d0(o,e,a,h.state))),t&&s===null)throw Error(l(528,""));return h}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$r(a),a=or(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Hr(e){return'href="'+tn(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function Yg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function d0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),yt(t,"link",a),ut(t),e.head.appendChild(t))}function $r(e){return'[src="'+tn(e)+'"]'}function Ki(e){return"script[async]"+e}function Kg(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+tn(a.href)+'"]');if(s)return t.instance=s,ut(s),s;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ut(s),yt(s,"style",o),Tl(s,a.precedence,e),t.instance=s;case"stylesheet":o=Hr(a.href);var c=e.querySelector(Yi(o));if(c)return t.state.loading|=4,t.instance=c,ut(c),c;s=Yg(a),(o=cn.get(o))&&vc(s,o),c=(e.ownerDocument||e).createElement("link"),ut(c);var h=c;return h._p=new Promise(function(y,w){h.onload=y,h.onerror=w}),yt(c,"link",s),t.state.loading|=4,Tl(c,a.precedence,e),t.instance=c;case"script":return c=$r(a.src),(o=e.querySelector(Ki(c)))?(t.instance=o,ut(o),o):(s=a,(o=cn.get(c))&&(s=b({},a),mc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),ut(o),yt(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Tl(s,a.precedence,e));return t.instance}function Tl(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,h=0;h<s.length;h++){var y=s[h];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Al=null;function Ig(e,t,a){if(Al===null){var s=new Map,o=Al=new Map;o.set(a,s)}else o=Al,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[li]||c[ht]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var y=s.get(h);y?y.push(c):s.set(h,[c])}}return s}function Xg(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function f0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Hr(s.href),c=t.querySelector(Yi(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ol.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,ut(c);return}c=t.ownerDocument||t,s=Yg(s),(o=cn.get(o))&&vc(s,o),c=c.createElement("link"),ut(c);var h=c;h._p=new Promise(function(y,w){h.onload=y,h.onerror=w}),yt(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ol.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var yc=0;function g0(e,t){return e.stylesheets&&e.count===0&&Cl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Cl(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&yc===0&&(yc=62500*Qp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cl(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>yc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Ol(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function Cl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,t.forEach(v0,e),Rl=null,Ol.call(e))}function v0(e,t){if(!(t.state.loading&4)){var a=Rl.get(e);if(a)var s=a.get(null);else{a=new Map,Rl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),s=h)}s&&a.set(null,s)}o=t.instance,h=o.getAttribute("data-precedence"),c=a.get(h)||s,c===s&&a.set(null,o),a.set(h,o),this.count++,s=Ol.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ii={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function m0(e,t,a,s,o,c,h,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Jg(e,t,a,s,o,c,h,y,w,N,H,V){return e=new m0(e,t,a,h,w,N,H,V,y),t=1,c===!0&&(t|=24),c=Ht(3,null,null,t),e.current=c,c.stateNode=e,t=Zo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},eu(c),e}function Zg(e){return e?(e=pr,e):pr}function Wg(e,t,a,s,o,c){o=Zg(o),s.context===null?s.context=o:s.pendingContext=o,s=ca(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=da(e,s,t),a!==null&&(Mt(a,e,t),xi(a,e,t))}function Pg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pc(e,t){Pg(e,t),(e=e.alternate)&&Pg(e,t)}function Fg(e){if(e.tag===13||e.tag===31){var t=Ba(e,67108864);t!==null&&Mt(t,e,67108864),pc(e,67108864)}}function ev(e){if(e.tag===13||e.tag===31){var t=Kt();t=kn(t);var a=Ba(e,t);a!==null&&Mt(a,e,t),pc(e,t)}}var jl=!0;function y0(e,t,a,s){var o=A.T;A.T=null;var c=q.p;try{q.p=2,bc(e,t,a,s)}finally{q.p=c,A.T=o}}function p0(e,t,a,s){var o=A.T;A.T=null;var c=q.p;try{q.p=8,bc(e,t,a,s)}finally{q.p=c,A.T=o}}function bc(e,t,a,s){if(jl){var o=_c(s);if(o===null)ic(e,t,s,Dl,a),nv(e,s);else if(_0(o,e,t,a,s))s.stopPropagation();else if(nv(e,s),t&4&&-1<b0.indexOf(e)){for(;o!==null;){var c=lr(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=Je(c.pendingLanes);if(h!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;h;){var w=1<<31-wt(h);y.entanglements[1]|=w,h&=~w}Cn(c),(De&6)===0&&(hl=_t()+500,Hi(0))}}break;case 31:case 13:y=Ba(c,2),y!==null&&Mt(y,c,2),vl(),pc(c,2)}if(c=_c(s),c===null&&ic(e,t,s,Dl,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else ic(e,t,s,null,a)}}function _c(e){return e=So(e),wc(e)}var Dl=null;function wc(e){if(Dl=null,e=sr(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=v(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Dl=e,null}function tv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fo()){case Ss:return 2;case Un:return 8;case fn:case Da:return 32;case si:return 268435456;default:return 32}default:return 32}}var Sc=!1,Sa=null,Ea=null,xa=null,Xi=new Map,Qi=new Map,Ta=[],b0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nv(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function Ji(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=lr(t),t!==null&&Fg(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function _0(e,t,a,s,o){switch(t){case"focusin":return Sa=Ji(Sa,e,t,a,s,o),!0;case"dragenter":return Ea=Ji(Ea,e,t,a,s,o),!0;case"mouseover":return xa=Ji(xa,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return Xi.set(c,Ji(Xi.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,Qi.set(c,Ji(Qi.get(c)||null,e,t,a,s,o)),!0}return!1}function av(e){var t=sr(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,aa(e.priority,function(){ev(a)});return}}else if(t===31){if(t=v(a),t!==null){e.blockedOn=t,aa(e.priority,function(){ev(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_c(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);wo=s,a.target.dispatchEvent(s),wo=null}else return t=lr(a),t!==null&&Fg(t),e.blockedOn=a,!1;t.shift()}return!0}function rv(e,t,a){Nl(e)&&a.delete(t)}function w0(){Sc=!1,Sa!==null&&Nl(Sa)&&(Sa=null),Ea!==null&&Nl(Ea)&&(Ea=null),xa!==null&&Nl(xa)&&(xa=null),Xi.forEach(rv),Qi.forEach(rv)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w0)))}var kl=null;function iv(e){kl!==e&&(kl=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){kl===e&&(kl=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(wc(s||a)===null)continue;break}var c=lr(a);c!==null&&(e.splice(t,3),t-=3,_u(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function Gr(e){function t(w){return Ul(w,e)}Sa!==null&&Ul(Sa,e),Ea!==null&&Ul(Ea,e),xa!==null&&Ul(xa,e),Xi.forEach(t),Qi.forEach(t);for(var a=0;a<Ta.length;a++){var s=Ta[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)av(a),a.blockedOn===null&&Ta.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],h=o[jt]||null;if(typeof c=="function")h||iv(a);else if(h){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[jt]||null)y=h.formAction;else if(wc(o)!==null)continue}else y=h.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),iv(a)}}}function sv(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ec(e){this._internalRoot=e}zl.prototype.render=Ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Kt();Wg(a,s,e,t,null,null)},zl.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wg(e.current,2,null,e,null,null),vl(),t[ir]=null}};function zl(e){this._internalRoot=e}zl.prototype.unstable_scheduleHydration=function(e){if(e){var t=gn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ta.length&&t!==0&&t<Ta[a].priority;a++);Ta.splice(a,0,e),a===0&&av(e)}};var lv=n.version;if(lv!=="19.2.3")throw Error(l(527,lv,"19.2.3"));q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var S0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Na=Ml.inject(S0),xt=Ml}catch{}}return Wi.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,s="",o=gh,c=vh,h=mh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=Jg(e,1,!1,null,null,a,s,null,o,c,h,sv),e[ir]=t.current,rc(e),new Ec(t)},Wi.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var s=!1,o="",c=gh,h=vh,y=mh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Jg(e,1,!0,t,a??null,s,o,w,c,h,y,sv),t.context=Zg(null),a=t.current,s=Kt(),s=kn(s),o=ca(s),o.callback=null,da(a,o,s),a=s,t.current.lanes=a,Wt(t,a),Cn(t),e[ir]=t.current,rc(e),new zl(t)},Wi.version="19.2.3",Wi}var yv;function N0(){if(yv)return Ac.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Ac.exports=D0(),Ac.exports}var U0=N0();function eo(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function k0(r,n,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function v(p){try{m(l.next(p))}catch(b){f(b)}}function g(p){try{m(l.throw(p))}catch(b){f(b)}}function m(p){p.done?d(p.value):u(p.value).then(v,g)}m((l=l.apply(r,n||[])).next())})}const z0=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class sd extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class M0 extends sd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class pv extends sd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class bv extends sd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Vc;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Vc||(Vc={}));class B0{constructor(n,{headers:i={},customFetch:l,region:u=Vc.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=z0(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return k0(this,arguments,void 0,function*(i,l={}){var u;let d,f;try{const{headers:v,method:g,body:m,signal:p,timeout:b}=l;let _={},{region:E}=l;E||(E=this.region);const j=new URL(`${this.url}/${i}`);E&&E!=="any"&&(_["x-region"]=E,j.searchParams.set("forceFunctionRegion",E));let C;m&&(v&&!Object.prototype.hasOwnProperty.call(v,"Content-Type")||!v)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",C=m):typeof m=="string"?(_["Content-Type"]="text/plain",C=m):typeof FormData<"u"&&m instanceof FormData?C=m:(_["Content-Type"]="application/json",C=JSON.stringify(m)):m&&typeof m!="string"&&!(typeof Blob<"u"&&m instanceof Blob)&&!(m instanceof ArrayBuffer)&&!(typeof FormData<"u"&&m instanceof FormData)?C=JSON.stringify(m):C=m;let U=p;b&&(f=new AbortController,d=setTimeout(()=>f.abort(),b),p?(U=f.signal,p.addEventListener("abort",()=>f.abort())):U=f.signal);const $=yield this.fetch(j.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),v),body:C,signal:U}).catch(ee=>{throw new M0(ee)}),L=$.headers.get("x-relay-error");if(L&&L==="true")throw new pv($);if(!$.ok)throw new bv($);let z=((u=$.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),X;return z==="application/json"?X=yield $.json():z==="application/octet-stream"||z==="application/pdf"?X=yield $.blob():z==="text/event-stream"?X=$:z==="multipart/form-data"?X=yield $.formData():X=yield $.text(),{data:X,error:null,response:$}}catch(v){return{data:null,error:v,response:v instanceof bv||v instanceof pv?v.context:void 0}}finally{d&&clearTimeout(d)}})}}var L0=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},q0=class{constructor(r){var n,i;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(i=r.isMaybeSingle)!==null&&i!==void 0?i:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,v=null,g=null,m=d.status,p=d.statusText;if(d.ok){var b,_;if(i.method!=="HEAD"){var E;const $=await d.text();$===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((E=i.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?v=$:v=JSON.parse($))}const C=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),U=(_=d.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");C&&U&&U.length>1&&(g=parseInt(U[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,g=null,m=406,p="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{var j;const C=await d.text();try{f=JSON.parse(C),Array.isArray(f)&&d.status===404&&(v=[],f=null,m=200,p="OK")}catch{d.status===404&&C===""?(m=204,p="No Content"):f={message:C}}if(f&&i.isMaybeSingle&&(!(f==null||(j=f.details)===null||j===void 0)&&j.includes("0 rows"))&&(f=null,m=200,p="OK"),f&&i.shouldThrowOnError)throw new L0(f)}return{error:f,data:v,count:g,status:m,statusText:p}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let v="";const g=d?.cause;if(g){var m,p,b,_;const j=(m=g?.message)!==null&&m!==void 0?m:"",C=(p=g?.code)!==null&&p!==void 0?p:"";v=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,v+=`

Caused by: ${(_=g?.name)!==null&&_!==void 0?_:"Error"}: ${j}`,C&&(v+=` (${C})`),g?.stack&&(v+=`
${g.stack}`)}else{var E;v=(E=d?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(r,n)}returns(){return this}overrideTypes(){return this}},H0=class extends q0{select(r){let n=!1;const i=(r??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${r}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${r}`),this}range(r,n,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${r}`),this.url.searchParams.set(d,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var f;const v=[r?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${g}"; options=${v};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const _v=new RegExp("[,()]");var Jr=class extends H0{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&_v.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`in.(${i})`),this}notIn(r,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&_v.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(r,`not.in.(${i})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:i,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(r,`${u}fts${d}.${n}`),this}match(r){return Object.entries(r).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(r,n,i){return this.url.searchParams.append(r,`not.${n}.${i}`),this}or(r,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${r})`),this}filter(r,n,i){return this.url.searchParams.append(r,`${n}.${i}`),this}},$0=class{constructor(r,{headers:n={},schema:i,fetch:l}){this.url=r,this.headers=new Headers(n),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(r,n){const{head:i=!1,count:l}=n??{},u=i?"HEAD":"GET";let d=!1;const f=(r??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join(""),{url:v,headers:g}=this.cloneRequestState();return v.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new Jr({method:u,url:v,headers:g,schema:this.schema,fetch:this.fetch})}insert(r,{count:n,defaultToNull:i=!0}={}){var l;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(r)){const v=r.reduce((g,m)=>g.concat(Object.keys(m)),[]);if(v.length>0){const g=[...new Set(v)].map(m=>`"${m}"`);d.searchParams.set("columns",g.join(","))}}return new Jr({method:u,url:d,headers:f,schema:this.schema,body:r,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(r,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:u=!0}={}){var d;const f="POST",{url:v,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&v.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),u||g.append("Prefer","missing=default"),Array.isArray(r)){const m=r.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(m.length>0){const p=[...new Set(m)].map(b=>`"${b}"`);v.searchParams.set("columns",p.join(","))}}return new Jr({method:f,url:v,headers:g,schema:this.schema,body:r,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(r,{count:n}={}){var i;const l="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Jr({method:l,url:u,headers:d,schema:this.schema,body:r,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:r}={}){var n;const i="DELETE",{url:l,headers:u}=this.cloneRequestState();return r&&u.append("Prefer",`count=${r}`),new Jr({method:i,url:l,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},G0=class rm{constructor(n,{headers:i={},schema:l,fetch:u}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $0(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new rm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:u=!1,count:d}={}){var f;let v;const g=new URL(`${this.url}/rpc/${n}`);let m;const p=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(p)),b=l&&Object.values(i).some(p);b?(v="POST",m=i):l||u?(v=l?"HEAD":"GET",Object.entries(i).filter(([E,j])=>j!==void 0).map(([E,j])=>[E,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([E,j])=>{g.searchParams.append(E,j)})):(v="POST",m=i);const _=new Headers(this.headers);return b?_.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&_.set("Prefer",`count=${d}`),new Jr({method:v,url:g,headers:_,schema:this.schemaName,body:m,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class V0{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const u=l.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Y0="2.91.0",K0=`realtime-js/${Y0}`,I0="1.0.0",im="2.0.0",wv=im,Yc=1e4,X0=1e3,Q0=100;var Oa;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Oa||(Oa={}));var it;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(it||(it={}));var _n;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(_n||(_n={}));var Kc;(function(r){r.websocket="websocket"})(Kc||(Kc={}));var Fa;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Fa||(Fa={}));class J0{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var u,d;const f=n.topic,v=(u=n.ref)!==null&&u!==void 0?u:"",g=(d=n.join_ref)!==null&&d!==void 0?d:"",m=n.payload.event,p=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(p).length===0?"":JSON.stringify(p);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`ref length ${v.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+v.length+f.length+m.length+b.length,E=new ArrayBuffer(this.HEADER_LENGTH+_);let j=new DataView(E),C=0;j.setUint8(C++,this.KINDS.userBroadcastPush),j.setUint8(C++,g.length),j.setUint8(C++,v.length),j.setUint8(C++,f.length),j.setUint8(C++,m.length),j.setUint8(C++,b.length),j.setUint8(C++,i),Array.from(g,$=>j.setUint8(C++,$.charCodeAt(0))),Array.from(v,$=>j.setUint8(C++,$.charCodeAt(0))),Array.from(f,$=>j.setUint8(C++,$.charCodeAt(0))),Array.from(m,$=>j.setUint8(C++,$.charCodeAt(0))),Array.from(b,$=>j.setUint8(C++,$.charCodeAt(0)));var U=new Uint8Array(E.byteLength+l.byteLength);return U.set(new Uint8Array(E),0),U.set(new Uint8Array(l),E.byteLength),U.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,d,f,v,g]=l;return i({join_ref:u,ref:d,topic:f,event:v,payload:g})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,i,u)}_decodeUserBroadcast(n,i,l){const u=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),v=i.getUint8(4);let g=this.HEADER_LENGTH+4;const m=l.decode(n.slice(g,g+u));g=g+u;const p=l.decode(n.slice(g,g+d));g=g+d;const b=l.decode(n.slice(g,g+f));g=g+f;const _=n.slice(g,n.byteLength),E=v===this.JSON_ENCODING?JSON.parse(l.decode(_)):_,j={type:this.BROADCAST_EVENT,event:p,payload:E};return f>0&&(j.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:j}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class sm{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Le||(Le={}));const Sv=(r,n,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=Z0(f,r,n,u),d),{}):{}},Z0=(r,n,i,l)=>{const u=n.find(v=>v.name===r),d=u?.type,f=i[r];return d&&!l.includes(d)?lm(d,f):Ic(f)},lm=(r,n)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return eb(n,i)}switch(r){case Le.bool:return W0(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return P0(n);case Le.json:case Le.jsonb:return F0(n);case Le.timestamp:return tb(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Ic(n);default:return Ic(n)}},Ic=r=>r,W0=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},P0=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},F0=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},eb=(r,n)=>{if(typeof r!="string")return r;const i=r.length-1,l=r[i];if(r[0]==="{"&&l==="}"){let d;const f=r.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(v=>lm(n,v))}return r},tb=r=>typeof r=="string"?r.replace(" ","T"):r,om=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class jc{constructor(n,i,l={},u=Yc){this.channel=n,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Ev;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Ev||(Ev={}));class ts{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,u,d,f),this.pendingDiffs.forEach(g=>{this.state=ts.syncDiff(this.state,g,d,f)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=ts.syncDiff(this.state,u,d,f),v())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,u){const d=this.cloneDeep(n),f=this.transformState(i),v={},g={};return this.map(d,(m,p)=>{f[m]||(g[m]=p)}),this.map(f,(m,p)=>{const b=d[m];if(b){const _=p.map(U=>U.presence_ref),E=b.map(U=>U.presence_ref),j=p.filter(U=>E.indexOf(U.presence_ref)<0),C=b.filter(U=>_.indexOf(U.presence_ref)<0);j.length>0&&(v[m]=j),C.length>0&&(g[m]=C)}else v[m]=p}),this.syncDiff(d,{joins:v,leaves:g},l,u)}static syncDiff(n,i,l,u){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(v,g)=>{var m;const p=(m=n[v])!==null&&m!==void 0?m:[];if(n[v]=this.cloneDeep(g),p.length>0){const b=n[v].map(E=>E.presence_ref),_=p.filter(E=>b.indexOf(E.presence_ref)<0);n[v].unshift(..._)}l(v,p,g)}),this.map(f,(v,g)=>{let m=n[v];if(!m)return;const p=g.map(b=>b.presence_ref);m=m.filter(b=>p.indexOf(b.presence_ref)<0),n[v]=m,u(v,m,g),m.length===0&&delete n[v]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const u=n[l];return"metas"in u?i[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(xv||(xv={}));var ns;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ns||(ns={}));var ea;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ea||(ea={}));class Pr{constructor(n,i={config:{}},l){var u,d;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,_n.join,this.params,this.timeout),this.rejoinTimer=new sm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(f,v)=>{this._trigger(this._replyEventName(v),f)}),this.presence=new ts(this),this.broadcastEndpointURL=om(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:f,presence:v,private:g}}=this.params,m=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(E=>E.filter))!==null&&u!==void 0?u:[],p=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},_={broadcast:f,presence:Object.assign(Object.assign({},v),{enabled:p}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(ea.CHANNEL_ERROR,E)),this._onClose(()=>n?.(ea.CLOSED)),this.updateJoinPayload(Object.assign({config:_},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:E})=>{var j;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(ea.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,U=(j=C?.length)!==null&&j!==void 0?j:0,$=[];for(let L=0;L<U;L++){const z=C[L],{filter:{event:X,schema:ee,table:Q,filter:K}}=z,ne=E&&E[L];if(ne&&ne.event===X&&Pr.isFilterValueEqual(ne.schema,ee)&&Pr.isFilterValueEqual(ne.table,Q)&&Pr.isFilterValueEqual(ne.filter,K))$.push(Object.assign(Object.assign({},z),{id:ne.id}));else{this.unsubscribe(),this.state=it.errored,n?.(ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,n&&n(ea.SUBSCRIBED);return}}).receive("error",E=>{this.state=it.errored,n?.(ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===it.joined&&n===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},v=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(v.status===202)return{success:!0};let g=v.statusText;try{const m=await v.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(n,i={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,v={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(v.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:v,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=m.body)===null||u===void 0?void 0:u.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,v,g;const m=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(v=(f=this.params)===null||f===void 0?void 0:f.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&d("ok"),m.receive("ok",()=>d("ok")),m.receive("error",()=>d("error")),m.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=it.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new jc(this,_n.leave,{},n),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,n,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Q0){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var u,d;const f=n.toLocaleLowerCase(),{close:v,error:g,leave:m,join:p}=_n;if(l&&[v,g,m,p].indexOf(f)>=0&&l!==this._joinRef())return;let _=this._onMessage(f,i,l);if(i&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(E=>{var j,C,U;return((j=E.filter)===null||j===void 0?void 0:j.event)==="*"||((U=(C=E.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(E=>E.callback(_,l)):(d=this.bindings[f])===null||d===void 0||d.filter(E=>{var j,C,U,$,L,z,X,ee;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const Q=E.id,K=(j=E.filter)===null||j===void 0?void 0:j.event;return Q&&((C=i.ids)===null||C===void 0?void 0:C.includes(Q))&&(K==="*"||K?.toLocaleLowerCase()===((U=i.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!(($=E.filter)===null||$===void 0)&&$.table)||E.filter.table===((L=i.data)===null||L===void 0?void 0:L.table))}else{const Q=(X=(z=E?.filter)===null||z===void 0?void 0:z.event)===null||X===void 0?void 0:X.toLocaleLowerCase();return Q==="*"||Q===((ee=i?.event)===null||ee===void 0?void 0:ee.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof _=="object"&&"ids"in _){const j=_.data,{schema:C,table:U,commit_timestamp:$,type:L,errors:z}=j;_=Object.assign(Object.assign({},{schema:C,table:U,commit_timestamp:$,eventType:L,new:{},old:{},errors:z}),this._getPayloadRecords(j))}E.callback(_,l)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const u=n.toLocaleLowerCase(),d={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Pr.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(_n.close,{},n)}_onError(n){this._on(_n.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=Sv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=Sv(n.columns,n.old_record)),i}}const Dc=()=>{},Bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nb=[1e3,2e3,5e3,1e4],ab=1e4,rb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ib{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yc,this.transport=null,this.heartbeatIntervalMs=Bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dc,this.ref=0,this.reconnectTimer=null,this.vsn=wv,this.logger=Dc,this.conn=null,this.sendBuffer=[],this.serializer=new J0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${Kc.websocket}`,this.httpEndpoint=om(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V0.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return Fa.Connecting;case Oa.open:return Fa.Open;case Oa.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Pr(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:l,payload:u,ref:d}=n,f=()=>{this.encode(n,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${i} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(X0,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const m=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",m)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:d,ref:f}=i,v=f?`(${f})`:"",g=d.status||"";this.log("receive",`${g} ${l} ${u} ${v}`.trim(),d),this.channels.filter(m=>m._isMember(l)).forEach(m=>m._trigger(u,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Oa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Oa.open||this.conn.readyState===Oa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(_n.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${l}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([rb],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:K0};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(_n.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new sm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,u,d,f,v,g,m,p,b,_,E;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Yc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:Bl.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(v=n?.heartbeatCallback)!==null&&v!==void 0?v:Dc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:wv,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(j=>nb[j-1]||ab),this.vsn){case I0:this.encode=(p=n?.encode)!==null&&p!==void 0?p:((j,C)=>C(JSON.stringify(j))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((j,C)=>C(JSON.parse(j)));break;case im:this.encode=(_=n?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ss=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sb(r,n,i){const l=new URL(n,r);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function lb(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function ob(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:u,body:d,headers:f}){const v=sb(r.baseUrl,l,u),g=await lb(r.auth),m=await n(v,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...g,...f},body:d?JSON.stringify(d):void 0}),p=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),_=b&&p?JSON.parse(p):p;if(!m.ok){const E=b?_:void 0,j=E?.error;throw new ss(j?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:j?.type,icebergCode:j?.code,details:E})}return{status:m.status,headers:m.headers,data:_}}}}function Ll(r){return r.join("")}var ub=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:Ll(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(r,n){const i={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ll(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ll(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ll(r.namespace)}`}),!0}catch(n){if(n instanceof ss&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(i){if(i instanceof ss&&i.status===409)return;throw i}}};function Vr(r){return r.join("")}var cb=class{constructor(r,n="",i){this.client=r,this.prefix=n,this.accessDelegation=i}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(r,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vr(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(i){if(i instanceof ss&&i.status===404)return!1;throw i}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(i){if(i instanceof ss&&i.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw i}}},db=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const i=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=ob({baseUrl:i,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new ub(this.client,n),this.tableOps=new cb(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},to=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ve(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var fb=class extends to{constructor(r,n,i){super(r),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xc=class extends to{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}};const ld=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),hb=()=>Response,Qc=r=>{if(Array.isArray(r))return r.map(i=>Qc(i));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=Qc(l)}),n},gb=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},vb=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ls(r){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ls(r)}function mb(r,n){if(ls(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(ls(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function yb(r){var n=mb(r,"string");return ls(n)=="symbol"?n:n+""}function pb(r,n,i){return(n=yb(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Tv(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,l)}return i}function de(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Tv(Object(i),!0).forEach(function(l){pb(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Tv(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const Nc=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},bb=async(r,n,i)=>{r instanceof await hb()&&!i?.noResolveJson?r.json().then(l=>{const u=r.status||500,d=l?.statusCode||u+"";n(new fb(Nc(l),u,d))}).catch(l=>{n(new Xc(Nc(l),l))}):n(new Xc(Nc(r),r))},_b=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"||!l?u:(gb(l)?(u.headers=de({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),de(de({},u),i))};async function vs(r,n,i,l,u,d){return new Promise((f,v)=>{r(i,_b(n,l,u,d)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>bb(g,v,l))})}async function os(r,n,i,l){return vs(r,"GET",n,i,l)}async function bn(r,n,i,l,u){return vs(r,"POST",n,l,u,i)}async function Jc(r,n,i,l,u){return vs(r,"PUT",n,l,u,i)}async function wb(r,n,i,l){return vs(r,"HEAD",n,de(de({},i),{},{noResolveJson:!0}),l)}async function od(r,n,i,l,u){return vs(r,"DELETE",n,l,u,i)}var Sb=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};let um;um=Symbol.toStringTag;var Eb=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[um]="BlobDownloadBuilder",this.promise=null}asStream(){return new Sb(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};const xb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Av={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tb=class{constructor(r,n={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=i,this.fetch=ld(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,n,i,l){var u=this;try{let d;const f=de(de({},Av),l);let v=de(de({},u.headers),r==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),g&&d.append("metadata",u.encodeMetadata(g)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),g&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(g))):(d=i,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType,g&&(v["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(v=de(de({},v),l.headers));const m=u._removeEmptyFolders(n),p=u._getFinalPath(m),b=await(r=="PUT"?Jc:bn)(u.fetch,`${u.url}/object/${p}`,d,de({headers:v},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Ve(d))return{data:null,error:d};throw d}}async upload(r,n,i){return this.uploadOrUpdate("POST",r,n,i)}async uploadToSignedUrl(r,n,i,l){var u=this;const d=u._removeEmptyFolders(r),f=u._getFinalPath(d),v=new URL(u.url+`/object/upload/sign/${f}`);v.searchParams.set("token",n);try{let g;const m=de({upsert:Av.upsert},l),p=de(de({},u.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,p["cache-control"]=`max-age=${m.cacheControl}`,p["content-type"]=m.contentType),{data:{path:d,fullPath:(await Jc(u.fetch,v.toString(),g,{headers:p})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if(Ve(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(r,n){var i=this;try{let l=i._getFinalPath(r);const u=de({},i.headers);n?.upsert&&(u["x-upsert"]="true");const d=await bn(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(i.url+d.url),v=f.searchParams.get("token");if(!v)throw new to("No token returned by API");return{data:{signedUrl:f.toString(),path:r,token:v},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async update(r,n,i){return this.uploadOrUpdate("PUT",r,n,i)}async move(r,n,i){var l=this;try{return{data:await bn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async copy(r,n,i){var l=this;try{return{data:{path:(await bn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:r,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async createSignedUrl(r,n,i){var l=this;try{let u=l._getFinalPath(r),d=await bn(l.fetch,`${l.url}/object/sign/${u}`,de({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async createSignedUrls(r,n,i){var l=this;try{const u=await bn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:r},{headers:l.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(f=>de(de({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}download(r,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(r),f=()=>os(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new Eb(f,this.shouldThrowOnError)}async info(r){var n=this;const i=n._getFinalPath(r);try{return{data:Qc(await os(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async exists(r){var n=this;const i=n._getFinalPath(r);try{return await wb(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l)&&l instanceof Xc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(r,n){const i=this._getFinalPath(r),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${v}`)}}}async remove(r){var n=this;try{return{data:await od(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async list(r,n,i){var l=this;try{const u=de(de(de({},xb),n),{},{prefix:r||""});return{data:await bn(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},i),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}}async listV2(r,n){var i=this;try{const l=de({},r);return{data:await bn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const cm="2.91.0",dm={"X-Client-Info":`storage-js/${cm}`};var Ab=class{constructor(r,n={},i,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=de(de({},dm),n),this.fetch=ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var n=this;try{const i=n.listBucketOptionsToQueryString(r);return{data:await os(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async getBucket(r){var n=this;try{return{data:await os(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async createBucket(r,n={public:!1}){var i=this;try{return{data:await bn(i.fetch,`${i.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async updateBucket(r,n){var i=this;try{return{data:await Jc(i.fetch,`${i.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async emptyBucket(r){var n=this;try{return{data:await bn(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await od(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Ob=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},dm),n),this.fetch=ld(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await bn(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async listBuckets(r){var n=this;try{const i=new URLSearchParams;r?.limit!==void 0&&i.set("limit",r.limit.toString()),r?.offset!==void 0&&i.set("offset",r.offset.toString()),r?.sortColumn&&i.set("sortColumn",r.sortColumn),r?.sortOrder&&i.set("sortOrder",r.sortOrder),r?.search&&i.set("search",r.search);const l=i.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await os(n.fetch,u,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await od(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}}from(r){var n=this;if(!vb(r))throw new to("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new db({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...v)=>{try{return{data:await f.apply(u,v),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const ud={"X-Client-Info":`storage-js/${cm}`,"Content-Type":"application/json"};var fm=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Xt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var Uc=class extends fm{constructor(r,n,i){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Rb=class extends fm{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}};const cd=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),Cb=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ov=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),jb=async(r,n,i)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const l=r.status||500,u=r;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||l+"";n(new Uc(Ov(d),l,f))}).catch(()=>{const d=l+"";n(new Uc(u.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";n(new Uc(u.statusText||`HTTP ${l} error`,l,d))}}else n(new Rb(Ov(r),r))},Db=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return l?(Cb(l)?(u.headers=de({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,de(de({},u),i)):u};async function Nb(r,n,i,l,u,d){return new Promise((f,v)=>{r(i,Db(n,l,u,d)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>jb(g,v,l))})}async function Qt(r,n,i,l,u){return Nb(r,"POST",n,l,u,i)}var Ub=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},ud),n),this.fetch=cd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async getIndex(r,n){var i=this;try{return{data:await Qt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Xt(l))return{data:null,error:l};throw l}}async listIndexes(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async deleteIndex(r,n){var i=this;try{return{data:await Qt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Xt(l))return{data:null,error:l};throw l}}},kb=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},ud),n),this.fetch=cd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var n=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Qt(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async getVectors(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async listVectors(r){var n=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Qt(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async queryVectors(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async deleteVectors(r){var n=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Qt(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}},zb=class{constructor(r,n={},i){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=de(de({},ud),n),this.fetch=cd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async getBucket(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async listBuckets(r={}){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}async deleteBucket(r){var n=this;try{return{data:await Qt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Xt(i))return{data:null,error:i};throw i}}},Mb=class extends zb{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new Bb(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,i=this;return n().call(i,r)}async getBucket(r){var n=()=>super.getBucket,i=this;return n().call(i,r)}async listBuckets(r={}){var n=()=>super.listBuckets,i=this;return n().call(i,r)}async deleteBucket(r){var n=()=>super.deleteBucket,i=this;return n().call(i,r)}},Bb=class extends Ub{constructor(r,n,i,l){super(r,n,l),this.vectorBucketName=i}async createIndex(r){var n=()=>super.createIndex,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,r)}index(r){return new Lb(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Lb=class extends kb{constructor(r,n,i,l,u){super(r,n,u),this.vectorBucketName=i,this.indexName=l}async putVectors(r){var n=()=>super.putVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(r){var n=()=>super.getVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,i=this;return n().call(i,de(de({},r),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},qb=class extends Ab{constructor(r,n={},i,l){super(r,n,i,l)}from(r){return new Tb(this.url,this.headers,r,this.fetch)}get vectors(){return new Mb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ob(this.url+"/iceberg",this.headers,this.fetch)}};const hm="2.91.0",Zr=30*1e3,Zc=3,kc=Zc*Zr,Hb="http://localhost:9999",$b="supabase.auth.token",Gb={"X-Client-Info":`gotrue-js/${hm}`},Wc="X-Supabase-Api-Version",gm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yb=600*1e3;class us extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function ie(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class Kb extends us{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Ib(r){return ie(r)&&r.name==="AuthApiError"}class er extends us{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class ta extends us{constructor(n,i,l,u){super(n,l,u),this.name=i,this.status=l}}class It extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xb(r){return ie(r)&&r.name==="AuthSessionMissingError"}class Yr extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ql extends ta{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Hl extends ta{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qb(r){return ie(r)&&r.name==="AuthImplicitGrantRedirectError"}class Rv extends ta{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jb extends ta{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pc extends ta{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function zc(r){return ie(r)&&r.name==="AuthRetryableFetchError"}class Cv extends ta{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class Fc extends ta{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Il="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jv=` 	
\r=`.split(""),Zb=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<jv.length;n+=1)r[jv[n].charCodeAt(0)]=-2;for(let n=0;n<Il.length;n+=1)r[Il[n].charCodeAt(0)]=n;return r})();function Dv(r,n,i){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Il[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(Il[l]),n.queuedBits-=6}}function vm(r,n,i){const l=Zb[r];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Nv(r){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{Fb(f,l,i)};for(let f=0;f<r.length;f+=1)vm(r.charCodeAt(f),u,d);return n.join("")}function Wb(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Pb(r,n){for(let i=0;i<r.length;i+=1){let l=r.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(r.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}Wb(l,n)}}function Fb(r,n,i){if(n.utf8seq===0){if(r<=127){i(r);return}for(let l=1;l<6;l+=1)if((r>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Fr(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<r.length;u+=1)vm(r.charCodeAt(u),i,l);return new Uint8Array(n)}function e_(r){const n=[];return Pb(r,i=>n.push(i)),new Uint8Array(n)}function tr(r){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};return r.forEach(u=>Dv(u,i,l)),Dv(null,i,l),n.join("")}function t_(r){return Math.round(Date.now()/1e3)+r}function n_(){return Symbol("auth-callback")}const bt=()=>typeof window<"u"&&typeof document<"u",Za={tested:!1,writable:!1},mm=()=>{if(!bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Za.tested)return Za.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Za.tested=!0,Za.writable=!0}catch{Za.tested=!0,Za.writable=!1}return Za.writable};function a_(r){const n={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return i.searchParams.forEach((l,u)=>{n[u]=l}),n}const ym=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),r_=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Wr=async(r,n,i)=>{await r.setItem(n,JSON.stringify(i))},Wa=async(r,n)=>{const i=await r.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},pt=async(r,n)=>{await r.removeItem(n)};class no{constructor(){this.promise=new no.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}no.promiseConstructor=Promise;function Mc(r){const n=r.split(".");if(n.length!==3)throw new Fc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Vb.test(n[l]))throw new Fc("JWT not in base64url format");return{header:JSON.parse(Nv(n[0])),payload:JSON.parse(Nv(n[1])),signature:Fr(n[2]),raw:{header:n[0],payload:n[1]}}}async function i_(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function s_(r,n){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await r(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){u(f);return}}})()})}function l_(r){return("0"+r.toString(16)).substr(-2)}function o_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,l_).join("")}async function u_(r){const i=new TextEncoder().encode(r),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function c_(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await u_(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kr(r,n,i=!1){const l=o_();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await Wr(r,`${n}-code-verifier`,u);const d=await c_(l);return[d,l===d?"plain":"s256"]}const d_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f_(r){const n=r.headers.get(Wc);if(!n||!n.match(d_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function h_(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function g_(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(r){if(!v_.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bc(){const r={};return new Proxy(r,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function m_(r,n){return new Proxy(r,{get:(i,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,u)}})}function Uv(r){return JSON.parse(JSON.stringify(r))}const Pa=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),y_=[502,503,504];async function kv(r){var n;if(!r_(r))throw new Pc(Pa(r),0);if(y_.includes(r.status))throw new Pc(Pa(r),r.status);let i;try{i=await r.json()}catch(d){throw new er(Pa(d),d)}let l;const u=f_(r);if(u&&u.getTime()>=gm["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new Cv(Pa(i),r.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new It}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Cv(Pa(i),r.status,i.weak_password.reasons);throw new Kb(Pa(i),r.status||500,l)}const p_=(r,n,i,l)=>{const u={method:r,headers:n?.headers||{}};return r==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function ce(r,n,i,l){var u;const d=Object.assign({},l?.headers);d[Wc]||(d[Wc]=gm["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const v=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await b_(r,n,i+v,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function b_(r,n,i,l,u,d){const f=p_(n,l,u,d);let v;try{v=await r(i,Object.assign({},f))}catch(g){throw console.error(g),new Pc(Pa(g),0)}if(v.ok||await kv(v),l?.noResolveJson)return v;try{return await v.json()}catch(g){await kv(g)}}function pn(r){var n;let i=null;S_(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=t_(r.expires_in)));const l=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:i,user:l},error:null}}function zv(r){const n=pn(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=r.weak_password),n}function Ca(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function __(r){return{data:r,error:null}}function w_(r){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d}=r,f=eo(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d},g=Object.assign({},f);return{data:{properties:v,user:g},error:null}}function Mv(r){return r}function S_(r){return r.access_token&&r.refresh_token&&r.expires_in}const Lc=["global","local","others"];class E_{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=ym(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Lc[0]){if(Lc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lc.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ie(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Ca})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=eo(n,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:w_,redirectTo:i?.redirectTo})}catch(i){if(ie(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ca})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,u,d,f,v,g;try{const m={nextPage:null,lastPage:0,total:0},p=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Mv});if(p.error)throw p.error;const b=await p.json(),_=(f=p.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(v=p.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(j=>{const C=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(j.split(";")[1].split("=")[1]);m[`${U}Page`]=C}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ie(m))return{data:{users:[]},error:m};throw m}}async getUserById(n){Ir(n);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ca})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){Ir(n);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:Ca})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){Ir(n);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:Ca})}catch(l){if(ie(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Ir(n.userId);try{const{data:i,error:l}=await ce(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteFactor(n){Ir(n.userId),Ir(n.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,u,d,f,v,g;try{const m={nextPage:null,lastPage:0,total:0},p=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Mv});if(p.error)throw p.error;const b=await p.json(),_=(f=p.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(g=(v=p.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(j=>{const C=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(j.split(";")[1].split("=")[1]);m[`${U}Page`]=C}),m.total=parseInt(_)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(ie(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ie(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}}function Bv(r={}){return{getItem:n=>r[n]||null,setItem:(n,i)=>{r[n]=i},removeItem:n=>{delete r[n]}}}const Xr={debug:!!(globalThis&&mm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class x_ extends pm{}async function T_(r,n,i){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,u.name);try{return await i()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,u.name)}}else{if(n===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new x_(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Xr.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function A_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bm(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function O_(r){return parseInt(r,16)}function R_(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function C_(r){var n;const{chainId:i,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:v,requestId:g,resources:m,scheme:p,uri:b,version:_}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const E=bm(r.address),j=p?`${p}://${l}`:l,C=r.statement?`${r.statement}
`:"",U=`${j} wants you to sign in with your Ethereum account:
${E}

${C}`;let $=`URI: ${b}
Version: ${_}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&($+=`
Expiration Time: ${u.toISOString()}`),v&&($+=`
Not Before: ${v.toISOString()}`),g&&($+=`
Request ID: ${g}`),m){let L=`
Resources:`;for(const z of m){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);L+=`
- ${z}`}$+=L}return`${U}
${$}`}class nt extends Error{constructor({message:n,code:i,cause:l,name:u}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Xl extends nt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function j_({error:r,options:n}){var i,l,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return d.pubKeyCredParams.filter(v=>v.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const f=window.location.hostname;if(_m(f)){if(d.rp.id!==f)return new nt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function D_({error:r,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new nt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const l=window.location.hostname;if(_m(l)){if(i.rpId!==l)return new nt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class N_{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const U_=new N_;function k_(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:i,excludeCredentials:l}=r,u=eo(r,["challenge","user","excludeCredentials"]),d=Fr(n).buffer,f=Object.assign(Object.assign({},i),{id:Fr(i.id).buffer}),v=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){v.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const m=l[g];v.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:Fr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return v}function z_(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:i}=r,l=eo(r,["challenge","allowCredentials"]),u=Fr(n).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const v=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},v),{id:Fr(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return d}function M_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:tr(new Uint8Array(r.response.attestationObject)),clientDataJSON:tr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function B_(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,l=r.getClientExtensionResults(),u=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:tr(new Uint8Array(u.authenticatorData)),clientDataJSON:tr(new Uint8Array(u.clientDataJSON)),signature:tr(new Uint8Array(u.signature)),userHandle:u.userHandle?tr(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function _m(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Lv(){var r,n;return!!(bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function L_(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",n)}:{data:null,error:new Xl("Empty credential response",n)}}catch(n){return{data:null,error:j_({error:n,options:r})}}}async function q_(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",n)}:{data:null,error:new Xl("Empty credential response",n)}}catch(n){return{data:null,error:D_({error:n,options:r})}}}const H_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ql(...r){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of r)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(i(f))l[d]=f;else if(n(f)){const v=l[d];n(v)?l[d]=Ql(v,f):l[d]=Ql(f)}else l[d]=f}return l}function G_(r,n){return Ql(H_,r,n||{})}function V_(r,n){return Ql($_,r,n||{})}class Y_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:u},d){try{const{data:f,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:v};const g=u??U_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:m}=f.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${l}`),m.displayName||(m.displayName=m.name)}switch(f.webauthn.type){case"create":{const m=G_(f.webauthn.credential_options.publicKey,d?.create),{data:p,error:b}=await L_({publicKey:m,signal:g});return p?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}case"request":{const m=V_(f.webauthn.credential_options.publicKey,d?.request),{data:p,error:b}=await q_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:m,signal:g}));return p?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}}}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new er("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new us("rpId is required for WebAuthn authentication")};try{if(!Lv())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:f,error:v}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:v};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new er("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new us("rpId is required for WebAuthn registration")};try{if(!Lv())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:f,error:v}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===n&&_.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:v};const{data:g,error:m}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:u},{create:d});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(f){return ie(f)?{data:null,error:f}:{data:null,error:new er("Unexpected error in register",f)}}}}A_();const K_={url:Hb,storageKey:$b,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qv(r,n,i){return await i()}const Qr={};class cs{get jwks(){var n,i;return(i=(n=Qr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=Qr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Qr[this.storageKey]=Object.assign(Object.assign({},Qr[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},K_),n);if(this.storageKey=d.storageKey,this.instanceID=(i=cs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,cs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&bt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new E_({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=ym(d.fetch),this.lock=d.lock||qv,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&bt()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=T_:this.lock=qv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:mm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Bv(this.memoryStorage)),bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(bt()&&(i=a_(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),bt()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Qb(d)){const g=(n=d.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:v}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",v),await this._saveSession(f),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ie(i)?this._returnResult({error:i}):this._returnResult({error:new er("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,u;try{const d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:pn}),{data:f,error:v}=d;if(v||!f)return this._returnResult({data:{user:null,session:null},error:v});const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(d){if(ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,l,u;try{let d;if("email"in n){const{email:p,password:b,options:_}=n;let E=null,j=null;this.flowType==="pkce"&&([E,j]=await Kr(this.storage,this.storageKey)),d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:p,password:b,data:(i=_?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:E,code_challenge_method:j},xform:pn})}else if("phone"in n){const{phone:p,password:b,options:_}=n;d=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(l=_?.data)!==null&&l!==void 0?l:{},channel:(u=_?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:pn})}else throw new ql("You must provide either an email or phone number and a password");const{data:f,error:v}=d;if(v||!f)return await pt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:v});const g=f.session,m=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:f,options:v}=n;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:zv})}else if("phone"in n){const{phone:d,password:f,options:v}=n;i=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:zv})}else throw new ql("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Yr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,u,d,f,v,g,m,p,b,_;let E,j;if("message"in n)E=n.message,j=n.signature;else{const{chain:C,wallet:U,statement:$,options:L}=n;let z;if(bt())if(typeof U=="object")z=U;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")z=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!L?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=U}const X=new URL((i=L?.url)!==null&&i!==void 0?i:window.location.href),ee=await z.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=bm(ee[0]);let K=(l=L?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const fe=await z.request({method:"eth_chainId"});K=O_(fe)}const ne={domain:X.host,address:Q,statement:$,uri:X.href,version:"1",chainId:K,nonce:(u=L?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=L?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(v=L?.signInWithEthereum)===null||v===void 0?void 0:v.expirationTime,notBefore:(g=L?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=L?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(p=L?.signInWithEthereum)===null||p===void 0?void 0:p.resources};E=C_(ne),j=await z.request({method:"personal_sign",params:[R_(E),Q]})}try{const{data:C,error:U}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:j},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=n.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:pn});if(U)throw U;if(!C||!C.session||!C.user){const $=new Yr;return this._returnResult({data:{user:null,session:null},error:$})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:U})}catch(C){if(ie(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(n){var i,l,u,d,f,v,g,m,p,b,_,E;let j,C;if("message"in n)j=n.message,C=n.signature;else{const{chain:U,wallet:$,statement:L,options:z}=n;let X;if(bt())if(typeof $=="object")X=$;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))X=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");X=$}const ee=new URL((i=z?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in X&&X.signIn){const Q=await X.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),L?{statement:L}:null));let K;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")K=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)K=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)j=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),C=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in X)||typeof X.signMessage!="function"||!("publicKey"in X)||typeof X!="object"||!X.publicKey||!("toBase58"in X.publicKey)||typeof X.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${ee.host} wants you to sign in with your Solana account:`,X.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(u=(l=z?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=z?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((v=z?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((b=(p=z?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...z.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Q=await X.signMessage(new TextEncoder().encode(j),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=Q}}try{const{data:U,error:$}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:tr(C)},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:pn});if($)throw $;if(!U||!U.session||!U.user){const L=new Yr;return this._returnResult({data:{user:null,session:null},error:L})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:$})}catch(U){if(ie(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(n){const i=await Wa(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Jb;const{data:d,error:f}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:pn});if(await pt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const v=new Yr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:v})}return d.session&&(await this._saveSession(d.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",d.session)},0)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:l,token:u,access_token:d,nonce:f}=n,v=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:pn}),{data:g,error:m}=v;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const p=new Yr;return this._returnResult({data:{user:null,session:null},error:p})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,u,d,f;try{if("email"in n){const{email:v,options:g}=n;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Kr(this.storage,this.storageKey));const{error:b}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(i=g?.data)!==null&&i!==void 0?i:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:p},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:v,options:g}=n,{data:m,error:p}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(d=g?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:p})}throw new ql("You must provide either an email or phone number.")}catch(v){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async verifyOtp(n){var i,l;try{let u,d;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:v}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:pn});if(v)throw v;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,m=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,l,u,d,f;try{let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Kr(this.storage,this.storageKey));const m=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:v,code_challenge_method:g}),headers:this.headers,xform:__});return!((d=m.data)===null||d===void 0)&&d.url&&bt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(v){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(v))return this._returnResult({data:null,error:v});throw v}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new It;const{error:u}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:d}=n,{error:f}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:d}=n,{data:f,error:v}=await ce(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:v})}throw new ql("You must provide either an email or phone number and a type")}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Wa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Wa(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Bc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=m_(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ca}):await this._useSession(async i=>{var l,u,d;const{data:f,error:v}=i;if(v)throw v;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Ca})})}catch(i){if(ie(i))return Xb(i)&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new It;const f=u.session;let v=null,g=null;this.flowType==="pkce"&&n.email!=null&&([v,g]=await Kr(this.storage,this.storageKey));const{data:m,error:p}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:v,code_challenge_method:g}),jwt:f.access_token,xform:Ca});if(p)throw p;return f.user=m.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new It;const i=Date.now()/1e3;let l=i,u=!0,d=null;const{payload:f}=Mc(n.access_token);if(f.exp&&(l=f.exp,u=l<=i),u){const{data:v,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!v)return{data:{user:null,session:null},error:null};d=v}else{const{data:v,error:g}=await this._getUser(n.access_token);if(g)throw g;d={access_token:n.access_token,refresh_token:n.refresh_token,user:v.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:v}=i;if(v)throw v;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new It;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!bt())throw new Hl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Hl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Rv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Rv("No code detected.");const{data:L,error:z}=await this._exchangeCodeForSession(n.code);if(z)throw z;const X=new URL(window.location.href);return X.searchParams.delete("code"),window.history.replaceState(window.history.state,"",X.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:v,expires_at:g,token_type:m}=n;if(!d||!v||!f||!m)throw new Hl("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(v);let _=p+b;g&&(_=parseInt(g));const E=_-p;E*1e3<=Zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${b}s`);const j=_-b;p-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,_,p):p-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,_,p);const{data:C,error:U}=await this._getUser(d);if(U)throw U;const $={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:_,refresh_token:f,token_type:m,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:n.type},error:null})}catch(l){if(ie(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Wa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:v}=await this.admin.signOut(f,n);if(v&&!(Ib(v)&&(v.status===404||v.status===401||v.status===403)))return this._returnResult({error:v})}return n!=="others"&&(await this._removeSession(),await pt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=n_(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,u;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Kr(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:u}=await this._useSession(async d=>{var f,v,g,m,p;const{data:b,error:_}=d;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(v=n.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",E,{headers:this.headers,jwt:(p=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&p!==void 0?p:void 0})});if(u)throw u;return bt()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ie(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:f,provider:v,token:g,access_token:m,nonce:p}=n,b=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:v,id_token:g,access_token:m,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:pn}),{data:_,error:E}=b;return E?this._returnResult({data:{user:null,session:null},error:E}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new Yr}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:E}))}catch(u){if(await pt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)throw f;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await s_(async u=>(u>0&&await i_(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:pn})),(u,d)=>{const f=200*Math.pow(2,u);return d&&zc(d)&&Date.now()+f-l<Zr})}catch(l){if(this._debug(i,"error",l),ie(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),bt()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Wa(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Wa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Wr(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Bc()}else if(u&&!u.user&&!u.user){const f=await Wa(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await pt(this.storage,this.storageKey+"-user"),await Wr(this.storage,this.storageKey,u)):u.user=Bc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<kc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${kc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),zc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:v}=await this._getUser(u.access_token);!v&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new no;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new It;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const v={data:d.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(d){if(this._debug(u,"error",d),ie(d)){const f={data:null,error:d};return zc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(n,i)}catch(g){d.push(g)}});if(await Promise.all(f),d.length>0){for(let v=0;v<d.length;v+=1)console.error(d[v]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await pt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await Wr(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=Uv(u);await Wr(this.storage,this.storageKey,d)}else{const u=Uv(i);await Wr(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pt(this.storage,this.storageKey),await pt(this.storage,this.storageKey+"-code-verifier"),await pt(this.storage,this.storageKey+"-user"),this.userStorage&&await pt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Zr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Zr}ms, refresh threshold is ${Zc} ticks`),u<=Zc&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof pm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await Kr(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(v.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await ce(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const v=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:m}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?M_(n.webauthn.credential_response):B_(n.webauthn.credential_response)})}:{code:n.code}),{data:v,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),this._returnResult({data:v,error:g}))})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:v}=f;if(v.type!=="webauthn")return{data:v,error:null};switch(v.webauthn.type){case"create":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:k_(v.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:z_(v.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Mc(l.access_token);let f=null;d.aal&&(f=d.aal);let v=f;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");const m=d.amr||[];return{data:{currentLevel:f,nextLevel:v,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new It})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new It});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:v=>({data:v,error:null})});return f.data&&f.data.redirect_url&&bt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new It});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:v=>({data:v,error:null})});return f.data&&f.data.redirect_url&&bt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new It})})}catch(n){if(ie(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(v=>v.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(v=>v.kid===n),l&&this.jwks_cached_at+Yb>u)return l;const{data:d,error:f}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(v=>v.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:E,error:j}=await this.getSession();if(j||!E.session)return this._returnResult({data:null,error:j});l=E.session.access_token}const{header:u,payload:d,signature:f,raw:{header:v,payload:g}}=Mc(l);i?.allowExpired||h_(d.exp);const m=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!m){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:d,header:u,signature:f},error:null}}const p=g_(u.alg),b=await crypto.subtle.importKey("jwk",m,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,f,e_(`${v}.${g}`)))throw new Fc("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(ie(l))return this._returnResult({data:null,error:l});throw l}}}cs.nextInstanceID={};const I_=cs,X_="2.91.0";let Fi="";typeof Deno<"u"?Fi="deno":typeof document<"u"?Fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Fi="react-native":Fi="node";const Q_={"X-Client-Info":`supabase-js-${Fi}/${X_}`},J_={headers:Q_},Z_={schema:"public"},W_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P_={};function ds(r){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ds(r)}function F_(r,n){if(ds(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var l=i.call(r,n);if(ds(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function ew(r){var n=F_(r,"string");return ds(n)=="symbol"?n:n+""}function tw(r,n,i){return(n=ew(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function Hv(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),i.push.apply(i,l)}return i}function Ie(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Hv(Object(i),!0).forEach(function(l){tw(r,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Hv(Object(i)).forEach(function(l){Object.defineProperty(r,l,Object.getOwnPropertyDescriptor(i,l))})}return r}const nw=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),aw=()=>Headers,rw=(r,n,i)=>{const l=nw(i),u=aw();return async(d,f)=>{var v;const g=(v=await n())!==null&&v!==void 0?v:r;let m=new u(f?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),l(d,Ie(Ie({},f),{},{headers:m}))}};function iw(r){return r.endsWith("/")?r:r+"/"}function sw(r,n){var i,l;const{db:u,auth:d,realtime:f,global:v}=r,{db:g,auth:m,realtime:p,global:b}=n,_={db:Ie(Ie({},g),u),auth:Ie(Ie({},m),d),realtime:Ie(Ie({},p),f),storage:{},global:Ie(Ie(Ie({},b),v),{},{headers:Ie(Ie({},(i=b?.headers)!==null&&i!==void 0?i:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function lw(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(iw(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ow=class extends I_{constructor(r){super(r)}},uw=class{constructor(r,n,i){var l,u;this.supabaseUrl=r,this.supabaseKey=n;const d=lw(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,v={db:Z_,realtime:P_,auth:Ie(Ie({},W_),{},{storageKey:f}),global:J_},g=sw(i??{},v);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(p,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=g.auth)!==null&&m!==void 0?m:{},this.headers,g.global.fetch)}this.fetch=rw(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new G0(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new qb(this.storageUrl.href,this.headers,this.fetch,i?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new B0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,i)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,i;if(r.accessToken)return await r.accessToken();const{data:l}=await r.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:f,lock:v,debug:g,throwOnError:m},p,b){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ow({url:this.authUrl.href,headers:Ie(Ie({},_),p),storageKey:d,autoRefreshToken:r,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,flowType:f,lock:v,debug:g,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new ib(this.realtimeUrl.href,Ie(Ie({},r),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const cw=(r,n,i)=>new uw(r,n,i);function dw(){if(typeof window<"u")return!1;const r=globalThis.process;if(!r)return!1;const n=r.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}dw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fw="https://qikfgxpbqjzmkjjcxgfr.supabase.co",hw="sb_publishable_HbdUBIoK27watmyXGkgTOA_grQpiJRP";console.log("Supabase URL exists:",!0);console.log("Supabase Key exists:",!0);const Xe=cw(fw,hw,{auth:{persistSession:!0,autoRefreshToken:!0}});function gw(){const[r,n]=R.useState(!1),[i,l]=R.useState(""),[u,d]=R.useState(""),[f,v]=R.useState(null),g=async m=>{m.preventDefault(),n(!0),v(null);try{const{error:p}=await Xe.auth.signInWithPassword({email:i,password:u});if(p)throw p}catch(p){v({type:"error",text:p.message||"An error occurred"})}finally{n(!1)}};return S.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4",children:S.jsxs("div",{className:"w-full max-w-md bg-white rounded-lg shadow-md p-8",children:[S.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Budget Workbench"}),S.jsx("p",{className:"text-center text-gray-500 mb-6 text-sm",children:"Please sign in to access your budget."}),S.jsxs("form",{onSubmit:g,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),S.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:i,onChange:m=>l(m.target.value),placeholder:"you@example.com"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),S.jsx("input",{type:"password",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",value:u,onChange:m=>d(m.target.value),placeholder:""})]}),f&&S.jsx("div",{className:`p-3 rounded-md text-sm ${f.type==="success"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.text}),S.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 transition-colors",children:r?"Loading...":"Sign In"})]})]})})}var es=am();function vw(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return R.useMemo(()=>l=>{n.forEach(u=>u(l))},n)}const ao=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ni(r){const n=Object.prototype.toString.call(r);return n==="[object Window]"||n==="[object global]"}function dd(r){return"nodeType"in r}function Bt(r){var n,i;return r?ni(r)?r:dd(r)&&(n=(i=r.ownerDocument)==null?void 0:i.defaultView)!=null?n:window:window}function fd(r){const{Document:n}=Bt(r);return r instanceof n}function ms(r){return ni(r)?!1:r instanceof Bt(r).HTMLElement}function wm(r){return r instanceof Bt(r).SVGElement}function ai(r){return r?ni(r)?r.document:dd(r)?fd(r)?r:ms(r)||wm(r)?r.ownerDocument:document:document:document}const jn=ao?R.useLayoutEffect:R.useEffect;function hd(r){const n=R.useRef(r);return jn(()=>{n.current=r}),R.useCallback(function(){for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return n.current==null?void 0:n.current(...l)},[])}function mw(){const r=R.useRef(null),n=R.useCallback((l,u)=>{r.current=setInterval(l,u)},[]),i=R.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[n,i]}function fs(r,n){n===void 0&&(n=[r]);const i=R.useRef(r);return jn(()=>{i.current!==r&&(i.current=r)},n),i}function ys(r,n){const i=R.useRef();return R.useMemo(()=>{const l=r(i.current);return i.current=l,l},[...n])}function Jl(r){const n=hd(r),i=R.useRef(null),l=R.useCallback(u=>{u!==i.current&&n?.(u,i.current),i.current=u},[]);return[i,l]}function ed(r){const n=R.useRef();return R.useEffect(()=>{n.current=r},[r]),n.current}let qc={};function ps(r,n){return R.useMemo(()=>{if(n)return n;const i=qc[r]==null?0:qc[r]+1;return qc[r]=i,r+"-"+i},[r,n])}function Sm(r){return function(n){for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];return l.reduce((d,f)=>{const v=Object.entries(f);for(const[g,m]of v){const p=d[g];p!=null&&(d[g]=p+r*m)}return d},{...n})}}const ei=Sm(1),hs=Sm(-1);function yw(r){return"clientX"in r&&"clientY"in r}function gd(r){if(!r)return!1;const{KeyboardEvent:n}=Bt(r.target);return n&&r instanceof n}function pw(r){if(!r)return!1;const{TouchEvent:n}=Bt(r.target);return n&&r instanceof n}function td(r){if(pw(r)){if(r.touches&&r.touches.length){const{clientX:n,clientY:i}=r.touches[0];return{x:n,y:i}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:n,clientY:i}=r.changedTouches[0];return{x:n,y:i}}}return yw(r)?{x:r.clientX,y:r.clientY}:null}const ti=Object.freeze({Translate:{toString(r){if(!r)return;const{x:n,y:i}=r;return"translate3d("+(n?Math.round(n):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:n,scaleY:i}=r;return"scaleX("+n+") scaleY("+i+")"}},Transform:{toString(r){if(r)return[ti.Translate.toString(r),ti.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:n,duration:i,easing:l}=r;return n+" "+i+"ms "+l}}}),$v="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function bw(r){return r.matches($v)?r:r.querySelector($v)}const _w={display:"none"};function ww(r){let{id:n,value:i}=r;return F.createElement("div",{id:n,style:_w},i)}function Sw(r){let{id:n,announcement:i,ariaLiveType:l="assertive"}=r;const u={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return F.createElement("div",{id:n,style:u,role:"status","aria-live":l,"aria-atomic":!0},i)}function Ew(){const[r,n]=R.useState("");return{announce:R.useCallback(l=>{l!=null&&n(l)},[]),announcement:r}}const Em=R.createContext(null);function xw(r){const n=R.useContext(Em);R.useEffect(()=>{if(!n)throw new Error("useDndMonitor must be used within a children of <DndContext>");return n(r)},[r,n])}function Tw(){const[r]=R.useState(()=>new Set),n=R.useCallback(l=>(r.add(l),()=>r.delete(l)),[r]);return[R.useCallback(l=>{let{type:u,event:d}=l;r.forEach(f=>{var v;return(v=f[u])==null?void 0:v.call(f,d)})},[r]),n]}const Aw={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Ow={onDragStart(r){let{active:n}=r;return"Picked up draggable item "+n.id+"."},onDragOver(r){let{active:n,over:i}=r;return i?"Draggable item "+n.id+" was moved over droppable area "+i.id+".":"Draggable item "+n.id+" is no longer over a droppable area."},onDragEnd(r){let{active:n,over:i}=r;return i?"Draggable item "+n.id+" was dropped over droppable area "+i.id:"Draggable item "+n.id+" was dropped."},onDragCancel(r){let{active:n}=r;return"Dragging was cancelled. Draggable item "+n.id+" was dropped."}};function Rw(r){let{announcements:n=Ow,container:i,hiddenTextDescribedById:l,screenReaderInstructions:u=Aw}=r;const{announce:d,announcement:f}=Ew(),v=ps("DndLiveRegion"),[g,m]=R.useState(!1);if(R.useEffect(()=>{m(!0)},[]),xw(R.useMemo(()=>({onDragStart(b){let{active:_}=b;d(n.onDragStart({active:_}))},onDragMove(b){let{active:_,over:E}=b;n.onDragMove&&d(n.onDragMove({active:_,over:E}))},onDragOver(b){let{active:_,over:E}=b;d(n.onDragOver({active:_,over:E}))},onDragEnd(b){let{active:_,over:E}=b;d(n.onDragEnd({active:_,over:E}))},onDragCancel(b){let{active:_,over:E}=b;d(n.onDragCancel({active:_,over:E}))}}),[d,n])),!g)return null;const p=F.createElement(F.Fragment,null,F.createElement(ww,{id:l,value:u.draggable}),F.createElement(Sw,{id:v,announcement:f}));return i?es.createPortal(p,i):p}var st;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(st||(st={}));function Zl(){}function Wl(r,n){return R.useMemo(()=>({sensor:r,options:n??{}}),[r,n])}function xm(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return R.useMemo(()=>[...n].filter(l=>l!=null),[...n])}const wn=Object.freeze({x:0,y:0});function Tm(r,n){return Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))}function Am(r,n){let{data:{value:i}}=r,{data:{value:l}}=n;return i-l}function Cw(r,n){let{data:{value:i}}=r,{data:{value:l}}=n;return l-i}function Gv(r){let{left:n,top:i,height:l,width:u}=r;return[{x:n,y:i},{x:n+u,y:i},{x:n,y:i+l},{x:n+u,y:i+l}]}function Om(r,n){if(!r||r.length===0)return null;const[i]=r;return i[n]}function Vv(r,n,i){return n===void 0&&(n=r.left),i===void 0&&(i=r.top),{x:n+r.width*.5,y:i+r.height*.5}}const Rm=r=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=r;const u=Vv(n,n.left,n.top),d=[];for(const f of l){const{id:v}=f,g=i.get(v);if(g){const m=Tm(Vv(g),u);d.push({id:v,data:{droppableContainer:f,value:m}})}}return d.sort(Am)},jw=r=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=r;const u=Gv(n),d=[];for(const f of l){const{id:v}=f,g=i.get(v);if(g){const m=Gv(g),p=u.reduce((_,E,j)=>_+Tm(m[j],E),0),b=Number((p/4).toFixed(4));d.push({id:v,data:{droppableContainer:f,value:b}})}}return d.sort(Am)};function Dw(r,n){const i=Math.max(n.top,r.top),l=Math.max(n.left,r.left),u=Math.min(n.left+n.width,r.left+r.width),d=Math.min(n.top+n.height,r.top+r.height),f=u-l,v=d-i;if(l<u&&i<d){const g=n.width*n.height,m=r.width*r.height,p=f*v,b=p/(g+m-p);return Number(b.toFixed(4))}return 0}const Nw=r=>{let{collisionRect:n,droppableRects:i,droppableContainers:l}=r;const u=[];for(const d of l){const{id:f}=d,v=i.get(f);if(v){const g=Dw(v,n);g>0&&u.push({id:f,data:{droppableContainer:d,value:g}})}}return u.sort(Cw)};function Uw(r,n,i){return{...r,scaleX:n&&i?n.width/i.width:1,scaleY:n&&i?n.height/i.height:1}}function Cm(r,n){return r&&n?{x:r.left-n.left,y:r.top-n.top}:wn}function kw(r){return function(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),d=1;d<l;d++)u[d-1]=arguments[d];return u.reduce((f,v)=>({...f,top:f.top+r*v.y,bottom:f.bottom+r*v.y,left:f.left+r*v.x,right:f.right+r*v.x}),{...i})}}const zw=kw(1);function Mw(r){if(r.startsWith("matrix3d(")){const n=r.slice(9,-1).split(/, /);return{x:+n[12],y:+n[13],scaleX:+n[0],scaleY:+n[5]}}else if(r.startsWith("matrix(")){const n=r.slice(7,-1).split(/, /);return{x:+n[4],y:+n[5],scaleX:+n[0],scaleY:+n[3]}}return null}function Bw(r,n,i){const l=Mw(n);if(!l)return r;const{scaleX:u,scaleY:d,x:f,y:v}=l,g=r.left-f-(1-u)*parseFloat(i),m=r.top-v-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),p=u?r.width/u:r.width,b=d?r.height/d:r.height;return{width:p,height:b,top:m,right:g+p,bottom:m+b,left:g}}const Lw={ignoreTransform:!1};function ri(r,n){n===void 0&&(n=Lw);let i=r.getBoundingClientRect();if(n.ignoreTransform){const{transform:m,transformOrigin:p}=Bt(r).getComputedStyle(r);m&&(i=Bw(i,m,p))}const{top:l,left:u,width:d,height:f,bottom:v,right:g}=i;return{top:l,left:u,width:d,height:f,bottom:v,right:g}}function Yv(r){return ri(r,{ignoreTransform:!0})}function qw(r){const n=r.innerWidth,i=r.innerHeight;return{top:0,left:0,right:n,bottom:i,width:n,height:i}}function Hw(r,n){return n===void 0&&(n=Bt(r).getComputedStyle(r)),n.position==="fixed"}function $w(r,n){n===void 0&&(n=Bt(r).getComputedStyle(r));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(u=>{const d=n[u];return typeof d=="string"?i.test(d):!1})}function ro(r,n){const i=[];function l(u){if(n!=null&&i.length>=n||!u)return i;if(fd(u)&&u.scrollingElement!=null&&!i.includes(u.scrollingElement))return i.push(u.scrollingElement),i;if(!ms(u)||wm(u)||i.includes(u))return i;const d=Bt(r).getComputedStyle(u);return u!==r&&$w(u,d)&&i.push(u),Hw(u,d)?i:l(u.parentNode)}return r?l(r):i}function jm(r){const[n]=ro(r,1);return n??null}function Hc(r){return!ao||!r?null:ni(r)?r:dd(r)?fd(r)||r===ai(r).scrollingElement?window:ms(r)?r:null:null}function Dm(r){return ni(r)?r.scrollX:r.scrollLeft}function Nm(r){return ni(r)?r.scrollY:r.scrollTop}function nd(r){return{x:Dm(r),y:Nm(r)}}var dt;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(dt||(dt={}));function Um(r){return!ao||!r?!1:r===document.scrollingElement}function km(r){const n={x:0,y:0},i=Um(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},l={x:r.scrollWidth-i.width,y:r.scrollHeight-i.height},u=r.scrollTop<=n.y,d=r.scrollLeft<=n.x,f=r.scrollTop>=l.y,v=r.scrollLeft>=l.x;return{isTop:u,isLeft:d,isBottom:f,isRight:v,maxScroll:l,minScroll:n}}const Gw={x:.2,y:.2};function Vw(r,n,i,l,u){let{top:d,left:f,right:v,bottom:g}=i;l===void 0&&(l=10),u===void 0&&(u=Gw);const{isTop:m,isBottom:p,isLeft:b,isRight:_}=km(r),E={x:0,y:0},j={x:0,y:0},C={height:n.height*u.y,width:n.width*u.x};return!m&&d<=n.top+C.height?(E.y=dt.Backward,j.y=l*Math.abs((n.top+C.height-d)/C.height)):!p&&g>=n.bottom-C.height&&(E.y=dt.Forward,j.y=l*Math.abs((n.bottom-C.height-g)/C.height)),!_&&v>=n.right-C.width?(E.x=dt.Forward,j.x=l*Math.abs((n.right-C.width-v)/C.width)):!b&&f<=n.left+C.width&&(E.x=dt.Backward,j.x=l*Math.abs((n.left+C.width-f)/C.width)),{direction:E,speed:j}}function Yw(r){if(r===document.scrollingElement){const{innerWidth:d,innerHeight:f}=window;return{top:0,left:0,right:d,bottom:f,width:d,height:f}}const{top:n,left:i,right:l,bottom:u}=r.getBoundingClientRect();return{top:n,left:i,right:l,bottom:u,width:r.clientWidth,height:r.clientHeight}}function zm(r){return r.reduce((n,i)=>ei(n,nd(i)),wn)}function Kw(r){return r.reduce((n,i)=>n+Dm(i),0)}function Iw(r){return r.reduce((n,i)=>n+Nm(i),0)}function Xw(r,n){if(n===void 0&&(n=ri),!r)return;const{top:i,left:l,bottom:u,right:d}=n(r);jm(r)&&(u<=0||d<=0||i>=window.innerHeight||l>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const Qw=[["x",["left","right"],Kw],["y",["top","bottom"],Iw]];class vd{constructor(n,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const l=ro(i),u=zm(l);this.rect={...n},this.width=n.width,this.height=n.height;for(const[d,f,v]of Qw)for(const g of f)Object.defineProperty(this,g,{get:()=>{const m=v(l),p=u[d]-m;return this.rect[g]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class as{constructor(n){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var l;return(l=this.target)==null?void 0:l.removeEventListener(...i)})},this.target=n}add(n,i,l){var u;(u=this.target)==null||u.addEventListener(n,i,l),this.listeners.push([n,i,l])}}function Jw(r){const{EventTarget:n}=Bt(r);return r instanceof n?r:ai(r)}function $c(r,n){const i=Math.abs(r.x),l=Math.abs(r.y);return typeof n=="number"?Math.sqrt(i**2+l**2)>n:"x"in n&&"y"in n?i>n.x&&l>n.y:"x"in n?i>n.x:"y"in n?l>n.y:!1}var dn;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(dn||(dn={}));function Kv(r){r.preventDefault()}function Zw(r){r.stopPropagation()}var Te;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter",r.Tab="Tab"})(Te||(Te={}));const Mm={start:[Te.Space,Te.Enter],cancel:[Te.Esc],end:[Te.Space,Te.Enter,Te.Tab]},Ww=(r,n)=>{let{currentCoordinates:i}=n;switch(r.code){case Te.Right:return{...i,x:i.x+25};case Te.Left:return{...i,x:i.x-25};case Te.Down:return{...i,y:i.y+25};case Te.Up:return{...i,y:i.y-25}}};class io{constructor(n){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=n;const{event:{target:i}}=n;this.props=n,this.listeners=new as(ai(i)),this.windowListeners=new as(Bt(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(dn.Resize,this.handleCancel),this.windowListeners.add(dn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(dn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:n,onStart:i}=this.props,l=n.node.current;l&&Xw(l),i(wn)}handleKeyDown(n){if(gd(n)){const{active:i,context:l,options:u}=this.props,{keyboardCodes:d=Mm,coordinateGetter:f=Ww,scrollBehavior:v="smooth"}=u,{code:g}=n;if(d.end.includes(g)){this.handleEnd(n);return}if(d.cancel.includes(g)){this.handleCancel(n);return}const{collisionRect:m}=l.current,p=m?{x:m.left,y:m.top}:wn;this.referenceCoordinates||(this.referenceCoordinates=p);const b=f(n,{active:i,context:l.current,currentCoordinates:p});if(b){const _=hs(b,p),E={x:0,y:0},{scrollableAncestors:j}=l.current;for(const C of j){const U=n.code,{isTop:$,isRight:L,isLeft:z,isBottom:X,maxScroll:ee,minScroll:Q}=km(C),K=Yw(C),ne={x:Math.min(U===Te.Right?K.right-K.width/2:K.right,Math.max(U===Te.Right?K.left:K.left+K.width/2,b.x)),y:Math.min(U===Te.Down?K.bottom-K.height/2:K.bottom,Math.max(U===Te.Down?K.top:K.top+K.height/2,b.y))},fe=U===Te.Right&&!L||U===Te.Left&&!z,Ce=U===Te.Down&&!X||U===Te.Up&&!$;if(fe&&ne.x!==b.x){const Z=C.scrollLeft+_.x,le=U===Te.Right&&Z<=ee.x||U===Te.Left&&Z>=Q.x;if(le&&!_.y){C.scrollTo({left:Z,behavior:v});return}le?E.x=C.scrollLeft-Z:E.x=U===Te.Right?C.scrollLeft-ee.x:C.scrollLeft-Q.x,E.x&&C.scrollBy({left:-E.x,behavior:v});break}else if(Ce&&ne.y!==b.y){const Z=C.scrollTop+_.y,le=U===Te.Down&&Z<=ee.y||U===Te.Up&&Z>=Q.y;if(le&&!_.x){C.scrollTo({top:Z,behavior:v});return}le?E.y=C.scrollTop-Z:E.y=U===Te.Down?C.scrollTop-ee.y:C.scrollTop-Q.y,E.y&&C.scrollBy({top:-E.y,behavior:v});break}}this.handleMove(n,ei(hs(b,this.referenceCoordinates),E))}}}handleMove(n,i){const{onMove:l}=this.props;n.preventDefault(),l(i)}handleEnd(n){const{onEnd:i}=this.props;n.preventDefault(),this.detach(),i()}handleCancel(n){const{onCancel:i}=this.props;n.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}io.activators=[{eventName:"onKeyDown",handler:(r,n,i)=>{let{keyboardCodes:l=Mm,onActivation:u}=n,{active:d}=i;const{code:f}=r.nativeEvent;if(l.start.includes(f)){const v=d.activatorNode.current;return v&&r.target!==v?!1:(r.preventDefault(),u?.({event:r.nativeEvent}),!0)}return!1}}];function Iv(r){return!!(r&&"distance"in r)}function Xv(r){return!!(r&&"delay"in r)}class md{constructor(n,i,l){var u;l===void 0&&(l=Jw(n.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=n,this.events=i;const{event:d}=n,{target:f}=d;this.props=n,this.events=i,this.document=ai(f),this.documentListeners=new as(this.document),this.listeners=new as(l),this.windowListeners=new as(Bt(f)),this.initialCoordinates=(u=td(d))!=null?u:wn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:n,props:{options:{activationConstraint:i,bypassActivationConstraint:l}}}=this;if(this.listeners.add(n.move.name,this.handleMove,{passive:!1}),this.listeners.add(n.end.name,this.handleEnd),n.cancel&&this.listeners.add(n.cancel.name,this.handleCancel),this.windowListeners.add(dn.Resize,this.handleCancel),this.windowListeners.add(dn.DragStart,Kv),this.windowListeners.add(dn.VisibilityChange,this.handleCancel),this.windowListeners.add(dn.ContextMenu,Kv),this.documentListeners.add(dn.Keydown,this.handleKeydown),i){if(l!=null&&l({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Xv(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Iv(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(n,i){const{active:l,onPending:u}=this.props;u(l,n,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:n}=this,{onStart:i}=this.props;n&&(this.activated=!0,this.documentListeners.add(dn.Click,Zw,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(dn.SelectionChange,this.removeTextSelection),i(n))}handleMove(n){var i;const{activated:l,initialCoordinates:u,props:d}=this,{onMove:f,options:{activationConstraint:v}}=d;if(!u)return;const g=(i=td(n))!=null?i:wn,m=hs(u,g);if(!l&&v){if(Iv(v)){if(v.tolerance!=null&&$c(m,v.tolerance))return this.handleCancel();if($c(m,v.distance))return this.handleStart()}if(Xv(v)&&$c(m,v.tolerance))return this.handleCancel();this.handlePending(v,m);return}n.cancelable&&n.preventDefault(),f(g)}handleEnd(){const{onAbort:n,onEnd:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleCancel(){const{onAbort:n,onCancel:i}=this.props;this.detach(),this.activated||n(this.props.active),i()}handleKeydown(n){n.code===Te.Esc&&this.handleCancel()}removeTextSelection(){var n;(n=this.document.getSelection())==null||n.removeAllRanges()}}const Pw={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class so extends md{constructor(n){const{event:i}=n,l=ai(i.target);super(n,Pw,l)}}so.activators=[{eventName:"onPointerDown",handler:(r,n)=>{let{nativeEvent:i}=r,{onActivation:l}=n;return!i.isPrimary||i.button!==0?!1:(l?.({event:i}),!0)}}];const Fw={move:{name:"mousemove"},end:{name:"mouseup"}};var ad;(function(r){r[r.RightClick=2]="RightClick"})(ad||(ad={}));class eS extends md{constructor(n){super(n,Fw,ai(n.event.target))}}eS.activators=[{eventName:"onMouseDown",handler:(r,n)=>{let{nativeEvent:i}=r,{onActivation:l}=n;return i.button===ad.RightClick?!1:(l?.({event:i}),!0)}}];const Gc={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class tS extends md{constructor(n){super(n,Gc)}static setup(){return window.addEventListener(Gc.move.name,n,{capture:!1,passive:!1}),function(){window.removeEventListener(Gc.move.name,n)};function n(){}}}tS.activators=[{eventName:"onTouchStart",handler:(r,n)=>{let{nativeEvent:i}=r,{onActivation:l}=n;const{touches:u}=i;return u.length>1?!1:(l?.({event:i}),!0)}}];var rs;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(rs||(rs={}));var Pl;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Pl||(Pl={}));function nS(r){let{acceleration:n,activator:i=rs.Pointer,canScroll:l,draggingRect:u,enabled:d,interval:f=5,order:v=Pl.TreeOrder,pointerCoordinates:g,scrollableAncestors:m,scrollableAncestorRects:p,delta:b,threshold:_}=r;const E=rS({delta:b,disabled:!d}),[j,C]=mw(),U=R.useRef({x:0,y:0}),$=R.useRef({x:0,y:0}),L=R.useMemo(()=>{switch(i){case rs.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case rs.DraggableRect:return u}},[i,u,g]),z=R.useRef(null),X=R.useCallback(()=>{const Q=z.current;if(!Q)return;const K=U.current.x*$.current.x,ne=U.current.y*$.current.y;Q.scrollBy(K,ne)},[]),ee=R.useMemo(()=>v===Pl.TreeOrder?[...m].reverse():m,[v,m]);R.useEffect(()=>{if(!d||!m.length||!L){C();return}for(const Q of ee){if(l?.(Q)===!1)continue;const K=m.indexOf(Q),ne=p[K];if(!ne)continue;const{direction:fe,speed:Ce}=Vw(Q,ne,L,n,_);for(const Z of["x","y"])E[Z][fe[Z]]||(Ce[Z]=0,fe[Z]=0);if(Ce.x>0||Ce.y>0){C(),z.current=Q,j(X,f),U.current=Ce,$.current=fe;return}}U.current={x:0,y:0},$.current={x:0,y:0},C()},[n,X,l,C,d,f,JSON.stringify(L),JSON.stringify(E),j,m,ee,p,JSON.stringify(_)])}const aS={x:{[dt.Backward]:!1,[dt.Forward]:!1},y:{[dt.Backward]:!1,[dt.Forward]:!1}};function rS(r){let{delta:n,disabled:i}=r;const l=ed(n);return ys(u=>{if(i||!l||!u)return aS;const d={x:Math.sign(n.x-l.x),y:Math.sign(n.y-l.y)};return{x:{[dt.Backward]:u.x[dt.Backward]||d.x===-1,[dt.Forward]:u.x[dt.Forward]||d.x===1},y:{[dt.Backward]:u.y[dt.Backward]||d.y===-1,[dt.Forward]:u.y[dt.Forward]||d.y===1}}},[i,n,l])}function iS(r,n){const i=n!=null?r.get(n):void 0,l=i?i.node.current:null;return ys(u=>{var d;return n==null?null:(d=l??u)!=null?d:null},[l,n])}function sS(r,n){return R.useMemo(()=>r.reduce((i,l)=>{const{sensor:u}=l,d=u.activators.map(f=>({eventName:f.eventName,handler:n(f.handler,l)}));return[...i,...d]},[]),[r,n])}var gs;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(gs||(gs={}));var rd;(function(r){r.Optimized="optimized"})(rd||(rd={}));const Qv=new Map;function lS(r,n){let{dragging:i,dependencies:l,config:u}=n;const[d,f]=R.useState(null),{frequency:v,measure:g,strategy:m}=u,p=R.useRef(r),b=U(),_=fs(b),E=R.useCallback(function($){$===void 0&&($=[]),!_.current&&f(L=>L===null?$:L.concat($.filter(z=>!L.includes(z))))},[_]),j=R.useRef(null),C=ys($=>{if(b&&!i)return Qv;if(!$||$===Qv||p.current!==r||d!=null){const L=new Map;for(let z of r){if(!z)continue;if(d&&d.length>0&&!d.includes(z.id)&&z.rect.current){L.set(z.id,z.rect.current);continue}const X=z.node.current,ee=X?new vd(g(X),X):null;z.rect.current=ee,ee&&L.set(z.id,ee)}return L}return $},[r,d,i,b,g]);return R.useEffect(()=>{p.current=r},[r]),R.useEffect(()=>{b||E()},[i,b]),R.useEffect(()=>{d&&d.length>0&&f(null)},[JSON.stringify(d)]),R.useEffect(()=>{b||typeof v!="number"||j.current!==null||(j.current=setTimeout(()=>{E(),j.current=null},v))},[v,b,E,...l]),{droppableRects:C,measureDroppableContainers:E,measuringScheduled:d!=null};function U(){switch(m){case gs.Always:return!1;case gs.BeforeDragging:return i;default:return!i}}}function Bm(r,n){return ys(i=>r?i||(typeof n=="function"?n(r):r):null,[n,r])}function oS(r,n){return Bm(r,n)}function uS(r){let{callback:n,disabled:i}=r;const l=hd(n),u=R.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(l)},[l,i]);return R.useEffect(()=>()=>u?.disconnect(),[u]),u}function lo(r){let{callback:n,disabled:i}=r;const l=hd(n),u=R.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(l)},[i]);return R.useEffect(()=>()=>u?.disconnect(),[u]),u}function cS(r){return new vd(ri(r),r)}function Jv(r,n,i){n===void 0&&(n=cS);const[l,u]=R.useState(null);function d(){u(g=>{if(!r)return null;if(r.isConnected===!1){var m;return(m=g??i)!=null?m:null}const p=n(r);return JSON.stringify(g)===JSON.stringify(p)?g:p})}const f=uS({callback(g){if(r)for(const m of g){const{type:p,target:b}=m;if(p==="childList"&&b instanceof HTMLElement&&b.contains(r)){d();break}}}}),v=lo({callback:d});return jn(()=>{d(),r?(v?.observe(r),f?.observe(document.body,{childList:!0,subtree:!0})):(v?.disconnect(),f?.disconnect())},[r]),l}function dS(r){const n=Bm(r);return Cm(r,n)}const Zv=[];function fS(r){const n=R.useRef(r),i=ys(l=>r?l&&l!==Zv&&r&&n.current&&r.parentNode===n.current.parentNode?l:ro(r):Zv,[r]);return R.useEffect(()=>{n.current=r},[r]),i}function hS(r){const[n,i]=R.useState(null),l=R.useRef(r),u=R.useCallback(d=>{const f=Hc(d.target);f&&i(v=>v?(v.set(f,nd(f)),new Map(v)):null)},[]);return R.useEffect(()=>{const d=l.current;if(r!==d){f(d);const v=r.map(g=>{const m=Hc(g);return m?(m.addEventListener("scroll",u,{passive:!0}),[m,nd(m)]):null}).filter(g=>g!=null);i(v.length?new Map(v):null),l.current=r}return()=>{f(r),f(d)};function f(v){v.forEach(g=>{const m=Hc(g);m?.removeEventListener("scroll",u)})}},[u,r]),R.useMemo(()=>r.length?n?Array.from(n.values()).reduce((d,f)=>ei(d,f),wn):zm(r):wn,[r,n])}function Wv(r,n){n===void 0&&(n=[]);const i=R.useRef(null);return R.useEffect(()=>{i.current=null},n),R.useEffect(()=>{const l=r!==wn;l&&!i.current&&(i.current=r),!l&&i.current&&(i.current=null)},[r]),i.current?hs(r,i.current):wn}function gS(r){R.useEffect(()=>{if(!ao)return;const n=r.map(i=>{let{sensor:l}=i;return l.setup==null?void 0:l.setup()});return()=>{for(const i of n)i?.()}},r.map(n=>{let{sensor:i}=n;return i}))}function vS(r,n){return R.useMemo(()=>r.reduce((i,l)=>{let{eventName:u,handler:d}=l;return i[u]=f=>{d(f,n)},i},{}),[r,n])}function Lm(r){return R.useMemo(()=>r?qw(r):null,[r])}const Pv=[];function mS(r,n){n===void 0&&(n=ri);const[i]=r,l=Lm(i?Bt(i):null),[u,d]=R.useState(Pv);function f(){d(()=>r.length?r.map(g=>Um(g)?l:new vd(n(g),g)):Pv)}const v=lo({callback:f});return jn(()=>{v?.disconnect(),f(),r.forEach(g=>v?.observe(g))},[r]),u}function yS(r){if(!r)return null;if(r.children.length>1)return r;const n=r.children[0];return ms(n)?n:r}function pS(r){let{measure:n}=r;const[i,l]=R.useState(null),u=R.useCallback(m=>{for(const{target:p}of m)if(ms(p)){l(b=>{const _=n(p);return b?{...b,width:_.width,height:_.height}:_});break}},[n]),d=lo({callback:u}),f=R.useCallback(m=>{const p=yS(m);d?.disconnect(),p&&d?.observe(p),l(p?n(p):null)},[n,d]),[v,g]=Jl(f);return R.useMemo(()=>({nodeRef:v,rect:i,setRef:g}),[i,v,g])}const bS=[{sensor:so,options:{}},{sensor:io,options:{}}],_S={current:{}},Kl={draggable:{measure:Yv},droppable:{measure:Yv,strategy:gs.WhileDragging,frequency:rd.Optimized},dragOverlay:{measure:ri}};class is extends Map{get(n){var i;return n!=null&&(i=super.get(n))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(n=>{let{disabled:i}=n;return!i})}getNodeFor(n){var i,l;return(i=(l=this.get(n))==null?void 0:l.node.current)!=null?i:void 0}}const wS={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new is,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Zl},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Kl,measureDroppableContainers:Zl,windowRect:null,measuringScheduled:!1},SS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Zl,draggableNodes:new Map,over:null,measureDroppableContainers:Zl},oo=R.createContext(SS),qm=R.createContext(wS);function ES(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new is}}}function xS(r,n){switch(n.type){case st.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:n.initialCoordinates,active:n.active}};case st.DragMove:return r.draggable.active==null?r:{...r,draggable:{...r.draggable,translate:{x:n.coordinates.x-r.draggable.initialCoordinates.x,y:n.coordinates.y-r.draggable.initialCoordinates.y}}};case st.DragEnd:case st.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case st.RegisterDroppable:{const{element:i}=n,{id:l}=i,u=new is(r.droppable.containers);return u.set(l,i),{...r,droppable:{...r.droppable,containers:u}}}case st.SetDroppableDisabled:{const{id:i,key:l,disabled:u}=n,d=r.droppable.containers.get(i);if(!d||l!==d.key)return r;const f=new is(r.droppable.containers);return f.set(i,{...d,disabled:u}),{...r,droppable:{...r.droppable,containers:f}}}case st.UnregisterDroppable:{const{id:i,key:l}=n,u=r.droppable.containers.get(i);if(!u||l!==u.key)return r;const d=new is(r.droppable.containers);return d.delete(i),{...r,droppable:{...r.droppable,containers:d}}}default:return r}}function TS(r){let{disabled:n}=r;const{active:i,activatorEvent:l,draggableNodes:u}=R.useContext(oo),d=ed(l),f=ed(i?.id);return R.useEffect(()=>{if(!n&&!l&&d&&f!=null){if(!gd(d)||document.activeElement===d.target)return;const v=u.get(f);if(!v)return;const{activatorNode:g,node:m}=v;if(!g.current&&!m.current)return;requestAnimationFrame(()=>{for(const p of[g.current,m.current]){if(!p)continue;const b=bw(p);if(b){b.focus();break}}})}},[l,n,u,f,d]),null}function AS(r,n){let{transform:i,...l}=n;return r!=null&&r.length?r.reduce((u,d)=>d({transform:u,...l}),i):i}function OS(r){return R.useMemo(()=>({draggable:{...Kl.draggable,...r?.draggable},droppable:{...Kl.droppable,...r?.droppable},dragOverlay:{...Kl.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function RS(r){let{activeNode:n,measure:i,initialRect:l,config:u=!0}=r;const d=R.useRef(!1),{x:f,y:v}=typeof u=="boolean"?{x:u,y:u}:u;jn(()=>{if(!f&&!v||!n){d.current=!1;return}if(d.current||!l)return;const m=n?.node.current;if(!m||m.isConnected===!1)return;const p=i(m),b=Cm(p,l);if(f||(b.x=0),v||(b.y=0),d.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const _=jm(m);_&&_.scrollBy({top:b.y,left:b.x})}},[n,f,v,l,i])}const Hm=R.createContext({...wn,scaleX:1,scaleY:1});var Ra;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Ra||(Ra={}));const $m=R.memo(function(n){var i,l,u,d;let{id:f,accessibility:v,autoScroll:g=!0,children:m,sensors:p=bS,collisionDetection:b=Nw,measuring:_,modifiers:E,...j}=n;const C=R.useReducer(xS,void 0,ES),[U,$]=C,[L,z]=Tw(),[X,ee]=R.useState(Ra.Uninitialized),Q=X===Ra.Initialized,{draggable:{active:K,nodes:ne,translate:fe},droppable:{containers:Ce}}=U,Z=K!=null?ne.get(K):null,le=R.useRef({initial:null,translated:null}),me=R.useMemo(()=>{var Qe;return K!=null?{id:K,data:(Qe=Z?.data)!=null?Qe:_S,rect:le}:null},[K,Z]),W=R.useRef(null),[Y,A]=R.useState(null),[q,J]=R.useState(null),ae=fs(j,Object.values(j)),ge=ps("DndDescribedBy",f),x=R.useMemo(()=>Ce.getEnabled(),[Ce]),B=OS(_),{droppableRects:I,measureDroppableContainers:P,measuringScheduled:he}=lS(x,{dragging:Q,dependencies:[fe.x,fe.y],config:B.droppable}),ue=iS(ne,K),Ee=R.useMemo(()=>q?td(q):null,[q]),$e=rr(),je=oS(ue,B.draggable.measure);RS({activeNode:K!=null?ne.get(K):null,config:$e.layoutShiftCompensation,initialRect:je,measure:B.draggable.measure});const Ae=Jv(ue,B.draggable.measure,je),Sn=Jv(ue?ue.parentElement:null),At=R.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:I,draggableNodes:ne,draggingNode:null,draggingNodeRect:null,droppableContainers:Ce,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Nn=Ce.getNodeFor((i=At.current.over)==null?void 0:i.id),ft=pS({measure:B.dragOverlay.measure}),En=(l=ft.nodeRef.current)!=null?l:ue,xn=Q?(u=ft.rect)!=null?u:Ae:null,_s=!!(ft.nodeRef.current&&ft.rect),ii=dS(_s?null:Ae),ja=Lm(En?Bt(En):null),Jt=fS(Q?Nn??ue:null),na=mS(Jt),nr=AS(E,{transform:{x:fe.x-ii.x,y:fe.y-ii.y,scaleX:1,scaleY:1},activatorEvent:q,active:me,activeNodeRect:Ae,containerNodeRect:Sn,draggingNodeRect:xn,over:At.current.over,overlayNodeRect:ft.rect,scrollableAncestors:Jt,scrollableAncestorRects:na,windowRect:ja}),ws=Ee?ei(Ee,fe):null,_t=hS(Jt),fo=Wv(_t),Ss=Wv(_t,[Ae]),Un=ei(nr,fo),fn=xn?zw(xn,nr):null,Da=me&&fn?b({active:me,collisionRect:fn,droppableRects:I,droppableContainers:x,pointerCoordinates:ws}):null,si=Om(Da,"id"),[Tn,Es]=R.useState(null),Na=_s?nr:ei(nr,Ss),xt=Uw(Na,(d=Tn?.rect)!=null?d:null,Ae),Zt=R.useRef(null),wt=R.useCallback((Qe,Je)=>{let{sensor:ot,options:Ot}=Je;if(W.current==null)return;const Rt=ne.get(W.current);if(!Rt)return;const St=Qe.nativeEvent,Ct=new ot({active:W.current,activeNode:Rt,event:St,options:Ot,context:At,onAbort(at){if(!ne.get(at))return;const{onDragAbort:Lt}=ae.current,Pt={id:at};Lt?.(Pt),L({type:"onDragAbort",event:Pt})},onPending(at,hn,Lt,Pt){if(!ne.get(at))return;const{onDragPending:zn}=ae.current,gn={id:at,constraint:hn,initialCoordinates:Lt,offset:Pt};zn?.(gn),L({type:"onDragPending",event:gn})},onStart(at){const hn=W.current;if(hn==null)return;const Lt=ne.get(hn);if(!Lt)return;const{onDragStart:Pt}=ae.current,kn={activatorEvent:St,active:{id:hn,data:Lt.data,rect:le}};es.unstable_batchedUpdates(()=>{Pt?.(kn),ee(Ra.Initializing),$({type:st.DragStart,initialCoordinates:at,active:hn}),L({type:"onDragStart",event:kn}),A(Zt.current),J(St)})},onMove(at){$({type:st.DragMove,coordinates:at})},onEnd:Wt(st.DragEnd),onCancel:Wt(st.DragCancel)});Zt.current=Ct;function Wt(at){return async function(){const{active:Lt,collisions:Pt,over:kn,scrollAdjustedTranslate:zn}=At.current;let gn=null;if(Lt&&zn){const{cancelDrop:aa}=ae.current;gn={activatorEvent:St,active:Lt,collisions:Pt,delta:zn,over:kn},at===st.DragEnd&&typeof aa=="function"&&await Promise.resolve(aa(gn))&&(at=st.DragCancel)}W.current=null,es.unstable_batchedUpdates(()=>{$({type:at}),ee(Ra.Uninitialized),Es(null),A(null),J(null),Zt.current=null;const aa=at===st.DragEnd?"onDragEnd":"onDragCancel";if(gn){const Ft=ae.current[aa];Ft?.(gn),L({type:aa,event:gn})}})}}},[ne]),ho=R.useCallback((Qe,Je)=>(ot,Ot)=>{const Rt=ot.nativeEvent,St=ne.get(Ot);if(W.current!==null||!St||Rt.dndKit||Rt.defaultPrevented)return;const Ct={active:St};Qe(ot,Je.options,Ct)===!0&&(Rt.dndKit={capturedBy:Je.sensor},W.current=Ot,wt(ot,Je))},[ne,wt]),xs=sS(p,ho);gS(p),jn(()=>{Ae&&X===Ra.Initializing&&ee(Ra.Initialized)},[Ae,X]),R.useEffect(()=>{const{onDragMove:Qe}=ae.current,{active:Je,activatorEvent:ot,collisions:Ot,over:Rt}=At.current;if(!Je||!ot)return;const St={active:Je,activatorEvent:ot,collisions:Ot,delta:{x:Un.x,y:Un.y},over:Rt};es.unstable_batchedUpdates(()=>{Qe?.(St),L({type:"onDragMove",event:St})})},[Un.x,Un.y]),R.useEffect(()=>{const{active:Qe,activatorEvent:Je,collisions:ot,droppableContainers:Ot,scrollAdjustedTranslate:Rt}=At.current;if(!Qe||W.current==null||!Je||!Rt)return;const{onDragOver:St}=ae.current,Ct=Ot.get(si),Wt=Ct&&Ct.rect.current?{id:Ct.id,rect:Ct.rect.current,data:Ct.data,disabled:Ct.disabled}:null,at={active:Qe,activatorEvent:Je,collisions:ot,delta:{x:Rt.x,y:Rt.y},over:Wt};es.unstable_batchedUpdates(()=>{Es(Wt),St?.(at),L({type:"onDragOver",event:at})})},[si]),jn(()=>{At.current={activatorEvent:q,active:me,activeNode:ue,collisionRect:fn,collisions:Da,droppableRects:I,draggableNodes:ne,draggingNode:En,draggingNodeRect:xn,droppableContainers:Ce,over:Tn,scrollableAncestors:Jt,scrollAdjustedTranslate:Un},le.current={initial:xn,translated:fn}},[me,ue,Da,fn,ne,En,xn,I,Ce,Tn,Jt,Un]),nS({...$e,delta:fe,draggingRect:fn,pointerCoordinates:ws,scrollableAncestors:Jt,scrollableAncestorRects:na});const go=R.useMemo(()=>({active:me,activeNode:ue,activeNodeRect:Ae,activatorEvent:q,collisions:Da,containerNodeRect:Sn,dragOverlay:ft,draggableNodes:ne,droppableContainers:Ce,droppableRects:I,over:Tn,measureDroppableContainers:P,scrollableAncestors:Jt,scrollableAncestorRects:na,measuringConfiguration:B,measuringScheduled:he,windowRect:ja}),[me,ue,Ae,q,Da,Sn,ft,ne,Ce,I,Tn,P,Jt,na,B,he,ja]),ar=R.useMemo(()=>({activatorEvent:q,activators:xs,active:me,activeNodeRect:Ae,ariaDescribedById:{draggable:ge},dispatch:$,draggableNodes:ne,over:Tn,measureDroppableContainers:P}),[q,xs,me,Ae,$,ge,ne,Tn,P]);return F.createElement(Em.Provider,{value:z},F.createElement(oo.Provider,{value:ar},F.createElement(qm.Provider,{value:go},F.createElement(Hm.Provider,{value:xt},m)),F.createElement(TS,{disabled:v?.restoreFocus===!1})),F.createElement(Rw,{...v,hiddenTextDescribedById:ge}));function rr(){const Qe=Y?.autoScrollEnabled===!1,Je=typeof g=="object"?g.enabled===!1:g===!1,ot=Q&&!Qe&&!Je;return typeof g=="object"?{...g,enabled:ot}:{enabled:ot}}}),CS=R.createContext(null),Fv="button",jS="Draggable";function DS(r){let{id:n,data:i,disabled:l=!1,attributes:u}=r;const d=ps(jS),{activators:f,activatorEvent:v,active:g,activeNodeRect:m,ariaDescribedById:p,draggableNodes:b,over:_}=R.useContext(oo),{role:E=Fv,roleDescription:j="draggable",tabIndex:C=0}=u??{},U=g?.id===n,$=R.useContext(U?Hm:CS),[L,z]=Jl(),[X,ee]=Jl(),Q=vS(f,n),K=fs(i);jn(()=>(b.set(n,{id:n,key:d,node:L,activatorNode:X,data:K}),()=>{const fe=b.get(n);fe&&fe.key===d&&b.delete(n)}),[b,n]);const ne=R.useMemo(()=>({role:E,tabIndex:C,"aria-disabled":l,"aria-pressed":U&&E===Fv?!0:void 0,"aria-roledescription":j,"aria-describedby":p.draggable}),[l,E,C,U,j,p.draggable]);return{active:g,activatorEvent:v,activeNodeRect:m,attributes:ne,isDragging:U,listeners:l?void 0:Q,node:L,over:_,setNodeRef:z,setActivatorNodeRef:ee,transform:$}}function NS(){return R.useContext(qm)}const US="Droppable",kS={timeout:25};function zS(r){let{data:n,disabled:i=!1,id:l,resizeObserverConfig:u}=r;const d=ps(US),{active:f,dispatch:v,over:g,measureDroppableContainers:m}=R.useContext(oo),p=R.useRef({disabled:i}),b=R.useRef(!1),_=R.useRef(null),E=R.useRef(null),{disabled:j,updateMeasurementsFor:C,timeout:U}={...kS,...u},$=fs(C??l),L=R.useCallback(()=>{if(!b.current){b.current=!0;return}E.current!=null&&clearTimeout(E.current),E.current=setTimeout(()=>{m(Array.isArray($.current)?$.current:[$.current]),E.current=null},U)},[U]),z=lo({callback:L,disabled:j||!f}),X=R.useCallback((ne,fe)=>{z&&(fe&&(z.unobserve(fe),b.current=!1),ne&&z.observe(ne))},[z]),[ee,Q]=Jl(X),K=fs(n);return R.useEffect(()=>{!z||!ee.current||(z.disconnect(),b.current=!1,z.observe(ee.current))},[ee,z]),R.useEffect(()=>(v({type:st.RegisterDroppable,element:{id:l,key:d,disabled:i,node:ee,rect:_,data:K}}),()=>v({type:st.UnregisterDroppable,key:d,id:l})),[l]),R.useEffect(()=>{i!==p.current.disabled&&(v({type:st.SetDroppableDisabled,id:l,key:d,disabled:i}),p.current.disabled=i)},[l,d,i,v]),{active:f,rect:_,isOver:g?.id===l,node:ee,over:g,setNodeRef:Q}}function uo(r,n,i){const l=r.slice();return l.splice(i<0?l.length+i:i,0,l.splice(n,1)[0]),l}function MS(r,n){return r.reduce((i,l,u)=>{const d=n.get(l);return d&&(i[u]=d),i},Array(r.length))}function $l(r){return r!==null&&r>=0}function BS(r,n){if(r===n)return!0;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i]!==n[i])return!1;return!0}function LS(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const Gm=r=>{let{rects:n,activeIndex:i,overIndex:l,index:u}=r;const d=uo(n,l,i),f=n[u],v=d[u];return!v||!f?null:{x:v.left-f.left,y:v.top-f.top,scaleX:v.width/f.width,scaleY:v.height/f.height}},Gl={scaleX:1,scaleY:1},Vm=r=>{var n;let{activeIndex:i,activeNodeRect:l,index:u,rects:d,overIndex:f}=r;const v=(n=d[i])!=null?n:l;if(!v)return null;if(u===i){const m=d[f];return m?{x:0,y:i<f?m.top+m.height-(v.top+v.height):m.top-v.top,...Gl}:null}const g=qS(d,u,i);return u>i&&u<=f?{x:0,y:-v.height-g,...Gl}:u<i&&u>=f?{x:0,y:v.height+g,...Gl}:{x:0,y:0,...Gl}};function qS(r,n,i){const l=r[n],u=r[n-1],d=r[n+1];return l?i<n?u?l.top-(u.top+u.height):d?d.top-(l.top+l.height):0:d?d.top-(l.top+l.height):u?l.top-(u.top+u.height):0:0}const Ym="Sortable",Km=F.createContext({activeIndex:-1,containerId:Ym,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Gm,disabled:{draggable:!1,droppable:!1}});function Im(r){let{children:n,id:i,items:l,strategy:u=Gm,disabled:d=!1}=r;const{active:f,dragOverlay:v,droppableRects:g,over:m,measureDroppableContainers:p}=NS(),b=ps(Ym,i),_=v.rect!==null,E=R.useMemo(()=>l.map(Q=>typeof Q=="object"&&"id"in Q?Q.id:Q),[l]),j=f!=null,C=f?E.indexOf(f.id):-1,U=m?E.indexOf(m.id):-1,$=R.useRef(E),L=!BS(E,$.current),z=U!==-1&&C===-1||L,X=LS(d);jn(()=>{L&&j&&p(E)},[L,E,j,p]),R.useEffect(()=>{$.current=E},[E]);const ee=R.useMemo(()=>({activeIndex:C,containerId:b,disabled:X,disableTransforms:z,items:E,overIndex:U,useDragOverlay:_,sortedRects:MS(E,g),strategy:u}),[C,b,X.draggable,X.droppable,z,E,U,g,_,u]);return F.createElement(Km.Provider,{value:ee},n)}const HS=r=>{let{id:n,items:i,activeIndex:l,overIndex:u}=r;return uo(i,l,u).indexOf(n)},$S=r=>{let{containerId:n,isSorting:i,wasDragging:l,index:u,items:d,newIndex:f,previousItems:v,previousContainerId:g,transition:m}=r;return!m||!l||v!==d&&u===f?!1:i?!0:f!==u&&n===g},GS={duration:200,easing:"ease"},Xm="transform",VS=ti.Transition.toString({property:Xm,duration:0,easing:"linear"}),YS={roleDescription:"sortable"};function KS(r){let{disabled:n,index:i,node:l,rect:u}=r;const[d,f]=R.useState(null),v=R.useRef(i);return jn(()=>{if(!n&&i!==v.current&&l.current){const g=u.current;if(g){const m=ri(l.current,{ignoreTransform:!0}),p={x:g.left-m.left,y:g.top-m.top,scaleX:g.width/m.width,scaleY:g.height/m.height};(p.x||p.y)&&f(p)}}i!==v.current&&(v.current=i)},[n,i,l,u]),R.useEffect(()=>{d&&f(null)},[d]),d}function Qm(r){let{animateLayoutChanges:n=$S,attributes:i,disabled:l,data:u,getNewIndex:d=HS,id:f,strategy:v,resizeObserverConfig:g,transition:m=GS}=r;const{items:p,containerId:b,activeIndex:_,disabled:E,disableTransforms:j,sortedRects:C,overIndex:U,useDragOverlay:$,strategy:L}=R.useContext(Km),z=IS(l,E),X=p.indexOf(f),ee=R.useMemo(()=>({sortable:{containerId:b,index:X,items:p},...u}),[b,u,X,p]),Q=R.useMemo(()=>p.slice(p.indexOf(f)),[p,f]),{rect:K,node:ne,isOver:fe,setNodeRef:Ce}=zS({id:f,data:ee,disabled:z.droppable,resizeObserverConfig:{updateMeasurementsFor:Q,...g}}),{active:Z,activatorEvent:le,activeNodeRect:me,attributes:W,setNodeRef:Y,listeners:A,isDragging:q,over:J,setActivatorNodeRef:ae,transform:ge}=DS({id:f,data:ee,attributes:{...YS,...i},disabled:z.draggable}),x=vw(Ce,Y),B=!!Z,I=B&&!j&&$l(_)&&$l(U),P=!$&&q,he=P&&I?ge:null,Ee=I?he??(v??L)({rects:C,activeNodeRect:me,activeIndex:_,overIndex:U,index:X}):null,$e=$l(_)&&$l(U)?d({id:f,items:p,activeIndex:_,overIndex:U}):X,je=Z?.id,Ae=R.useRef({activeId:je,items:p,newIndex:$e,containerId:b}),Sn=p!==Ae.current.items,At=n({active:Z,containerId:b,isDragging:q,isSorting:B,id:f,index:X,items:p,newIndex:Ae.current.newIndex,previousItems:Ae.current.items,previousContainerId:Ae.current.containerId,transition:m,wasDragging:Ae.current.activeId!=null}),Nn=KS({disabled:!At,index:X,node:ne,rect:K});return R.useEffect(()=>{B&&Ae.current.newIndex!==$e&&(Ae.current.newIndex=$e),b!==Ae.current.containerId&&(Ae.current.containerId=b),p!==Ae.current.items&&(Ae.current.items=p)},[B,$e,b,p]),R.useEffect(()=>{if(je===Ae.current.activeId)return;if(je!=null&&Ae.current.activeId==null){Ae.current.activeId=je;return}const En=setTimeout(()=>{Ae.current.activeId=je},50);return()=>clearTimeout(En)},[je]),{active:Z,activeIndex:_,attributes:W,data:ee,rect:K,index:X,newIndex:$e,items:p,isOver:fe,isSorting:B,isDragging:q,listeners:A,node:ne,overIndex:U,over:J,setNodeRef:x,setActivatorNodeRef:ae,setDroppableNodeRef:Ce,setDraggableNodeRef:Y,transform:Nn??Ee,transition:ft()};function ft(){if(Nn||Sn&&Ae.current.newIndex===X)return VS;if(!(P&&!gd(le)||!m)&&(B||At))return ti.Transition.toString({...m,property:Xm})}}function IS(r,n){var i,l;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(i=r?.draggable)!=null?i:n.draggable,droppable:(l=r?.droppable)!=null?l:n.droppable}}function Fl(r){if(!r)return!1;const n=r.data.current;return!!(n&&"sortable"in n&&typeof n.sortable=="object"&&"containerId"in n.sortable&&"items"in n.sortable&&"index"in n.sortable)}const XS=[Te.Down,Te.Right,Te.Up,Te.Left],Jm=(r,n)=>{let{context:{active:i,collisionRect:l,droppableRects:u,droppableContainers:d,over:f,scrollableAncestors:v}}=n;if(XS.includes(r.code)){if(r.preventDefault(),!i||!l)return;const g=[];d.getEnabled().forEach(b=>{if(!b||b!=null&&b.disabled)return;const _=u.get(b.id);if(_)switch(r.code){case Te.Down:l.top<_.top&&g.push(b);break;case Te.Up:l.top>_.top&&g.push(b);break;case Te.Left:l.left>_.left&&g.push(b);break;case Te.Right:l.left<_.left&&g.push(b);break}});const m=jw({collisionRect:l,droppableRects:u,droppableContainers:g});let p=Om(m,"id");if(p===f?.id&&m.length>1&&(p=m[1].id),p!=null){const b=d.get(i.id),_=d.get(p),E=_?u.get(_.id):null,j=_?.node.current;if(j&&E&&b&&_){const U=ro(j).some((Q,K)=>v[K]!==Q),$=Zm(b,_),L=QS(b,_),z=U||!$?{x:0,y:0}:{x:L?l.width-E.width:0,y:L?l.height-E.height:0},X={x:E.left,y:E.top};return z.x&&z.y?X:hs(X,z)}}}};function Zm(r,n){return!Fl(r)||!Fl(n)?!1:r.data.current.sortable.containerId===n.data.current.sortable.containerId}function QS(r,n){return!Fl(r)||!Fl(n)||!Zm(r,n)?!1:r.data.current.sortable.index<n.data.current.sortable.index}function JS({account:r,onEdit:n,onDelete:i,onToggleWorkbench:l}){const{attributes:u,listeners:d,setNodeRef:f,transform:v,transition:g,isDragging:m}=Qm({id:r.id}),p={transform:ti.Transform.toString(v),transition:g,zIndex:m?10:"auto",position:m?"relative":"static"};return S.jsxs("tr",{ref:f,style:p,className:`hover:bg-gray-50 transition-colors ${m?"bg-blue-50 shadow-lg opacity-80":"bg-white"}`,children:[S.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 flex items-center gap-2",children:[S.jsx("button",{...u,...d,className:"cursor-grab text-gray-400 hover:text-gray-600 active:cursor-grabbing p-1 flex-shrink-0",title:"Drag to reorder",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"9",cy:"12",r:"1"}),S.jsx("circle",{cx:"9",cy:"5",r:"1"}),S.jsx("circle",{cx:"9",cy:"19",r:"1"}),S.jsx("circle",{cx:"15",cy:"12",r:"1"}),S.jsx("circle",{cx:"15",cy:"5",r:"1"}),S.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),S.jsx("input",{type:"checkbox",checked:r.include_in_workbench!==!1,onChange:()=>l(r.id,r.include_in_workbench!==!1),className:"rounded text-blue-600 focus:ring-blue-500 mr-2",title:"Include in Workbench Calculation",onPointerDown:b=>b.stopPropagation(),onKeyDown:b=>b.stopPropagation()}),S.jsx("button",{onClick:()=>n(r),className:"hover:text-blue-600 hover:underline text-left truncate max-w-[120px] md:max-w-none",children:r.name})]}),S.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right text-gray-500 font-mono",children:["$",r.current_balance.toFixed(2)]}),S.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-right hidden sm:table-cell",children:S.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r.is_liability?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:r.is_liability?"Liability":"Asset"})}),S.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[S.jsx("button",{onClick:()=>n(r),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),S.jsx("button",{onClick:()=>i(r.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]})}function ZS({userId:r,onBalanceChange:n,onAccountsUpdate:i}){const[l,u]=R.useState([]),[d,f]=R.useState([]),[v,g]=R.useState(!0),[m,p]=R.useState(!1),[b,_]=R.useState(null),[E,j]=R.useState(""),[C,U]=R.useState(""),[$,L]=R.useState(!1),z=xm(Wl(so),Wl(io,{coordinateGetter:Jm}));R.useEffect(()=>{const W=localStorage.getItem("budget-manager-excluded-accounts");if(W)try{f(JSON.parse(W))}catch(Y){console.error("Failed to parse excluded accounts",Y)}X()},[]),R.useEffect(()=>{const W=l.filter(q=>!q.is_liability&&!d.includes(q.id)).reduce((q,J)=>q+J.current_balance,0),Y=l.filter(q=>q.is_liability&&!d.includes(q.id)).reduce((q,J)=>q+J.current_balance,0),A=W-Y;n(A),i&&i(l)},[l,d,n,i]);const X=async()=>{try{const{data:W,error:Y}=await Xe.from("accounts").select("*").order("sort_order",{ascending:!0}).order("name",{ascending:!0});if(Y)throw Y;u(W||[])}catch(W){console.error("Error fetching accounts:",W)}finally{g(!1)}},ee=async W=>{const{active:Y,over:A}=W;Y.id!==A?.id&&u(q=>{const J=q.findIndex(B=>B.id===Y.id),ae=q.findIndex(B=>B.id===A?.id),ge=uo(q,J,ae);return ge.map((B,I)=>({id:B.id,sort_order:I})).forEach(async B=>{await Xe.from("accounts").update({sort_order:B.sort_order}).eq("id",B.id)}),ge})},Q=(W,Y)=>{let A;Y?A=[...d,W]:A=d.filter(q=>q!==W),f(A),localStorage.setItem("budget-manager-excluded-accounts",JSON.stringify(A))},K=()=>{j(""),U(""),L(!1),p(!1),_(null)},ne=W=>{j(W.name),U(W.current_balance.toString()),L(W.is_liability),_(W.id),p(!0)},fe=async W=>{if(W.preventDefault(),!(!E||!C))try{if(b){const{error:Y}=await Xe.from("accounts").update({name:E,current_balance:parseFloat(C),is_liability:$}).eq("id",b);if(Y)throw Y;u(l.map(A=>A.id===b?{...A,name:E,current_balance:parseFloat(C),is_liability:$}:A))}else{const Y=l.length>0?Math.max(...l.map(J=>J.sort_order||0)):0,{data:A,error:q}=await Xe.from("accounts").insert([{user_id:r,name:E,current_balance:parseFloat(C),is_liability:$,sort_order:Y+1}]).select();if(q)throw q;A&&u([...l,A[0]])}K()}catch(Y){console.error("Error saving account:",Y),alert("Error saving account")}},Ce=async W=>{if(confirm("Are you sure you want to delete this account?"))try{const{error:Y}=await Xe.from("accounts").delete().eq("id",W);if(Y)throw Y;u(l.filter(A=>A.id!==W))}catch(Y){console.error("Error deleting account:",Y)}},Z=l.filter(W=>!W.is_liability).reduce((W,Y)=>W+Y.current_balance,0),le=l.filter(W=>W.is_liability).reduce((W,Y)=>W+Y.current_balance,0),me=Z-le;return v?S.jsx("div",{className:"text-gray-500",children:"Loading accounts..."}):S.jsxs("div",{className:"mb-8",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Accounts"}),S.jsx("button",{onClick:()=>{K(),p(!m)},className:"text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded hover:bg-blue-100 transition",children:m?"Cancel":"+ Add Account"})]}),m&&S.jsx("form",{onSubmit:fe,className:"bg-gray-50 p-4 rounded-lg mb-4 border border-gray-200",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Name"}),S.jsx("input",{type:"text",value:E,onChange:W=>j(W.target.value),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"e.g. Chase Checking",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Balance"}),S.jsx("input",{type:"number",step:"0.01",value:C,onChange:W=>U(W.target.value),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"0.00",required:!0})]}),S.jsx("div",{className:"flex items-center h-10",children:S.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 cursor-pointer",children:[S.jsx("input",{type:"checkbox",checked:$,onChange:W=>L(W.target.checked),className:"rounded text-blue-600 focus:ring-blue-500"}),S.jsx("span",{children:"Is Liability (Credit Card)"})]})}),S.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:b?"Update Account":"Save Account"})]})}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[S.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[S.jsx("div",{className:"text-xs text-green-600 uppercase font-bold",children:"Total Assets"}),S.jsxs("div",{className:"text-2xl font-bold text-green-700",children:["$",Z.toFixed(2)]})]}),S.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-100",children:[S.jsx("div",{className:"text-xs text-red-600 uppercase font-bold",children:"Total Liabilities"}),S.jsxs("div",{className:"text-2xl font-bold text-red-700",children:["$",le.toFixed(2)]})]}),S.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[S.jsx("div",{className:"text-xs text-blue-600 uppercase font-bold",children:"Net Worth"}),S.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:["$",me.toFixed(2)]})]})]}),S.jsx("div",{className:"bg-white border rounded-lg overflow-hidden overflow-x-auto",children:S.jsx($m,{sensors:z,collisionDetection:Rm,onDragEnd:ee,children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[S.jsx("thead",{className:"bg-gray-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),S.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),S.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider hidden sm:table-cell",children:"Type"}),S.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),S.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[S.jsx(Im,{items:l.map(W=>W.id),strategy:Vm,children:l.map(W=>S.jsx(JS,{account:{...W,include_in_workbench:!d.includes(W.id)},onEdit:ne,onDelete:Ce,onToggleWorkbench:Q},W.id))}),l.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No accounts added yet."})})]})]})})})]})}function WS({transaction:r,onToggleCalc:n,onDelete:i}){const{attributes:l,listeners:u,setNodeRef:d,transform:f,transition:v,isDragging:g}=Qm({id:r.id}),m={transform:ti.Transform.toString(f),transition:v,zIndex:g?10:"auto",position:g?"relative":"static"};return S.jsxs("tr",{ref:d,style:m,className:`${r.is_in_calc?"bg-white":"bg-gray-50 opacity-60"} ${g?"shadow-lg opacity-80 z-10":""}`,children:[S.jsxs("td",{className:"px-4 py-3 whitespace-nowrap flex items-center gap-2",children:[S.jsx("button",{...l,...u,className:"cursor-grab text-gray-400 hover:text-gray-600 active:cursor-grabbing p-1 flex-shrink-0",title:"Drag to reorder",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"9",cy:"12",r:"1"}),S.jsx("circle",{cx:"9",cy:"5",r:"1"}),S.jsx("circle",{cx:"9",cy:"19",r:"1"}),S.jsx("circle",{cx:"15",cy:"12",r:"1"}),S.jsx("circle",{cx:"15",cy:"5",r:"1"}),S.jsx("circle",{cx:"15",cy:"19",r:"1"})]})}),S.jsx("button",{onClick:()=>n(r.id,r.is_in_calc),className:`w-10 h-6 rounded-full transition-colors duration-200 ease-in-out relative focus:outline-none flex-shrink-0 ${r.is_in_calc?"bg-blue-600":"bg-gray-300"}`,children:S.jsx("span",{className:`absolute left-1 top-1 bg-white w-4 h-4 rounded-full transition-transform duration-200 ease-in-out ${r.is_in_calc?"translate-x-4":"translate-x-0"}`})})]}),S.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:r.due_date?new Date(r.due_date).toLocaleDateString():"-"}),S.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900 truncate max-w-[120px] md:max-w-none",children:r.description}),S.jsxs("td",{className:`px-4 py-3 whitespace-nowrap text-sm text-right font-mono font-medium ${r.amount>=0?"text-green-600":"text-red-600"}`,children:[r.amount>=0?"+":"",r.amount.toFixed(2)]}),S.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm font-medium",children:S.jsx("button",{onClick:()=>i(r.id),className:"text-red-400 hover:text-red-600",children:""})})]})}function Vl({userId:r,startingBalance:n,refreshTrigger:i,title:l="Forecasting Workbench",filterTag:u}){const[d,f]=R.useState([]),[v,g]=R.useState(!0),[m,p]=R.useState(""),[b,_]=R.useState(""),[E,j]=R.useState(""),[C,U]=R.useState(!1),$=xm(Wl(so),Wl(io,{coordinateGetter:Jm}));R.useEffect(()=>{L()},[i,u]);const L=async()=>{try{console.log(`Fetching transactions for ${l}. FilterTag: ${u}`);let Z=Xe.from("transactions").select("*").order("sort_order",{ascending:!0}).order("due_date",{ascending:!0}).order("created_at",{ascending:!1});u?Z=Z.eq("tag",u):Z=Z.is("tag",null);const{data:le,error:me}=await Z;if(me)throw console.error("Supabase Query Error:",me),me;f(le||[])}catch(Z){console.error("Error fetching transactions:",Z)}finally{g(!1)}},z=async Z=>{const{active:le,over:me}=Z;le.id!==me?.id&&f(W=>{const Y=W.findIndex(ae=>ae.id===le.id),A=W.findIndex(ae=>ae.id===me?.id),q=uo(W,Y,A);return q.map((ae,ge)=>({id:ae.id,sort_order:ge})).forEach(async ae=>{await Xe.from("transactions").update({sort_order:ae.sort_order}).eq("id",ae.id)}),q})},X=async Z=>{if(Z.preventDefault(),!m||!b)return;const le=parseFloat(b),me=C?Math.abs(le):-Math.abs(le),W=d.length>0?Math.max(...d.map(Y=>Y.sort_order||0)):0;try{const{data:Y,error:A}=await Xe.from("transactions").insert([{user_id:r,description:m,amount:me,status:"planning",is_in_calc:!0,due_date:E||null,sort_order:W+1,tag:u||null}]).select();if(A)throw A;Y&&(f([...d,Y[0]]),p(""),_(""),j(""),U(!1))}catch(Y){console.error("Error adding transaction:",Y)}},ee=async(Z,le)=>{f(d.map(me=>me.id===Z?{...me,is_in_calc:!le}:me));try{const{error:me}=await Xe.from("transactions").update({is_in_calc:!le}).eq("id",Z);if(me)throw me}catch(me){console.error("Error updating transaction:",me),L()}},Q=async Z=>{try{const{error:le}=await Xe.from("transactions").delete().eq("id",Z);if(le)throw le;f(d.filter(me=>me.id!==Z))}catch(le){console.error("Error deleting transaction:",le)}},K=d.filter(Z=>Z.is_in_calc),ne=K.filter(Z=>Z.amount>0).reduce((Z,le)=>Z+le.amount,0),fe=K.filter(Z=>Z.amount<0).reduce((Z,le)=>Z+le.amount,0),Ce=n+ne+fe;return v?S.jsx("div",{className:"text-gray-500",children:"Loading workbench..."}):S.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200 mb-8",children:[S.jsxs("div",{className:"bg-gray-800 text-white p-6",children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:l}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 text-center",children:[S.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[S.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Current"}),S.jsxs("div",{className:"text-xl font-mono font-bold",children:["$",n.toFixed(2)]})]}),S.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[S.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Income"}),S.jsxs("div",{className:"text-xl font-mono font-bold text-green-400",children:["+$",ne.toFixed(2)]})]}),S.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[S.jsx("div",{className:"text-xs text-gray-400 uppercase",children:"Expenses"}),S.jsxs("div",{className:"text-xl font-mono font-bold text-red-400",children:["-$",Math.abs(fe).toFixed(2)]})]}),S.jsxs("div",{className:"bg-blue-900 p-3 rounded-lg border border-blue-500 shadow-blue-500/50 shadow-sm",children:[S.jsx("div",{className:"text-xs text-blue-200 uppercase font-bold",children:"Projected"}),S.jsxs("div",{className:"text-2xl font-mono font-bold text-white",children:["$",Ce.toFixed(2)]})]})]})]}),S.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:S.jsxs("form",{onSubmit:X,className:"flex flex-col md:flex-row gap-3 items-end",children:[S.jsxs("div",{className:"flex-grow",children:[S.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),S.jsx("input",{type:"text",value:m,onChange:Z=>p(Z.target.value),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"e.g. Rent",required:!0})]}),S.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[S.jsxs("div",{className:"w-1/2 md:w-32",children:[S.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),S.jsx("input",{type:"number",step:"0.01",value:b,onChange:Z=>_(Z.target.value),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"0.00",required:!0})]}),S.jsxs("div",{className:"w-1/2 md:w-36",children:[S.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Due Date"}),S.jsx("input",{type:"date",value:E,onChange:Z=>j(Z.target.value),className:"w-full px-3 py-2 border rounded text-sm"})]})]}),S.jsx("div",{className:"flex items-center h-10 pb-1",children:S.jsxs("label",{className:"flex items-center space-x-2 text-sm text-gray-700 cursor-pointer select-none",children:[S.jsx("input",{type:"checkbox",checked:C,onChange:Z=>U(Z.target.checked),className:"rounded text-green-600 focus:ring-green-500"}),S.jsx("span",{className:C?"text-green-700 font-medium":"",children:"Income?"})]})}),S.jsx("button",{type:"submit",className:"bg-gray-800 text-white px-4 py-2 rounded text-sm hover:bg-gray-700 transition w-full md:w-auto",children:"Add"})]})}),S.jsx("div",{className:"overflow-x-auto",children:S.jsx($m,{sensors:$,collisionDetection:Rm,onDragEnd:z,children:S.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[S.jsx("thead",{className:"bg-gray-50",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10",children:"Calc"}),S.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),S.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),S.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),S.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),S.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[S.jsx(Im,{items:d.map(Z=>Z.id),strategy:Vm,children:d.map(Z=>S.jsx(WS,{transaction:Z,onToggleCalc:ee,onDelete:Q},Z.id))}),d.length===0&&S.jsx("tr",{children:S.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-sm text-gray-500",children:"No transactions found."})})]})]})})})]})}function PS({userId:r,onTransactionAdded:n}){const[i,l]=R.useState([]),[u,d]=R.useState(!0),[f,v]=R.useState(!1),[g,m]=R.useState(null),[p,b]=R.useState(!0),[_,E]=R.useState(""),[j,C]=R.useState(""),[U,$]=R.useState("monthly"),[L,z]=R.useState("");R.useEffect(()=>{X()},[]);const X=async()=>{try{const{data:Y,error:A}=await Xe.from("bill_templates").select("*").order("next_due_date",{ascending:!0,nullsFirst:!1}).order("name",{ascending:!0});if(A)throw A;l(Y||[])}catch(Y){console.error("Error fetching templates:",Y)}finally{d(!1)}},ee=()=>{E(""),C(""),$("monthly"),z(""),v(!1),m(null)},Q=Y=>{E(Y.name),C(Y.default_amount.toString()),$(Y.frequency),z(Y.next_due_date||""),m(Y.id),v(!0)},K=async Y=>{if(Y.preventDefault(),!(!_||!j))try{if(g){const{error:A}=await Xe.from("bill_templates").update({name:_,default_amount:parseFloat(j),frequency:U,next_due_date:L||null,last_advanced_at:L!==i.find(J=>J.id===g)?.next_due_date?null:i.find(J=>J.id===g)?.last_advanced_at}).eq("id",g);if(A)throw A;const q=i.map(J=>J.id===g?{...J,name:_,default_amount:parseFloat(j),frequency:U,next_due_date:L||null,last_advanced_at:L!==J.next_due_date?null:J.last_advanced_at}:J);q.sort((J,ae)=>J.next_due_date?ae.next_due_date?new Date(J.next_due_date+"T12:00:00").getTime()-new Date(ae.next_due_date+"T12:00:00").getTime():-1:1),l(q)}else{const{data:A,error:q}=await Xe.from("bill_templates").insert([{user_id:r,name:_,default_amount:parseFloat(j),frequency:U,next_due_date:L||null}]).select();if(q)throw q;if(A){const J=[...i,A[0]];J.sort((ae,ge)=>ae.next_due_date?ge.next_due_date?new Date(ae.next_due_date+"T12:00:00").getTime()-new Date(ge.next_due_date+"T12:00:00").getTime():-1:1),l(J)}}ee()}catch(A){console.error("Error saving template:",A),alert("Failed to save template.")}},ne=async Y=>{try{const A=-Math.abs(Y.default_amount),{error:q}=await Xe.from("transactions").insert([{user_id:r,description:Y.name,amount:A,status:"planning",is_in_calc:!0,due_date:Y.next_due_date||null}]);if(q)throw q;n()}catch(A){console.error("Error adding bill to workbench:",A)}},fe=async Y=>{if(!Y.next_due_date)return;const A=Y.next_due_date,q=new Date(Y.next_due_date),J=q.getTimezoneOffset()*6e4,ae=new Date(q.getTime()+J);let ge=new Date(ae);switch(Y.frequency){case"bi-weekly":ge.setDate(ae.getDate()+14);break;case"monthly":ge.setMonth(ae.getMonth()+1);break;case"quarterly":ge.setMonth(ae.getMonth()+3);break;case"annually":ge.setFullYear(ae.getFullYear()+1);break}const x=ge.toISOString().split("T")[0],B=i.map(I=>I.id===Y.id?{...I,next_due_date:x,last_advanced_at:A}:I);B.sort((I,P)=>I.next_due_date?P.next_due_date?new Date(I.next_due_date).getTime()-new Date(P.next_due_date).getTime():-1:1),l(B);try{const{error:I}=await Xe.from("bill_templates").update({next_due_date:x,last_advanced_at:A}).eq("id",Y.id);if(I)throw I}catch(I){console.error("Error advancing date:",I),X()}},Ce=async Y=>{if(confirm("Delete this template?"))try{const{error:A}=await Xe.from("bill_templates").delete().eq("id",Y);if(A)throw A;l(i.filter(q=>q.id!==Y))}catch(A){console.error("Error deleting template:",A)}},Z=Y=>{if(!Y)return"N/A";const[A,q,J]=Y.split("-");return`${parseInt(q)}/${parseInt(J)}/${A}`},le=Y=>{if(!Y)return null;const[A,q,J]=Y.split("-");return`${parseInt(q)}/${parseInt(J)}/${A}`},me=Y=>{switch(Y){case"bi-weekly":return"bg-purple-100 text-purple-800 border-purple-200";case"monthly":return"bg-blue-100 text-blue-800 border-blue-200";case"quarterly":return"bg-orange-100 text-orange-800 border-orange-200";case"annually":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},W=i.filter(Y=>p||Y.frequency!=="annually");return u?S.jsx("div",{className:"text-gray-500 text-sm",children:"Loading schedule..."}):S.jsxs("div",{className:"bg-white rounded-lg shadow p-3 h-full",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("h3",{className:"font-semibold text-gray-800",children:"Bill Schedule"}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>b(!p),className:`text-xs px-2 py-1 rounded transition border ${p?"bg-blue-50 text-blue-600 border-blue-200":"bg-gray-50 text-gray-500 border-gray-200"}`,title:p?"Hide Annual Bills":"Show Annual Bills",children:p?"Hide Annual":"Show Annual"}),S.jsx("button",{onClick:()=>{ee(),v(!f)},className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded transition",children:f?"Cancel":"+ New"})]})]}),f&&S.jsxs("form",{onSubmit:K,className:"mb-2 bg-gray-50 p-2 rounded border border-gray-200 text-sm space-y-2",children:[S.jsx("input",{type:"text",placeholder:"Name (e.g. Netflix)",className:"w-full px-2 py-1 border rounded",value:_,onChange:Y=>E(Y.target.value),required:!0}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("input",{type:"number",step:"0.01",placeholder:"Amount",className:"w-1/2 px-2 py-1 border rounded",value:j,onChange:Y=>C(Y.target.value),required:!0}),S.jsx("input",{type:"date",className:"w-1/2 px-2 py-1 border rounded",value:L,onChange:Y=>z(Y.target.value)})]}),S.jsxs("select",{className:"w-full px-2 py-1 border rounded",value:U,onChange:Y=>$(Y.target.value),children:[S.jsx("option",{value:"bi-weekly",children:"Bi-Weekly (14 days)"}),S.jsx("option",{value:"monthly",children:"Monthly"}),S.jsx("option",{value:"quarterly",children:"Quarterly"}),S.jsx("option",{value:"annually",children:"Annually"})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-1 rounded hover:bg-blue-700",children:g?"Update Template":"Save Template"})]}),S.jsxs("div",{className:"space-y-1",children:[W.map(Y=>S.jsx("div",{className:"p-2 hover:bg-gray-50 rounded border border-transparent hover:border-gray-200 group transition",children:S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsxs("div",{className:"cursor-pointer hover:text-blue-600 flex-1 min-w-0 pr-2",onClick:()=>Q(Y),children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-medium text-gray-800 text-sm truncate",children:Y.name}),S.jsxs("span",{className:"font-mono text-sm text-gray-700 whitespace-nowrap",children:["$",Y.default_amount.toFixed(2)]})]}),S.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[S.jsx("span",{className:`text-[10px] px-1.5 py-0 rounded-full border ${me(Y.frequency)} whitespace-nowrap`,children:Y.frequency}),S.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:["Due: ",S.jsx("span",{className:"font-medium",children:Z(Y.next_due_date)})]}),Y.last_advanced_at&&S.jsxs("span",{className:"text-[10px] text-gray-400 italic whitespace-nowrap",children:["(Paid: ",le(Y.last_advanced_at),")"]})]})]}),S.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[S.jsx("button",{onClick:()=>fe(Y),className:"text-xs bg-gray-100 hover:bg-blue-100 text-gray-600 hover:text-blue-600 px-2 py-1 rounded transition",title:`Advance date (${Y.frequency})`,disabled:!Y.next_due_date,children:""}),S.jsx("button",{onClick:()=>ne(Y),className:"text-xs bg-blue-50 text-blue-600 px-2 py-1 rounded hover:bg-blue-100 font-medium",title:"Add to Workbench",children:"Add"}),S.jsxs("div",{className:"hidden group-hover:flex gap-1 ml-1 border-l pl-1 border-gray-200",children:[S.jsx("button",{onClick:()=>Q(Y),className:"text-gray-300 hover:text-blue-500 px-1",title:"Edit Template",children:""}),S.jsx("button",{onClick:()=>Ce(Y.id),className:"text-gray-300 hover:text-red-500 px-1",title:"Delete Template",children:""})]})]})]})},Y.id)),W.length===0&&!f&&S.jsx("p",{className:"text-xs text-gray-400 text-center py-4",children:"No templates yet."})]})]})}var lt=function(){return lt=Object.assign||function(n){for(var i,l=1,u=arguments.length;l<u;l++){i=arguments[l];for(var d in i)Object.prototype.hasOwnProperty.call(i,d)&&(n[d]=i[d])}return n},lt.apply(this,arguments)};function co(r,n){var i={};for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&n.indexOf(l)<0&&(i[l]=r[l]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(r);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(r,l[u])&&(i[l[u]]=r[l[u]]);return i}function em(r){if(r){var n=r.textContent,i=/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/;r.style.direction=n&&i.test(n[0])?"rtl":"ltr"}}function Wm(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.filter(Boolean).join(" ")}function FS(){if(document.selection)return document.selection.createRange().parentElement();var r=window.getSelection();if(r&&r.rangeCount>0)return r.getRangeAt(0).startContainer.parentNode||void 0}function tm(r){return typeof r=="string"?r.replace(/&nbsp;|\u202F|\u00A0/g," ").replace(/<br \/>/g,"<br>"):String(r)}function eE(r){var n=document.createTextNode("");r.appendChild(n);var i=document.activeElement===r;if(n!==null&&n.nodeValue!==null&&i){var l=window.getSelection();if(l!==null){var u=document.createRange();u.setStart(n,n.nodeValue.length),u.collapse(!0),l.removeAllRanges(),l.addRange(u)}r instanceof HTMLElement&&r.focus()}}function Pm(r,n){typeof n=="function"?n(r):typeof n=="object"&&n&&(n.current=r)}var tE=F.memo(F.forwardRef(function(n,i){var l=n.className,u=n.disabled,d=n.tagName,f=n.value,v=f===void 0?"":f,g=n.placeholder,m=co(n,["className","disabled","tagName","value","placeholder"]),p=F.useRef(null),b=F.useRef(v),_=F.useRef(m);return F.useEffect(function(){_.current=m;var E=p.current;E&&tm(b.current)!==tm(v)&&(b.current=v,E.innerHTML=v,eE(E))}),F.useMemo(function(){function E(U){p.current=U,em(U),Pm(U,i)}function j(U){var $,L,z=p.current;if(z){var X=z.innerHTML;X!==b.current&&((L=($=_.current).onChange)===null||L===void 0||L.call($,lt(lt({},U),{target:{value:X,name:m.name}}))),em(z),b.current=X}}var C=Wm("rsw-ce",l);return F.createElement(d||"div",lt(lt({},m),{className:C,contentEditable:!u,dangerouslySetInnerHTML:{__html:v},onBlur:function(U){return(_.current.onBlur||j)(U)},onInput:j,onKeyDown:function(U){return(_.current.onKeyDown||j)(U)},onKeyUp:function(U){return(_.current.onKeyUp||j)(U)},placeholder:g,ref:E}))},[l,u,g,d])})),Fm=F.createContext(void 0);function ey(r){var n=r.children,i=F.useState({htmlMode:!1,update:d}),l=i[0],u=i[1];function d(f){u(function(v){return lt(lt({},v),f)})}return F.createElement(Fm.Provider,{value:l},n)}function bs(){var r=F.useContext(Fm);if(!r)throw new Error("You should wrap your component by EditorProvider");return r}var nm=[],Pi=[];function nE(r,n){if(r&&typeof document<"u"){var i,l=n.prepend===!0?"prepend":"append",u=n.singleTag===!0,d=typeof n.container=="string"?document.querySelector(n.container):document.getElementsByTagName("head")[0];if(u){var f=nm.indexOf(d);f===-1&&(f=nm.push(d)-1,Pi[f]={}),i=Pi[f]&&Pi[f][l]?Pi[f][l]:Pi[f][l]=v()}else i=v();r.charCodeAt(0)===65279&&(r=r.substring(1)),i.styleSheet?i.styleSheet.cssText+=r:i.appendChild(document.createTextNode(r))}function v(){var g=document.createElement("style");if(g.setAttribute("type","text/css"),n.attributes)for(var m=Object.keys(n.attributes),p=0;p<m.length;p++)g.setAttribute(m[p],n.attributes[m[p]]);var b=l==="prepend"?"afterbegin":"beforeend";return d.insertAdjacentElement(b,g),g}}var aE=".rsw-editor{border:1px solid #ddd;border-radius:.375rem;display:flex;flex-direction:column;min-height:100px;overflow:hidden}.rsw-ce{flex:1 1 auto;overflow:auto;padding:.5rem}.rsw-ce:focus{outline:1px solid #668}.rsw-ce[contentEditable=true]:empty:not(:focus):before{color:grey;content:attr(placeholder);pointer-events:none}.rsw-html{background:transparent;border:none;font-family:monospace,Courier New}.rsw-separator{align-self:stretch;border-right:1px solid #ddd;display:flex;margin:0 3px}.rsw-dd{box-sizing:border-box;outline:none}.rsw-btn{background:transparent;border:0;color:#222;cursor:pointer;font-size:1em;height:2em;outline:none;padding:0;width:2em}.rsw-btn:hover{background:#eaeaea}.rsw-btn[data-active=true]{background:#e0e0e0}.rsw-toolbar{align-items:center;background-color:#f5f5f5;border-bottom:1px solid #ddd;display:flex}";nE(aE,{});var ty=F.forwardRef(function(n,i){var l=n.autoFocus,u=n.children,d=n.containerProps,f=n.onSelect,v=co(n,["autoFocus","children","containerProps","onSelect"]),g=bs();F.useEffect(function(){return document.addEventListener("click",m),function(){return document.removeEventListener("click",m)}});function m(E){var j;E.target!==g.$el&&(!((j=g.$el)===null||j===void 0)&&j.contains(E.target)||g.update({$selection:void 0}))}function p(E){f?.(E),g.update({$selection:FS()})}function b(E){g.update({$el:E}),Pm(E,i),l&&E&&g.$el===void 0&&E.focus()}var _=Wm("rsw-editor",d?.className);return g.htmlMode?F.createElement("div",lt({},d,{className:_}),u,F.createElement("textarea",lt({},v,{className:"rsw-ce rsw-html"}))):F.createElement("div",lt({},d,{className:_}),u,F.createElement(tE,lt({},v,{ref:b,onSelect:p})))});function rE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},F.createElement("path",{fill:"currentColor",d:"M6.99938 12.998v-2H20.9994v2H6.99938zm0 6.0001v-2H20.9994v2H6.99938zm0-12.00001v-2H20.9994v2H6.99938zm-4 1v-3h-1v-1h2v4h-1zm-1 9.00001v-1h3v4h-3v-1h2v-.5h-1v-1h1v-.5h-2zM4.25 10c.41421 0 .75.3358.75.75 0 .2024-.08017.3861-.2105.521L3.11983 13H5v1H2v-.9218L4 11H2v-1h2.25z"}))}function iE(){return F.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},F.createElement("path",{fill:"currentColor",d:"M7 5h14v2H7V5zm0 8v-2h14v2H7zM4 4.50001c.83 0 1.5.66992 1.5 1.5 0 .83007-.67 1.5-1.5 1.5s-1.5-.66993-1.5-1.5c0-.83008.67-1.5 1.5-1.5zM4 10.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM7 19v-2h14v2H7zm-3-2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5z"}))}var ny=Dn("Bold","","bold"),ay=Dn("Bullet list",F.createElement(iE,null),"insertUnorderedList"),ry=Dn("Clear formatting","T","removeFormat"),iy=Dn("Italic","","italic"),sy=Dn("Strike through",F.createElement("s",null,"ab"),"strikeThrough"),ly=Dn("Link","",function(r){var n=r.$selection;n?.nodeName==="A"?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL","")||void 0)}),oy=Dn("Numbered list",F.createElement(rE,null),"insertOrderedList"),uy=Dn("Redo","","redo"),cy=Dn("Underline",F.createElement("span",{style:{textDecoration:"underline"}},""),"underline"),dy=Dn("Undo","","undo");function Dn(r,n,i){return l.displayName=r.replace(/\s/g,""),l;function l(u){var d=bs(),f=d.$el,v=function(){return!!f?.contains(document.activeElement)},g=!1;typeof i=="string"&&(g=v()&&document.queryCommandState(i));function m(p){p.preventDefault(),v()||f?.focus(),typeof i=="function"?i(d):document.execCommand(i)}return d.htmlMode?null:F.createElement("button",lt({className:"rsw-btn","data-active":g,onMouseDown:m,tabIndex:-1,title:r,type:"button"},u),n)}}var sE=lE("Styles",[["Normal","formatBlock","DIV"],[" ","formatBlock","H1"],["Header 2","formatBlock","H2"],["","formatBlock","PRE"]]);function lE(r,n){return i.displayName=r,i;function i(l){var u=bs(),d=u.$el,f=u.$selection,v=u.htmlMode;if(v)return null;var g=n.findIndex(function(p){return p[1]==="formatBlock"&&f?.nodeName===p[2]});return F.createElement(oE,lt({},l,{items:n,onChange:m,selected:g,tabIndex:-1,title:r}));function m(p){var b=p.target,_=b.value,E=parseInt(_,10),j=n[E]||[],C=j[1],U=j[2];p.preventDefault(),document.activeElement!==d&&d?.focus(),typeof C=="function"?C(u):C&&document.execCommand(C,!1,U),setTimeout(function(){return b.value=_},10)}}}function oE(r){var n=r.items,i=r.selected,l=co(r,["items","selected"]);return F.createElement("select",lt({className:"rsw-dd"},l,{value:i}),F.createElement("option",{hidden:!0},l.title),n.map(function(u,d){return F.createElement("option",{key:u[2],value:d},u[0])}))}function uE(r){var n=co(r,[]),i=bs();function l(){i.update({htmlMode:!i.htmlMode})}return F.createElement("button",lt({className:"rsw-btn","data-active":i.htmlMode,onClick:l,tabIndex:-1,title:"HTML mode",type:"button"},n),"</>")}function Yl(r){var n=bs();return n.htmlMode?null:F.createElement("div",lt({className:"rsw-separator"},r))}function fy(r){return F.createElement("div",lt({className:"rsw-toolbar"},r))}F.forwardRef(function(n,i){return F.createElement(ey,null,F.createElement(ty,lt({},n,{ref:i}),n.children||F.createElement(fy,null,F.createElement(dy,null),F.createElement(uy,null),F.createElement(Yl,null),F.createElement(ny,null),F.createElement(iy,null),F.createElement(cy,null),F.createElement(sy,null),F.createElement(Yl,null),F.createElement(oy,null),F.createElement(ay,null),F.createElement(Yl,null),F.createElement(ly,null),F.createElement(ry,null),F.createElement(uE,null),F.createElement(Yl,null),F.createElement(sE,null))))});function cE({userId:r}){const[n,i]=R.useState(""),[l,u]=R.useState(!0),[d,f]=R.useState(!1),[v,g]=R.useState(null);R.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:b,error:_}=await Xe.from("notes").select("content, updated_at").eq("user_id",r).single();if(_&&_.code!=="PGRST116")throw _;b&&(i(b.content||""),g(new Date(b.updated_at)))}catch(b){console.error("Error fetching notes:",b)}finally{u(!1)}},p=async b=>{f(!0);try{const{error:_}=await Xe.from("notes").upsert({user_id:r,content:b,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(_)throw _;g(new Date)}catch(_){console.error("Error saving notes:",_)}finally{f(!1)}};return R.useEffect(()=>{if(l)return;const b=setTimeout(()=>{p(n)},2e3);return()=>clearTimeout(b)},[n]),l?S.jsx("div",{className:"text-gray-500",children:"Loading notes..."}):S.jsxs("div",{className:"bg-white rounded-lg shadow p-4 h-full flex flex-col",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("h3",{className:"font-semibold text-gray-800",children:"Shared Notes"}),S.jsx("div",{className:"text-xs text-gray-400",children:d?"Saving...":v?`Saved ${v.toLocaleTimeString()}`:""})]}),S.jsx("div",{className:"flex-grow border rounded-md overflow-hidden",children:S.jsx(ey,{children:S.jsx(ty,{value:n,onChange:b=>i(b.target.value),containerProps:{style:{height:"300px",overflowY:"auto"}},children:S.jsxs(fy,{children:[S.jsx(dy,{}),S.jsx(uy,{}),S.jsx(ny,{}),S.jsx(iy,{}),S.jsx(cy,{}),S.jsx(sy,{}),S.jsx(ay,{}),S.jsx(oy,{}),S.jsx(ly,{}),S.jsx(ry,{})]})})})})]})}function dE(){const[r,n]=R.useState(null),[i,l]=R.useState(!0),[u,d]=R.useState(null),[f,v]=R.useState(0),[g,m]=R.useState(0),[p,b]=R.useState(!1),[_,E]=R.useState([]);R.useEffect(()=>{console.log("App mounted, checking session..."),(async()=>{try{const{data:L,error:z}=await Xe.auth.getSession();z?(console.error("Error getting session:",z),d(z.message)):(console.log("Session retrieved:",L.session?"Found":"None"),n(L.session))}catch(L){console.error("Unexpected error checking session:",L),d(L.message||"Unknown error")}finally{l(!1)}})();const{data:{subscription:$}}=Xe.auth.onAuthStateChange((L,z)=>{console.log("Auth state changed:",L),n(z),l(!1)});return()=>$.unsubscribe()},[]);const j=(U,$=!1)=>{let L=_.find(z=>z.name.toLowerCase().includes(U.toLowerCase())&&z.is_liability===$);return L||(L=_.find(z=>z.name.toLowerCase().includes(U.toLowerCase()))),L?L.is_liability?-Math.abs(L.current_balance):L.current_balance:0},C=(U,$=!1)=>{let L=_.find(z=>z.name.toLowerCase().includes(U.toLowerCase())&&z.is_liability===$);return L||(L=_.find(z=>z.name.toLowerCase().includes(U.toLowerCase()))),L?.id};return u?S.jsxs("div",{className:"p-4 text-red-600",children:[S.jsx("h1",{children:"Fatal Error"}),S.jsx("p",{children:u})]}):i?S.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:S.jsx("div",{className:"text-xl text-gray-600",children:"Loading... (Check Console)"})}):r?S.jsx("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:S.jsxs("div",{className:"max-w-7xl mx-auto",children:[S.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 md:mb-8 gap-4",children:[S.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Budget Workbench"}),S.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto justify-between md:justify-end",children:[S.jsx("span",{className:"text-xs md:text-sm text-gray-600 truncate max-w-[150px]",children:r.user.email}),S.jsx("button",{onClick:()=>Xe.auth.signOut(),className:"px-3 py-1.5 md:px-4 md:py-2 text-xs md:text-sm text-red-600 hover:bg-red-50 rounded-md transition-colors border border-red-200 md:border-transparent",children:"Sign Out"})]})]}),S.jsx(ZS,{userId:r.user.id,onBalanceChange:v,onAccountsUpdate:E}),S.jsx("div",{className:"flex justify-end mb-4",children:S.jsx("button",{onClick:()=>b(!p),className:"text-xs md:text-sm bg-white border border-gray-300 text-gray-700 px-3 py-2 rounded hover:bg-gray-50 transition shadow-sm w-full md:w-auto",children:p?"Hide Credit Card Workbenches":"Show Credit Card Workbenches"})}),S.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[S.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[S.jsx(Vl,{userId:r.user.id,startingBalance:f,refreshTrigger:g,title:"Main Cash Flow"}),p&&S.jsxs("div",{className:"space-y-8",children:[S.jsx(Vl,{userId:r.user.id,startingBalance:j("CMW",!0),refreshTrigger:g,title:"Credit Card - CMW (3619)",filterTag:"cc_1",accountId:C("CMW",!0)}),S.jsx(Vl,{userId:r.user.id,startingBalance:j("JGW",!0),refreshTrigger:g,title:"Credit Card - JGW (9299)",filterTag:"cc_2",accountId:C("JGW",!0)}),S.jsx(Vl,{userId:r.user.id,startingBalance:j("SAMS",!0),refreshTrigger:g,title:"Credit Card - SAMS (1261)",filterTag:"cc_3",accountId:C("SAMS",!0)})]})]}),S.jsx("div",{className:"lg:col-span-1",children:S.jsx("div",{className:"sticky top-4",children:S.jsx(PS,{userId:r.user.id,onTransactionAdded:()=>m(U=>U+1)})})})]}),S.jsx("div",{className:"mt-8",children:S.jsx(cE,{userId:r.user.id})})]})}):S.jsx(gw,{})}U0.createRoot(document.getElementById("root")).render(S.jsx(R.StrictMode,{children:S.jsx(dE,{})}));
